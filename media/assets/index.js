(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const De={},er=[],$t=()=>{},u_=()=>!1,uo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gf=e=>e.startsWith("onUpdate:"),Je=Object.assign,jf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},W1=Object.prototype.hasOwnProperty,Ae=(e,t)=>W1.call(e,t),ve=Array.isArray,tr=e=>lo(e)==="[object Map]",l_=e=>lo(e)==="[object Set]",he=e=>typeof e=="function",Ve=e=>typeof e=="string",un=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",c_=e=>(ke(e)||he(e))&&he(e.then)&&he(e.catch),f_=Object.prototype.toString,lo=e=>f_.call(e),X1=e=>lo(e).slice(8,-1),d_=e=>lo(e)==="[object Object]",co=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$r=Vf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Z1=/-\w/g,mt=fo(e=>e.replace(Z1,t=>t.slice(1).toUpperCase())),J1=/\B([A-Z])/g,In=fo(e=>e.replace(J1,"-$1").toLowerCase()),ho=fo(e=>e.charAt(0).toUpperCase()+e.slice(1)),ea=fo(e=>e?`on${ho(e)}`:""),en=(e,t)=>!Object.is(e,t),ta=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},h_=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Q1=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fd;const vo=()=>Fd||(Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function st(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ve(r)?rw(r):st(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(Ve(e)||ke(e))return e}const ew=/;(?![^(]*\))/g,tw=/:([^]+)/,nw=/\/\*[^]*?\*\//g;function rw(e){const t={};return e.replace(nw,"").split(ew).forEach(n=>{if(n){const r=n.split(tw);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function St(e){let t="";if(Ve(e))t=e;else if(ve(e))for(let n=0;n<e.length;n++){const r=St(e[n]);r&&(t+=r+" ")}else if(ke(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const iw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ow=Vf(iw);function v_(e){return!!e||e===""}const p_=e=>!!(e&&e.__v_isRef===!0),vt=e=>Ve(e)?e:e==null?"":ve(e)||ke(e)&&(e.toString===f_||!he(e.toString))?p_(e)?vt(e.value):JSON.stringify(e,g_,2):String(e),g_=(e,t)=>p_(t)?g_(e,t.value):tr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[na(r,o)+" =>"]=i,n),{})}:l_(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>na(n))}:un(t)?na(t):ke(t)&&!ve(t)&&!d_(t)?String(t):t,na=(e,t="")=>{var n;return un(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class m_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=tt;try{return tt=this,t()}finally{tt=n}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function y_(e){return new m_(e)}function Uf(){return tt}function Ri(e,t=!1){tt&&tt.cleanups.push(e)}let $e;const ra=new WeakSet;class __{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ra.has(this)&&(ra.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||w_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bd(this),E_(this);const t=$e,n=xt;$e=this,xt=!0;try{return this.fn()}finally{x_(this),$e=t,xt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Wf(t);this.deps=this.depsTail=void 0,Bd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ra.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gf(this)&&this.run()}get dirty(){return gf(this)}}let b_=0,kr,Lr;function w_(e,t=!1){if(e.flags|=8,t){e.next=Lr,Lr=e;return}e.next=kr,kr=e}function Kf(){b_++}function Yf(){if(--b_>0)return;if(Lr){let t=Lr;for(Lr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;kr;){let t=kr;for(kr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function E_(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function x_(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Wf(r),aw(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function gf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(S_(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function S_(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ur)||(e.globalVersion=Ur,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!gf(e))))return;e.flags|=2;const t=e.dep,n=$e,r=xt;$e=e,xt=!0;try{E_(e);const i=e.fn(e._value);(t.version===0||en(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{$e=n,xt=r,x_(e),e.flags&=-3}}function Wf(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Wf(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function aw(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let xt=!0;const C_=[];function tn(){C_.push(xt),xt=!1}function nn(){const e=C_.pop();xt=e===void 0?!0:e}function Bd(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=$e;$e=void 0;try{t()}finally{$e=n}}}let Ur=0;class sw{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class po{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!xt||$e===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==$e)n=this.activeLink=new sw($e,this),$e.deps?(n.prevDep=$e.depsTail,$e.depsTail.nextDep=n,$e.depsTail=n):$e.deps=$e.depsTail=n,I_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=$e.depsTail,n.nextDep=void 0,$e.depsTail.nextDep=n,$e.depsTail=n,$e.deps===n&&($e.deps=r)}return n}trigger(t){this.version++,Ur++,this.notify(t)}notify(t){Kf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Yf()}}}function I_(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)I_(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Fi=new WeakMap,$n=Symbol(""),mf=Symbol(""),Kr=Symbol("");function nt(e,t,n){if(xt&&$e){let r=Fi.get(e);r||Fi.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new po),i.map=r,i.key=n),i.track()}}function Kt(e,t,n,r,i,o){const a=Fi.get(e);if(!a){Ur++;return}const s=u=>{u&&u.trigger()};if(Kf(),t==="clear")a.forEach(s);else{const u=ve(e),c=u&&co(n);if(u&&n==="length"){const l=Number(r);a.forEach((f,d)=>{(d==="length"||d===Kr||!un(d)&&d>=l)&&s(f)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),c&&s(a.get(Kr)),t){case"add":u?c&&s(a.get("length")):(s(a.get($n)),tr(e)&&s(a.get(mf)));break;case"delete":u||(s(a.get($n)),tr(e)&&s(a.get(mf)));break;case"set":tr(e)&&s(a.get($n));break}}Yf()}function uw(e,t){const n=Fi.get(e);return n&&n.get(t)}function Wn(e){const t=Ce(e);return t===e?t:(nt(t,"iterate",Kr),pt(e)?t:t.map(Ct))}function go(e){return nt(e=Ce(e),"iterate",Kr),e}function gn(e,t){return rn(e)?ur(kn(e)?Ct(t):t):Ct(t)}const lw={__proto__:null,[Symbol.iterator](){return ia(this,Symbol.iterator,e=>gn(this,e))},concat(...e){return Wn(this).concat(...e.map(t=>ve(t)?Wn(t):t))},entries(){return ia(this,"entries",e=>(e[1]=gn(this,e[1]),e))},every(e,t){return Vt(this,"every",e,t,void 0,arguments)},filter(e,t){return Vt(this,"filter",e,t,n=>n.map(r=>gn(this,r)),arguments)},find(e,t){return Vt(this,"find",e,t,n=>gn(this,n),arguments)},findIndex(e,t){return Vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vt(this,"findLast",e,t,n=>gn(this,n),arguments)},findLastIndex(e,t){return Vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return oa(this,"includes",e)},indexOf(...e){return oa(this,"indexOf",e)},join(e){return Wn(this).join(e)},lastIndexOf(...e){return oa(this,"lastIndexOf",e)},map(e,t){return Vt(this,"map",e,t,void 0,arguments)},pop(){return Er(this,"pop")},push(...e){return Er(this,"push",e)},reduce(e,...t){return zd(this,"reduce",e,t)},reduceRight(e,...t){return zd(this,"reduceRight",e,t)},shift(){return Er(this,"shift")},some(e,t){return Vt(this,"some",e,t,void 0,arguments)},splice(...e){return Er(this,"splice",e)},toReversed(){return Wn(this).toReversed()},toSorted(e){return Wn(this).toSorted(e)},toSpliced(...e){return Wn(this).toSpliced(...e)},unshift(...e){return Er(this,"unshift",e)},values(){return ia(this,"values",e=>gn(this,e))}};function ia(e,t,n){const r=go(e),i=r[t]();return r!==e&&!pt(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.done||(o.value=n(o.value)),o}),i}const cw=Array.prototype;function Vt(e,t,n,r,i,o){const a=go(e),s=a!==e&&!pt(e),u=a[t];if(u!==cw[t]){const f=u.apply(e,o);return s?Ct(f):f}let c=n;a!==e&&(s?c=function(f,d){return n.call(this,gn(e,f),d,e)}:n.length>2&&(c=function(f,d){return n.call(this,f,d,e)}));const l=u.call(a,c,r);return s&&i?i(l):l}function zd(e,t,n,r){const i=go(e);let o=n;return i!==e&&(pt(e)?n.length>3&&(o=function(a,s,u){return n.call(this,a,s,u,e)}):o=function(a,s,u){return n.call(this,a,gn(e,s),u,e)}),i[t](o,...r)}function oa(e,t,n){const r=Ce(e);nt(r,"iterate",Kr);const i=r[t](...n);return(i===-1||i===!1)&&yo(n[0])?(n[0]=Ce(n[0]),r[t](...n)):i}function Er(e,t,n=[]){tn(),Kf();const r=Ce(e)[t].apply(e,n);return Yf(),nn(),r}const fw=Vf("__proto__,__v_isRef,__isVue"),T_=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(un));function dw(e){un(e)||(e=String(e));const t=Ce(this);return nt(t,"has",e),t.hasOwnProperty(e)}class N_{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?Ew:P_:o?R_:M_).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=ve(t);if(!i){let u;if(a&&(u=lw[n]))return u;if(n==="hasOwnProperty")return dw}const s=Reflect.get(t,n,He(t)?t:r);if((un(n)?T_.has(n):fw(n))||(i||nt(t,"get",n),o))return s;if(He(s)){const u=a&&co(n)?s:s.value;return i&&ke(u)?Bi(u):u}return ke(s)?i?Bi(s):mo(s):s}}class A_ extends N_{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];const a=ve(t)&&co(n);if(!this._isShallow){const c=rn(o);if(!pt(r)&&!rn(r)&&(o=Ce(o),r=Ce(r)),!a&&He(o)&&!He(r))return c||(o.value=r),!0}const s=a?Number(n)<t.length:Ae(t,n),u=Reflect.set(t,n,r,He(t)?t:i);return t===Ce(i)&&(s?en(r,o)&&Kt(t,"set",n,r):Kt(t,"add",n,r)),u}deleteProperty(t,n){const r=Ae(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Kt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!un(n)||!T_.has(n))&&nt(t,"has",n),r}ownKeys(t){return nt(t,"iterate",ve(t)?"length":$n),Reflect.ownKeys(t)}}class hw extends N_{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const vw=new A_,pw=new hw,gw=new A_(!0);const yf=e=>e,pi=e=>Reflect.getPrototypeOf(e);function mw(e,t,n){return function(...r){const i=this.__v_raw,o=Ce(i),a=tr(o),s=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,c=i[e](...r),l=n?yf:t?ur:Ct;return!t&&nt(o,"iterate",u?mf:$n),Je(Object.create(c),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:s?[l(f[0]),l(f[1])]:l(f),done:d}}})}}function gi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yw(e,t){const n={get(i){const o=this.__v_raw,a=Ce(o),s=Ce(i);e||(en(i,s)&&nt(a,"get",i),nt(a,"get",s));const{has:u}=pi(a),c=t?yf:e?ur:Ct;if(u.call(a,i))return c(o.get(i));if(u.call(a,s))return c(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!e&&nt(Ce(i),"iterate",$n),i.size},has(i){const o=this.__v_raw,a=Ce(o),s=Ce(i);return e||(en(i,s)&&nt(a,"has",i),nt(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,u=Ce(s),c=t?yf:e?ur:Ct;return!e&&nt(u,"iterate",$n),s.forEach((l,f)=>i.call(o,c(l),c(f),a))}};return Je(n,e?{add:gi("add"),set:gi("set"),delete:gi("delete"),clear:gi("clear")}:{add(i){!t&&!pt(i)&&!rn(i)&&(i=Ce(i));const o=Ce(this);return pi(o).has.call(o,i)||(o.add(i),Kt(o,"add",i,i)),this},set(i,o){!t&&!pt(o)&&!rn(o)&&(o=Ce(o));const a=Ce(this),{has:s,get:u}=pi(a);let c=s.call(a,i);c||(i=Ce(i),c=s.call(a,i));const l=u.call(a,i);return a.set(i,o),c?en(o,l)&&Kt(a,"set",i,o):Kt(a,"add",i,o),this},delete(i){const o=Ce(this),{has:a,get:s}=pi(o);let u=a.call(o,i);u||(i=Ce(i),u=a.call(o,i)),s&&s.call(o,i);const c=o.delete(i);return u&&Kt(o,"delete",i,void 0),c},clear(){const i=Ce(this),o=i.size!==0,a=i.clear();return o&&Kt(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=mw(i,e,t)}),n}function Xf(e,t){const n=yw(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ae(n,i)&&i in r?n:r,i,o)}const _w={get:Xf(!1,!1)},bw={get:Xf(!1,!0)},ww={get:Xf(!0,!1)};const M_=new WeakMap,R_=new WeakMap,P_=new WeakMap,Ew=new WeakMap;function xw(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sw(e){return e.__v_skip||!Object.isExtensible(e)?0:xw(X1(e))}function mo(e){return rn(e)?e:Zf(e,!1,vw,_w,M_)}function Cw(e){return Zf(e,!1,gw,bw,R_)}function Bi(e){return Zf(e,!0,pw,ww,P_)}function Zf(e,t,n,r,i){if(!ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Sw(e);if(o===0)return e;const a=i.get(e);if(a)return a;const s=new Proxy(e,o===2?r:n);return i.set(e,s),s}function kn(e){return rn(e)?kn(e.__v_raw):!!(e&&e.__v_isReactive)}function rn(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function yo(e){return e?!!e.__v_raw:!1}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function Fr(e){return!Ae(e,"__v_skip")&&Object.isExtensible(e)&&h_(e,"__v_skip",!0),e}const Ct=e=>ke(e)?mo(e):e,ur=e=>ke(e)?Bi(e):e;function He(e){return e?e.__v_isRef===!0:!1}function Me(e){return O_(e,!1)}function wn(e){return O_(e,!0)}function O_(e,t){return He(e)?e:new Iw(e,t)}class Iw{constructor(t,n){this.dep=new po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ce(t),this._value=n?t:Ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||pt(t)||rn(t);t=r?t:Ce(t),en(t,n)&&(this._rawValue=t,this._value=r?t:Ct(t),this.dep.trigger())}}function Q(e){return He(e)?e.value:e}function we(e){return he(e)?e():Q(e)}const Tw={get:(e,t,n)=>t==="__v_raw"?e:Q(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return He(i)&&!He(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function q_(e){return kn(e)?e:new Proxy(e,Tw)}class Nw{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new po,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Aw(e){return new Nw(e)}function Mw(e){const t=ve(e)?new Array(e.length):{};for(const n in e)t[n]=D_(e,n);return t}class Rw{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Ce(t);let i=!0,o=t;if(!ve(t)||!co(String(n)))do i=!yo(o)||pt(o);while(i&&(o=o.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=Q(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&He(this._raw[this._key])){const n=this._object[this._key];if(He(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return uw(this._raw,this._key)}}class Pw{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Pe(e,t,n){return He(e)?e:he(e)?new Pw(e):ke(e)&&arguments.length>1?D_(e,t,n):Me(e)}function D_(e,t,n){return new Rw(e,t,n)}class Ow{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ur-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return w_(this,!0),!0}get value(){const t=this.dep.track();return S_(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qw(e,t,n=!1){let r,i;return he(e)?r=e:(r=e.get,i=e.set),new Ow(r,i,n)}const mi={},zi=new WeakMap;let Rn;function Dw(e,t=!1,n=Rn){if(n){let r=zi.get(n);r||zi.set(n,r=[]),r.push(e)}}function $w(e,t,n=De){const{immediate:r,deep:i,once:o,scheduler:a,augmentJob:s,call:u}=n,c=I=>i?I:pt(I)||i===!1||i===0?Yt(I,1):Yt(I);let l,f,d,h,y=!1,g=!1;if(He(e)?(f=()=>e.value,y=pt(e)):kn(e)?(f=()=>c(e),y=!0):ve(e)?(g=!0,y=e.some(I=>kn(I)||pt(I)),f=()=>e.map(I=>{if(He(I))return I.value;if(kn(I))return c(I);if(he(I))return u?u(I,2):I()})):he(e)?t?f=u?()=>u(e,2):e:f=()=>{if(d){tn();try{d()}finally{nn()}}const I=Rn;Rn=l;try{return u?u(e,3,[h]):e(h)}finally{Rn=I}}:f=$t,t&&i){const I=f,D=i===!0?1/0:i;f=()=>Yt(I(),D)}const w=Uf(),S=()=>{l.stop(),w&&w.active&&jf(w.effects,l)};if(o&&t){const I=t;t=(...D)=>{I(...D),S()}}let T=g?new Array(e.length).fill(mi):mi;const x=I=>{if(!(!(l.flags&1)||!l.dirty&&!I))if(t){const D=l.run();if(i||y||(g?D.some(($,F)=>en($,T[F])):en(D,T))){d&&d();const $=Rn;Rn=l;try{const F=[D,T===mi?void 0:g&&T[0]===mi?[]:T,h];T=D,u?u(t,3,F):t(...F)}finally{Rn=$}}}else l.run()};return s&&s(x),l=new __(f),l.scheduler=a?()=>a(x,!1):x,h=I=>Dw(I,!1,l),d=l.onStop=()=>{const I=zi.get(l);if(I){if(u)u(I,4);else for(const D of I)D();zi.delete(l)}},t?r?x(!0):T=l.run():a?a(x.bind(null,!0),!0):l.run(),S.pause=l.pause.bind(l),S.resume=l.resume.bind(l),S.stop=S,S}function Yt(e,t=1/0,n){if(t<=0||!ke(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,He(e))Yt(e.value,t,n);else if(ve(e))for(let r=0;r<e.length;r++)Yt(e[r],t,n);else if(l_(e)||tr(e))e.forEach(r=>{Yt(r,t,n)});else if(d_(e)){for(const r in e)Yt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Yt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oi(e,t,n,r){try{return r?e(...r):e()}catch(i){_o(i,t,n)}}function Bt(e,t,n,r){if(he(e)){const i=oi(e,t,n,r);return i&&c_(i)&&i.catch(o=>{_o(o,t,n)}),i}if(ve(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Bt(e[o],t,n,r));return i}}function _o(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||De;if(t){let s=t.parent;const u=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const l=s.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](e,u,c)===!1)return}s=s.parent}if(o){tn(),oi(o,null,10,[e,u,c]),nn();return}}kw(e,n,i,r,a)}function kw(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const ot=[];let Mt=-1;const nr=[];let mn=null,Jn=0;const $_=Promise.resolve();let Hi=null;function kt(e){const t=Hi||$_;return e?t.then(this?e.bind(this):e):t}function Lw(e){let t=Mt+1,n=ot.length;for(;t<n;){const r=t+n>>>1,i=ot[r],o=Yr(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function Jf(e){if(!(e.flags&1)){const t=Yr(e),n=ot[ot.length-1];!n||!(e.flags&2)&&t>=Yr(n)?ot.push(e):ot.splice(Lw(t),0,e),e.flags|=1,k_()}}function k_(){Hi||(Hi=$_.then(F_))}function Fw(e){ve(e)?nr.push(...e):mn&&e.id===-1?mn.splice(Jn+1,0,e):e.flags&1||(nr.push(e),e.flags|=1),k_()}function Hd(e,t,n=Mt+1){for(;n<ot.length;n++){const r=ot[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ot.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function L_(e){if(nr.length){const t=[...new Set(nr)].sort((n,r)=>Yr(n)-Yr(r));if(nr.length=0,mn){mn.push(...t);return}for(mn=t,Jn=0;Jn<mn.length;Jn++){const n=mn[Jn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}mn=null,Jn=0}}const Yr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function F_(e){try{for(Mt=0;Mt<ot.length;Mt++){const t=ot[Mt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),oi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Mt<ot.length;Mt++){const t=ot[Mt];t&&(t.flags&=-2)}Mt=-1,ot.length=0,L_(),Hi=null,(ot.length||nr.length)&&F_()}}let Ze=null,B_=null;function Vi(e){const t=Ze;return Ze=e,B_=e&&e.type.__scopeId||null,t}function bt(e,t=Ze,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&Ui(-1);const o=Vi(t);let a;try{a=e(...i)}finally{Vi(o),r._d&&Ui(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Bw(e,t){if(Ze===null)return e;const n=xo(Ze),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,s,u=De]=t[i];o&&(he(o)&&(o={mounted:o,updated:o}),o.deep&&Yt(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:u}))}return e}function An(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let u=s.dir[r];u&&(tn(),Bt(u,n,8,[e.el,s,e,t]),nn())}}function Bn(e,t){if(rt){let n=rt.provides;const r=rt.parent&&rt.parent.provides;r===n&&(n=rt.provides=Object.create(r)),n[e]=t}}function Lt(e,t,n=!1){const r=Tn();if(r||ir){let i=ir?ir._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&he(t)?t.call(r&&r.proxy):t}}const zw=Symbol.for("v-scx"),Hw=()=>Lt(zw);function Ie(e,t,n){return z_(e,t,n)}function z_(e,t,n=De){const{immediate:r,deep:i,flush:o,once:a}=n,s=Je({},n),u=t&&r||!t&&o!=="post";let c;if(Xr){if(o==="sync"){const h=Hw();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!u){const h=()=>{};return h.stop=$t,h.resume=$t,h.pause=$t,h}}const l=rt;s.call=(h,y,g)=>Bt(h,l,y,g);let f=!1;o==="post"?s.scheduler=h=>{dt(h,l&&l.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(h,y)=>{y?h():Jf(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const d=$w(e,t,s);return Xr&&(c?c.push(d):u&&d()),d}function Vw(e,t,n){const r=this.proxy,i=Ve(e)?e.includes(".")?H_(r,e):()=>r[e]:e.bind(r,r);let o;he(t)?o=t:(o=t.handler,n=t);const a=ai(this),s=z_(i,o.bind(r),n);return a(),s}function H_(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const Gw=Symbol("_vte"),jw=e=>e.__isTeleport,Uw=Symbol("_leaveCb");function Qf(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Qf(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qe(e,t){return he(e)?Je({name:e.name},t,{setup:e}):e}function V_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Gi=new WeakMap;function Br(e,t,n,r,i=!1){if(ve(e)){e.forEach((y,g)=>Br(y,t&&(ve(t)?t[g]:t),n,r,i));return}if(rr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Br(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?xo(r.component):r.el,a=i?null:o,{i:s,r:u}=e,c=t&&t.r,l=s.refs===De?s.refs={}:s.refs,f=s.setupState,d=Ce(f),h=f===De?u_:y=>Ae(d,y);if(c!=null&&c!==u){if(Vd(t),Ve(c))l[c]=null,h(c)&&(f[c]=null);else if(He(c)){c.value=null;const y=t;y.k&&(l[y.k]=null)}}if(he(u))oi(u,s,12,[a,l]);else{const y=Ve(u),g=He(u);if(y||g){const w=()=>{if(e.f){const S=y?h(u)?f[u]:l[u]:u.value;if(i)ve(S)&&jf(S,o);else if(ve(S))S.includes(o)||S.push(o);else if(y)l[u]=[o],h(u)&&(f[u]=l[u]);else{const T=[o];u.value=T,e.k&&(l[e.k]=T)}}else y?(l[u]=a,h(u)&&(f[u]=a)):g&&(u.value=a,e.k&&(l[e.k]=a))};if(a){const S=()=>{w(),Gi.delete(e)};S.id=-1,Gi.set(e,S),dt(S,n)}else Vd(e),w()}}}function Vd(e){const t=Gi.get(e);t&&(t.flags|=8,Gi.delete(e))}vo().requestIdleCallback;vo().cancelIdleCallback;const rr=e=>!!e.type.__asyncLoader,G_=e=>e.type.__isKeepAlive;function Kw(e,t){j_(e,"a",t)}function Yw(e,t){j_(e,"da",t)}function j_(e,t,n=rt){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(bo(t,r,n),n){let i=n.parent;for(;i&&i.parent;)G_(i.parent.vnode)&&Ww(r,t,n,i),i=i.parent}}function Ww(e,t,n,r){const i=bo(t,e,r,!0);td(()=>{jf(r[t],i)},n)}function bo(e,t,n=rt,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{tn();const s=ai(n),u=Bt(t,n,e,a);return s(),nn(),u});return r?i.unshift(o):i.push(o),o}}const ln=e=>(t,n=rt)=>{(!Xr||e==="sp")&&bo(e,(...r)=>t(...r),n)},U_=ln("bm"),cn=ln("m"),Xw=ln("bu"),Zw=ln("u"),ed=ln("bum"),td=ln("um"),Jw=ln("sp"),Qw=ln("rtg"),eE=ln("rtc");function K_(e,t=rt){bo("ec",e,t)}const Y_="components";function W_(e,t){return Z_(Y_,e,!0,t)||e}const X_=Symbol.for("v-ndc");function Qn(e){return Ve(e)?Z_(Y_,e,!1)||e:e||X_}function Z_(e,t,n=!0,r=!1){const i=Ze||rt;if(i){const o=i.type;{const s=FE(o,!1);if(s&&(s===t||s===mt(t)||s===ho(mt(t))))return o}const a=Gd(i[e]||o[e],t)||Gd(i.appContext[e],t);return!a&&r?o:a}}function Gd(e,t){return e&&(e[t]||e[mt(t)]||e[ho(mt(t))])}function lr(e,t,n,r){let i;const o=n&&n[r],a=ve(e);if(a||Ve(e)){const s=a&&kn(e);let u=!1,c=!1;s&&(u=!pt(e),c=rn(e),e=go(e)),i=new Array(e.length);for(let l=0,f=e.length;l<f;l++)i[l]=t(u?c?ur(Ct(e[l])):Ct(e[l]):e[l],l,void 0,o&&o[l])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(ke(e))if(e[Symbol.iterator])i=Array.from(e,(s,u)=>t(s,u,void 0,o&&o[u]));else{const s=Object.keys(e);i=new Array(s.length);for(let u=0,c=s.length;u<c;u++){const l=s[u];i[u]=t(e[l],l,u,o&&o[u])}}else i=[];return n&&(n[r]=i),i}function ze(e,t,n={},r,i){if(Ze.ce||Ze.parent&&rr(Ze.parent)&&Ze.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),ne(),je(Oe,null,[Ne("slot",n,r&&r())],c?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),ne();const a=o&&J_(o(n)),s=n.key||a&&a.key,u=je(Oe,{key:(s&&!un(s)?s:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function J_(e){return e.some(t=>Wr(t)?!(t.type===on||t.type===Oe&&!J_(t.children)):!0)?e:null}const _f=e=>e?_b(e)?xo(e):_f(e.parent):null,zr=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_f(e.parent),$root:e=>_f(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>tb(e),$forceUpdate:e=>e.f||(e.f=()=>{Jf(e.update)}),$nextTick:e=>e.n||(e.n=kt.bind(e.proxy)),$watch:e=>Vw.bind(e)}),aa=(e,t)=>e!==De&&!e.__isScriptSetup&&Ae(e,t),tE={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:u}=e;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(aa(r,t))return a[t]=1,r[t];if(i!==De&&Ae(i,t))return a[t]=2,i[t];if(Ae(o,t))return a[t]=3,o[t];if(n!==De&&Ae(n,t))return a[t]=4,n[t];bf&&(a[t]=0)}}const c=zr[t];let l,f;if(c)return t==="$attrs"&&nt(e.attrs,"get",""),c(e);if((l=s.__cssModules)&&(l=l[t]))return l;if(n!==De&&Ae(n,t))return a[t]=4,n[t];if(f=u.config.globalProperties,Ae(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return aa(i,t)?(i[t]=n,!0):r!==De&&Ae(r,t)?(r[t]=n,!0):Ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,props:o,type:a}},s){let u;return!!(n[s]||e!==De&&s[0]!=="$"&&Ae(e,s)||aa(t,s)||Ae(o,s)||Ae(r,s)||Ae(zr,s)||Ae(i.config.globalProperties,s)||(u=a.__cssModules)&&u[s])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ae(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nE(){return Q_().slots}function rE(){return Q_().attrs}function Q_(e){const t=Tn();return t.setupContext||(t.setupContext=wb(t))}function jd(e){return ve(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function iE(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}let bf=!0;function oE(e){const t=tb(e),n=e.proxy,r=e.ctx;bf=!1,t.beforeCreate&&Ud(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:s,provide:u,inject:c,created:l,beforeMount:f,mounted:d,beforeUpdate:h,updated:y,activated:g,deactivated:w,beforeDestroy:S,beforeUnmount:T,destroyed:x,unmounted:I,render:D,renderTracked:$,renderTriggered:F,errorCaptured:H,serverPrefetch:U,expose:j,inheritAttrs:L,components:A,directives:X,filters:N}=t;if(c&&aE(c,r,null),a)for(const B in a){const z=a[B];he(z)&&(r[B]=z.bind(n))}if(i){const B=i.call(n,n);ke(B)&&(e.data=mo(B))}if(bf=!0,o)for(const B in o){const z=o[B],W=he(z)?z.bind(n,n):he(z.get)?z.get.bind(n,n):$t,Y=!he(z)&&he(z.set)?z.set.bind(n):$t,Z=de({get:W,set:Y});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>Z.value,set:re=>Z.value=re})}if(s)for(const B in s)eb(s[B],r,n,B);if(u){const B=he(u)?u.call(n):u;Reflect.ownKeys(B).forEach(z=>{Bn(z,B[z])})}l&&Ud(l,e,"c");function R(B,z){ve(z)?z.forEach(W=>B(W.bind(n))):z&&B(z.bind(n))}if(R(U_,f),R(cn,d),R(Xw,h),R(Zw,y),R(Kw,g),R(Yw,w),R(K_,H),R(eE,$),R(Qw,F),R(ed,T),R(td,I),R(Jw,U),ve(j))if(j.length){const B=e.exposed||(e.exposed={});j.forEach(z=>{Object.defineProperty(B,z,{get:()=>n[z],set:W=>n[z]=W,enumerable:!0})})}else e.exposed||(e.exposed={});D&&e.render===$t&&(e.render=D),L!=null&&(e.inheritAttrs=L),A&&(e.components=A),X&&(e.directives=X),U&&V_(e)}function aE(e,t,n=$t){ve(e)&&(e=wf(e));for(const r in e){const i=e[r];let o;ke(i)?"default"in i?o=Lt(i.from||r,i.default,!0):o=Lt(i.from||r):o=Lt(i),He(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function Ud(e,t,n){Bt(ve(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function eb(e,t,n,r){let i=r.includes(".")?H_(n,r):()=>n[r];if(Ve(e)){const o=t[e];he(o)&&Ie(i,o)}else if(he(e))Ie(i,e.bind(n));else if(ke(e))if(ve(e))e.forEach(o=>eb(o,t,n,r));else{const o=he(e.handler)?e.handler.bind(n):t[e.handler];he(o)&&Ie(i,o,e)}}function tb(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let u;return s?u=s:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(c=>ji(u,c,a,!0)),ji(u,t,a)),ke(t)&&o.set(t,u),u}function ji(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ji(e,o,n,!0),i&&i.forEach(a=>ji(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const s=sE[a]||n&&n[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const sE={data:Kd,props:Yd,emits:Yd,methods:Ir,computed:Ir,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Ir,directives:Ir,watch:lE,provide:Kd,inject:uE};function Kd(e,t){return t?e?function(){return Je(he(e)?e.call(this,this):e,he(t)?t.call(this,this):t)}:t:e}function uE(e,t){return Ir(wf(e),wf(t))}function wf(e){if(ve(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Ir(e,t){return e?Je(Object.create(null),e,t):t}function Yd(e,t){return e?ve(e)&&ve(t)?[...new Set([...e,...t])]:Je(Object.create(null),jd(e),jd(t??{})):t}function lE(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const r in t)n[r]=it(e[r],t[r]);return n}function nb(){return{app:null,config:{isNativeTag:u_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cE=0;function fE(e,t){return function(r,i=null){he(r)||(r=Je({},r)),i!=null&&!ke(i)&&(i=null);const o=nb(),a=new WeakSet,s=[];let u=!1;const c=o.app={_uid:cE++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:HE,get config(){return o.config},set config(l){},use(l,...f){return a.has(l)||(l&&he(l.install)?(a.add(l),l.install(c,...f)):he(l)&&(a.add(l),l(c,...f))),c},mixin(l){return o.mixins.includes(l)||o.mixins.push(l),c},component(l,f){return f?(o.components[l]=f,c):o.components[l]},directive(l,f){return f?(o.directives[l]=f,c):o.directives[l]},mount(l,f,d){if(!u){const h=c._ceVNode||Ne(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),e(h,l,d),u=!0,c._container=l,l.__vue_app__=c,xo(h.component)}},onUnmount(l){s.push(l)},unmount(){u&&(Bt(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(l,f){return o.provides[l]=f,c},runWithContext(l){const f=ir;ir=c;try{return l()}finally{ir=f}}};return c}}let ir=null;const dE=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${mt(t)}Modifiers`]||e[`${In(t)}Modifiers`];function hE(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||De;let i=n;const o=t.startsWith("update:"),a=o&&dE(r,t.slice(7));a&&(a.trim&&(i=n.map(l=>Ve(l)?l.trim():l)),a.number&&(i=n.map(Q1)));let s,u=r[s=ea(t)]||r[s=ea(mt(t))];!u&&o&&(u=r[s=ea(In(t))]),u&&Bt(u,e,6,i);const c=r[s+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Bt(c,e,6,i)}}const vE=new WeakMap;function rb(e,t,n=!1){const r=n?vE:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let a={},s=!1;if(!he(e)){const u=c=>{const l=rb(c,t,!0);l&&(s=!0,Je(a,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!s?(ke(e)&&r.set(e,null),null):(ve(o)?o.forEach(u=>a[u]=null):Je(a,o),ke(e)&&r.set(e,a),a)}function wo(e,t){return!e||!uo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ae(e,t[0].toLowerCase()+t.slice(1))||Ae(e,In(t))||Ae(e,t))}function Wd(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:u,render:c,renderCache:l,props:f,data:d,setupState:h,ctx:y,inheritAttrs:g}=e,w=Vi(e);let S,T;try{if(n.shapeFlag&4){const I=i||r,D=I;S=Pt(c.call(D,I,l,f,h,d,y)),T=s}else{const I=t;S=Pt(I.length>1?I(f,{attrs:s,slots:a,emit:u}):I(f,null)),T=t.props?s:pE(s)}}catch(I){Hr.length=0,_o(I,e,1),S=Ne(on)}let x=S;if(T&&g!==!1){const I=Object.keys(T),{shapeFlag:D}=x;I.length&&D&7&&(o&&I.some(Gf)&&(T=gE(T,o)),x=fr(x,T,!1,!0))}return n.dirs&&(x=fr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Qf(x,n.transition),S=x,Vi(w),S}const pE=e=>{let t;for(const n in e)(n==="class"||n==="style"||uo(n))&&((t||(t={}))[n]=e[n]);return t},gE=(e,t)=>{const n={};for(const r in e)(!Gf(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function mE(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:s,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Xd(r,a,c):!!a;if(u&8){const l=t.dynamicProps;for(let f=0;f<l.length;f++){const d=l[f];if(a[d]!==r[d]&&!wo(c,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?Xd(r,a,c):!0:!!a;return!1}function Xd(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!wo(n,o))return!0}return!1}function yE({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ib={},ob=()=>Object.create(ib),ab=e=>Object.getPrototypeOf(e)===ib;function _E(e,t,n,r=!1){const i={},o=ob();e.propsDefaults=Object.create(null),sb(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Cw(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function bE(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=Ce(i),[u]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let d=l[f];if(wo(e.emitsOptions,d))continue;const h=t[d];if(u)if(Ae(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const y=mt(d);i[y]=Ef(u,s,y,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{sb(e,t,i,o)&&(c=!0);let l;for(const f in s)(!t||!Ae(t,f)&&((l=In(f))===f||!Ae(t,l)))&&(u?n&&(n[f]!==void 0||n[l]!==void 0)&&(i[f]=Ef(u,s,f,void 0,e,!0)):delete i[f]);if(o!==s)for(const f in o)(!t||!Ae(t,f))&&(delete o[f],c=!0)}c&&Kt(e.attrs,"set","")}function sb(e,t,n,r){const[i,o]=e.propsOptions;let a=!1,s;if(t)for(let u in t){if($r(u))continue;const c=t[u];let l;i&&Ae(i,l=mt(u))?!o||!o.includes(l)?n[l]=c:(s||(s={}))[l]=c:wo(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,a=!0)}if(o){const u=Ce(n),c=s||De;for(let l=0;l<o.length;l++){const f=o[l];n[f]=Ef(i,u,f,c[f],e,!Ae(c,f))}}return a}function Ef(e,t,n,r,i,o){const a=e[n];if(a!=null){const s=Ae(a,"default");if(s&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&he(u)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const l=ai(i);r=c[n]=u.call(null,t),l()}}else r=u;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===In(n))&&(r=!0))}return r}const wE=new WeakMap;function ub(e,t,n=!1){const r=n?wE:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,a={},s=[];let u=!1;if(!he(e)){const l=f=>{u=!0;const[d,h]=ub(f,t,!0);Je(a,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!o&&!u)return ke(e)&&r.set(e,er),er;if(ve(o))for(let l=0;l<o.length;l++){const f=mt(o[l]);Zd(f)&&(a[f]=De)}else if(o)for(const l in o){const f=mt(l);if(Zd(f)){const d=o[l],h=a[f]=ve(d)||he(d)?{type:d}:Je({},d),y=h.type;let g=!1,w=!0;if(ve(y))for(let S=0;S<y.length;++S){const T=y[S],x=he(T)&&T.name;if(x==="Boolean"){g=!0;break}else x==="String"&&(w=!1)}else g=he(y)&&y.name==="Boolean";h[0]=g,h[1]=w,(g||Ae(h,"default"))&&s.push(f)}}const c=[a,s];return ke(e)&&r.set(e,c),c}function Zd(e){return e[0]!=="$"&&!$r(e)}const nd=e=>e==="_"||e==="_ctx"||e==="$stable",rd=e=>ve(e)?e.map(Pt):[Pt(e)],EE=(e,t,n)=>{if(t._n)return t;const r=bt((...i)=>rd(t(...i)),n);return r._c=!1,r},lb=(e,t,n)=>{const r=e._ctx;for(const i in e){if(nd(i))continue;const o=e[i];if(he(o))t[i]=EE(i,o,r);else if(o!=null){const a=rd(o);t[i]=()=>a}}},cb=(e,t)=>{const n=rd(t);e.slots.default=()=>n},fb=(e,t,n)=>{for(const r in t)(n||!nd(r))&&(e[r]=t[r])},xE=(e,t,n)=>{const r=e.slots=ob();if(e.vnode.shapeFlag&32){const i=t._;i?(fb(r,t,n),n&&h_(r,"_",i,!0)):lb(t,r)}else t&&cb(e,t)},SE=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,a=De;if(r.shapeFlag&32){const s=t._;s?n&&s===1?o=!1:fb(i,t,n):(o=!t.$stable,lb(t,i)),a=t}else t&&(cb(e,t),a={default:1});if(o)for(const s in i)!nd(s)&&a[s]==null&&delete i[s]},dt=AE;function CE(e){return IE(e)}function IE(e,t){const n=vo();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:u,setText:c,setElementText:l,parentNode:f,nextSibling:d,setScopeId:h=$t,insertStaticContent:y}=e,g=(b,C,v,p=null,m=null,_=null,E=void 0,M=null,P=!!C.dynamicChildren)=>{if(b===C)return;b&&!xr(b,C)&&(p=se(b),re(b,m,_,!0),b=null),C.patchFlag===-2&&(P=!1,C.dynamicChildren=null);const{type:O,ref:k,shapeFlag:q}=C;switch(O){case Eo:w(b,C,v,p);break;case on:S(b,C,v,p);break;case ua:b==null&&T(C,v,p,E);break;case Oe:A(b,C,v,p,m,_,E,M,P);break;default:q&1?D(b,C,v,p,m,_,E,M,P):q&6?X(b,C,v,p,m,_,E,M,P):(q&64||q&128)&&O.process(b,C,v,p,m,_,E,M,P,ce)}k!=null&&m?Br(k,b&&b.ref,_,C||b,!C):k==null&&b&&b.ref!=null&&Br(b.ref,null,_,b,!0)},w=(b,C,v,p)=>{if(b==null)r(C.el=s(C.children),v,p);else{const m=C.el=b.el;C.children!==b.children&&c(m,C.children)}},S=(b,C,v,p)=>{b==null?r(C.el=u(C.children||""),v,p):C.el=b.el},T=(b,C,v,p)=>{[b.el,b.anchor]=y(b.children,C,v,p,b.el,b.anchor)},x=({el:b,anchor:C},v,p)=>{let m;for(;b&&b!==C;)m=d(b),r(b,v,p),b=m;r(C,v,p)},I=({el:b,anchor:C})=>{let v;for(;b&&b!==C;)v=d(b),i(b),b=v;i(C)},D=(b,C,v,p,m,_,E,M,P)=>{if(C.type==="svg"?E="svg":C.type==="math"&&(E="mathml"),b==null)$(C,v,p,m,_,E,M,P);else{const O=b.el&&b.el._isVueCE?b.el:null;try{O&&O._beginPatch(),U(b,C,m,_,E,M,P)}finally{O&&O._endPatch()}}},$=(b,C,v,p,m,_,E,M)=>{let P,O;const{props:k,shapeFlag:q,transition:G,dirs:K}=b;if(P=b.el=a(b.type,_,k&&k.is,k),q&8?l(P,b.children):q&16&&H(b.children,P,null,p,m,sa(b,_),E,M),K&&An(b,null,p,"created"),F(P,b,b.scopeId,E,p),k){for(const ie in k)ie!=="value"&&!$r(ie)&&o(P,ie,null,k[ie],_,p);"value"in k&&o(P,"value",null,k.value,_),(O=k.onVnodeBeforeMount)&&At(O,p,b)}K&&An(b,null,p,"beforeMount");const ue=TE(m,G);ue&&G.beforeEnter(P),r(P,C,v),((O=k&&k.onVnodeMounted)||ue||K)&&dt(()=>{O&&At(O,p,b),ue&&G.enter(P),K&&An(b,null,p,"mounted")},m)},F=(b,C,v,p,m)=>{if(v&&h(b,v),p)for(let _=0;_<p.length;_++)h(b,p[_]);if(m){let _=m.subTree;if(C===_||pb(_.type)&&(_.ssContent===C||_.ssFallback===C)){const E=m.vnode;F(b,E,E.scopeId,E.slotScopeIds,m.parent)}}},H=(b,C,v,p,m,_,E,M,P=0)=>{for(let O=P;O<b.length;O++){const k=b[O]=M?yn(b[O]):Pt(b[O]);g(null,k,C,v,p,m,_,E,M)}},U=(b,C,v,p,m,_,E)=>{const M=C.el=b.el;let{patchFlag:P,dynamicChildren:O,dirs:k}=C;P|=b.patchFlag&16;const q=b.props||De,G=C.props||De;let K;if(v&&Mn(v,!1),(K=G.onVnodeBeforeUpdate)&&At(K,v,C,b),k&&An(C,b,v,"beforeUpdate"),v&&Mn(v,!0),(q.innerHTML&&G.innerHTML==null||q.textContent&&G.textContent==null)&&l(M,""),O?j(b.dynamicChildren,O,M,v,p,sa(C,m),_):E||z(b,C,M,null,v,p,sa(C,m),_,!1),P>0){if(P&16)L(M,q,G,v,m);else if(P&2&&q.class!==G.class&&o(M,"class",null,G.class,m),P&4&&o(M,"style",q.style,G.style,m),P&8){const ue=C.dynamicProps;for(let ie=0;ie<ue.length;ie++){const oe=ue[ie],xe=q[oe],_e=G[oe];(_e!==xe||oe==="value")&&o(M,oe,xe,_e,m,v)}}P&1&&b.children!==C.children&&l(M,C.children)}else!E&&O==null&&L(M,q,G,v,m);((K=G.onVnodeUpdated)||k)&&dt(()=>{K&&At(K,v,C,b),k&&An(C,b,v,"updated")},p)},j=(b,C,v,p,m,_,E)=>{for(let M=0;M<C.length;M++){const P=b[M],O=C[M],k=P.el&&(P.type===Oe||!xr(P,O)||P.shapeFlag&198)?f(P.el):v;g(P,O,k,null,p,m,_,E,!0)}},L=(b,C,v,p,m)=>{if(C!==v){if(C!==De)for(const _ in C)!$r(_)&&!(_ in v)&&o(b,_,C[_],null,m,p);for(const _ in v){if($r(_))continue;const E=v[_],M=C[_];E!==M&&_!=="value"&&o(b,_,M,E,m,p)}"value"in v&&o(b,"value",C.value,v.value,m)}},A=(b,C,v,p,m,_,E,M,P)=>{const O=C.el=b?b.el:s(""),k=C.anchor=b?b.anchor:s("");let{patchFlag:q,dynamicChildren:G,slotScopeIds:K}=C;K&&(M=M?M.concat(K):K),b==null?(r(O,v,p),r(k,v,p),H(C.children||[],v,k,m,_,E,M,P)):q>0&&q&64&&G&&b.dynamicChildren&&b.dynamicChildren.length===G.length?(j(b.dynamicChildren,G,v,m,_,E,M),(C.key!=null||m&&C===m.subTree)&&db(b,C,!0)):z(b,C,v,k,m,_,E,M,P)},X=(b,C,v,p,m,_,E,M,P)=>{C.slotScopeIds=M,b==null?C.shapeFlag&512?m.ctx.activate(C,v,p,E,P):N(C,v,p,m,_,E,P):V(b,C,P)},N=(b,C,v,p,m,_,E)=>{const M=b.component=DE(b,p,m);if(G_(b)&&(M.ctx.renderer=ce),$E(M,!1,E),M.asyncDep){if(m&&m.registerDep(M,R,E),!b.el){const P=M.subTree=Ne(on);S(null,P,C,v),b.placeholder=P.el}}else R(M,b,C,v,m,_,E)},V=(b,C,v)=>{const p=C.component=b.component;if(mE(b,C,v))if(p.asyncDep&&!p.asyncResolved){B(p,C,v);return}else p.next=C,p.update();else C.el=b.el,p.vnode=C},R=(b,C,v,p,m,_,E)=>{const M=()=>{if(b.isMounted){let{next:q,bu:G,u:K,parent:ue,vnode:ie}=b;{const Qe=hb(b);if(Qe){q&&(q.el=ie.el,B(b,q,E)),Qe.asyncDep.then(()=>{b.isUnmounted||M()});return}}let oe=q,xe;Mn(b,!1),q?(q.el=ie.el,B(b,q,E)):q=ie,G&&ta(G),(xe=q.props&&q.props.onVnodeBeforeUpdate)&&At(xe,ue,q,ie),Mn(b,!0);const _e=Wd(b),We=b.subTree;b.subTree=_e,g(We,_e,f(We.el),se(We),b,m,_),q.el=_e.el,oe===null&&yE(b,_e.el),K&&dt(K,m),(xe=q.props&&q.props.onVnodeUpdated)&&dt(()=>At(xe,ue,q,ie),m)}else{let q;const{el:G,props:K}=C,{bm:ue,m:ie,parent:oe,root:xe,type:_e}=b,We=rr(C);Mn(b,!1),ue&&ta(ue),!We&&(q=K&&K.onVnodeBeforeMount)&&At(q,oe,C),Mn(b,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(_e);const Qe=b.subTree=Wd(b);g(null,Qe,v,p,b,m,_),C.el=Qe.el}if(ie&&dt(ie,m),!We&&(q=K&&K.onVnodeMounted)){const Qe=C;dt(()=>At(q,oe,Qe),m)}(C.shapeFlag&256||oe&&rr(oe.vnode)&&oe.vnode.shapeFlag&256)&&b.a&&dt(b.a,m),b.isMounted=!0,C=v=p=null}};b.scope.on();const P=b.effect=new __(M);b.scope.off();const O=b.update=P.run.bind(P),k=b.job=P.runIfDirty.bind(P);k.i=b,k.id=b.uid,P.scheduler=()=>Jf(k),Mn(b,!0),O()},B=(b,C,v)=>{C.component=b;const p=b.vnode.props;b.vnode=C,b.next=null,bE(b,C.props,p,v),SE(b,C.children,v),tn(),Hd(b),nn()},z=(b,C,v,p,m,_,E,M,P=!1)=>{const O=b&&b.children,k=b?b.shapeFlag:0,q=C.children,{patchFlag:G,shapeFlag:K}=C;if(G>0){if(G&128){Y(O,q,v,p,m,_,E,M,P);return}else if(G&256){W(O,q,v,p,m,_,E,M,P);return}}K&8?(k&16&&J(O,m,_),q!==O&&l(v,q)):k&16?K&16?Y(O,q,v,p,m,_,E,M,P):J(O,m,_,!0):(k&8&&l(v,""),K&16&&H(q,v,p,m,_,E,M,P))},W=(b,C,v,p,m,_,E,M,P)=>{b=b||er,C=C||er;const O=b.length,k=C.length,q=Math.min(O,k);let G;for(G=0;G<q;G++){const K=C[G]=P?yn(C[G]):Pt(C[G]);g(b[G],K,v,null,m,_,E,M,P)}O>k?J(b,m,_,!0,!1,q):H(C,v,p,m,_,E,M,P,q)},Y=(b,C,v,p,m,_,E,M,P)=>{let O=0;const k=C.length;let q=b.length-1,G=k-1;for(;O<=q&&O<=G;){const K=b[O],ue=C[O]=P?yn(C[O]):Pt(C[O]);if(xr(K,ue))g(K,ue,v,null,m,_,E,M,P);else break;O++}for(;O<=q&&O<=G;){const K=b[q],ue=C[G]=P?yn(C[G]):Pt(C[G]);if(xr(K,ue))g(K,ue,v,null,m,_,E,M,P);else break;q--,G--}if(O>q){if(O<=G){const K=G+1,ue=K<k?C[K].el:p;for(;O<=G;)g(null,C[O]=P?yn(C[O]):Pt(C[O]),v,ue,m,_,E,M,P),O++}}else if(O>G)for(;O<=q;)re(b[O],m,_,!0),O++;else{const K=O,ue=O,ie=new Map;for(O=ue;O<=G;O++){const Xe=C[O]=P?yn(C[O]):Pt(C[O]);Xe.key!=null&&ie.set(Xe.key,O)}let oe,xe=0;const _e=G-ue+1;let We=!1,Qe=0;const et=new Array(_e);for(O=0;O<_e;O++)et[O]=0;for(O=K;O<=q;O++){const Xe=b[O];if(xe>=_e){re(Xe,m,_,!0);continue}let ft;if(Xe.key!=null)ft=ie.get(Xe.key);else for(oe=ue;oe<=G;oe++)if(et[oe-ue]===0&&xr(Xe,C[oe])){ft=oe;break}ft===void 0?re(Xe,m,_,!0):(et[ft-ue]=O+1,ft>=Qe?Qe=ft:We=!0,g(Xe,C[ft],v,null,m,_,E,M,P),xe++)}const ct=We?NE(et):er;for(oe=ct.length-1,O=_e-1;O>=0;O--){const Xe=ue+O,ft=C[Xe],kd=C[Xe+1],Ld=Xe+1<k?kd.el||vb(kd):p;et[O]===0?g(null,ft,v,Ld,m,_,E,M,P):We&&(oe<0||O!==ct[oe]?Z(ft,v,Ld,2):oe--)}}},Z=(b,C,v,p,m=null)=>{const{el:_,type:E,transition:M,children:P,shapeFlag:O}=b;if(O&6){Z(b.component.subTree,C,v,p);return}if(O&128){b.suspense.move(C,v,p);return}if(O&64){E.move(b,C,v,ce);return}if(E===Oe){r(_,C,v);for(let q=0;q<P.length;q++)Z(P[q],C,v,p);r(b.anchor,C,v);return}if(E===ua){x(b,C,v);return}if(p!==2&&O&1&&M)if(p===0)M.beforeEnter(_),r(_,C,v),dt(()=>M.enter(_),m);else{const{leave:q,delayLeave:G,afterLeave:K}=M,ue=()=>{b.ctx.isUnmounted?i(_):r(_,C,v)},ie=()=>{_._isLeaving&&_[Uw](!0),q(_,()=>{ue(),K&&K()})};G?G(_,ue,ie):ie()}else r(_,C,v)},re=(b,C,v,p=!1,m=!1)=>{const{type:_,props:E,ref:M,children:P,dynamicChildren:O,shapeFlag:k,patchFlag:q,dirs:G,cacheIndex:K}=b;if(q===-2&&(m=!1),M!=null&&(tn(),Br(M,null,v,b,!0),nn()),K!=null&&(C.renderCache[K]=void 0),k&256){C.ctx.deactivate(b);return}const ue=k&1&&G,ie=!rr(b);let oe;if(ie&&(oe=E&&E.onVnodeBeforeUnmount)&&At(oe,C,b),k&6)te(b.component,v,p);else{if(k&128){b.suspense.unmount(v,p);return}ue&&An(b,null,C,"beforeUnmount"),k&64?b.type.remove(b,C,v,ce,p):O&&!O.hasOnce&&(_!==Oe||q>0&&q&64)?J(O,C,v,!1,!0):(_===Oe&&q&384||!m&&k&16)&&J(P,C,v),p&&le(b)}(ie&&(oe=E&&E.onVnodeUnmounted)||ue)&&dt(()=>{oe&&At(oe,C,b),ue&&An(b,null,C,"unmounted")},v)},le=b=>{const{type:C,el:v,anchor:p,transition:m}=b;if(C===Oe){me(v,p);return}if(C===ua){I(b);return}const _=()=>{i(v),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(b.shapeFlag&1&&m&&!m.persisted){const{leave:E,delayLeave:M}=m,P=()=>E(v,_);M?M(b.el,_,P):P()}else _()},me=(b,C)=>{let v;for(;b!==C;)v=d(b),i(b),b=v;i(C)},te=(b,C,v)=>{const{bum:p,scope:m,job:_,subTree:E,um:M,m:P,a:O}=b;Jd(P),Jd(O),p&&ta(p),m.stop(),_&&(_.flags|=8,re(E,b,C,v)),M&&dt(M,C),dt(()=>{b.isUnmounted=!0},C)},J=(b,C,v,p=!1,m=!1,_=0)=>{for(let E=_;E<b.length;E++)re(b[E],C,v,p,m)},se=b=>{if(b.shapeFlag&6)return se(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const C=d(b.anchor||b.el),v=C&&C[Gw];return v?d(v):C};let ye=!1;const Ee=(b,C,v)=>{let p;b==null?C._vnode&&(re(C._vnode,null,null,!0),p=C._vnode.component):g(C._vnode||null,b,C,null,null,null,v),C._vnode=b,ye||(ye=!0,Hd(p),L_(),ye=!1)},ce={p:g,um:re,m:Z,r:le,mt:N,mc:H,pc:z,pbc:j,n:se,o:e};return{render:Ee,hydrate:void 0,createApp:fE(Ee)}}function sa({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Mn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function TE(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function db(e,t,n=!1){const r=e.children,i=t.children;if(ve(r)&&ve(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=yn(i[o]),s.el=a.el),!n&&s.patchFlag!==-2&&db(a,s)),s.type===Eo&&(s.patchFlag!==-1?s.el=a.el:s.__elIndex=o+(e.type===Oe?1:0)),s.type===on&&!s.el&&(s.el=a.el)}}function NE(e){const t=e.slice(),n=[0];let r,i,o,a,s;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,e[n[s]]<c?o=s+1:a=s;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function hb(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:hb(t)}function Jd(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function vb(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?vb(t.subTree):null}const pb=e=>e.__isSuspense;function AE(e,t){t&&t.pendingBranch?ve(e)?t.effects.push(...e):t.effects.push(e):Fw(e)}const Oe=Symbol.for("v-fgt"),Eo=Symbol.for("v-txt"),on=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),Hr=[];let at=null;function ne(e=!1){Hr.push(at=e?null:[])}function ME(){Hr.pop(),at=Hr[Hr.length-1]||null}let cr=1;function Ui(e,t=!1){cr+=e,e<0&&at&&t&&(at.hasOnce=!0)}function gb(e){return e.dynamicChildren=cr>0?at||er:null,ME(),cr>0&&at&&at.push(e),e}function fe(e,t,n,r,i,o){return gb(Se(e,t,n,r,i,o,!0))}function je(e,t,n,r,i){return gb(Ne(e,t,n,r,i,!0))}function Wr(e){return e?e.__v_isVNode===!0:!1}function xr(e,t){return e.type===t.type&&e.key===t.key}const mb=({key:e})=>e??null,Pi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||He(e)||he(e)?{i:Ze,r:e,k:t,f:!!n}:e:null);function Se(e,t=null,n=null,r=0,i=null,o=e===Oe?0:1,a=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mb(t),ref:t&&Pi(t),scopeId:B_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ze};return s?(id(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=Ve(n)?8:16),cr>0&&!a&&at&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&at.push(u),u}const Ne=RE;function RE(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===X_)&&(e=on),Wr(e)){const s=fr(e,t,!0);return n&&id(s,n),cr>0&&!o&&at&&(s.shapeFlag&6?at[at.indexOf(e)]=s:at.push(s)),s.patchFlag=-2,s}if(BE(e)&&(e=e.__vccOpts),t){t=PE(t);let{class:s,style:u}=t;s&&!Ve(s)&&(t.class=St(s)),ke(u)&&(yo(u)&&!ve(u)&&(u=Je({},u)),t.style=st(u))}const a=Ve(e)?1:pb(e)?128:jw(e)?64:ke(e)?4:he(e)?2:0;return Se(e,t,n,r,i,a,o,!0)}function PE(e){return e?yo(e)||ab(e)?Je({},e):e:null}function fr(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:u}=e,c=t?od(i||{},t):i,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&mb(c),ref:t&&t.ref?n&&o?ve(o)?o.concat(Pi(t)):[o,Pi(t)]:Pi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fr(e.ssContent),ssFallback:e.ssFallback&&fr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Qf(l,u.clone(l)),l}function yb(e=" ",t=0){return Ne(Eo,null,e,t)}function Fe(e="",t=!1){return t?(ne(),je(on,null,e)):Ne(on,null,e)}function Pt(e){return e==null||typeof e=="boolean"?Ne(on):ve(e)?Ne(Oe,null,e.slice()):Wr(e)?yn(e):Ne(Eo,null,String(e))}function yn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fr(e)}function id(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ve(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),id(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!ab(t)?t._ctx=Ze:i===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else he(t)?(t={default:t,_ctx:Ze},n=32):(t=String(t),r&64?(n=16,t=[yb(t)]):n=8);e.children=t,e.shapeFlag|=n}function od(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=St([t.class,r.class]));else if(i==="style")t.style=st([t.style,r.style]);else if(uo(i)){const o=t[i],a=r[i];a&&o!==a&&!(ve(o)&&o.includes(a))&&(t[i]=o?[].concat(o,a):a)}else i!==""&&(t[i]=r[i])}return t}function At(e,t,n,r=null){Bt(e,t,7,[n,r])}const OE=nb();let qE=0;function DE(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||OE,o={uid:qE++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new m_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ub(r,i),emitsOptions:rb(r,i),emit:null,emitted:null,propsDefaults:De,inheritAttrs:r.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=hE.bind(null,o),e.ce&&e.ce(o),o}let rt=null;const Tn=()=>rt||Ze;let Ki,xf;{const e=vo(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};Ki=t("__VUE_INSTANCE_SETTERS__",n=>rt=n),xf=t("__VUE_SSR_SETTERS__",n=>Xr=n)}const ai=e=>{const t=rt;return Ki(e),e.scope.on(),()=>{e.scope.off(),Ki(t)}},Qd=()=>{rt&&rt.scope.off(),Ki(null)};function _b(e){return e.vnode.shapeFlag&4}let Xr=!1;function $E(e,t=!1,n=!1){t&&xf(t);const{props:r,children:i}=e.vnode,o=_b(e);_E(e,r,o,t),xE(e,i,n||t);const a=o?kE(e,t):void 0;return t&&xf(!1),a}function kE(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tE);const{setup:r}=n;if(r){tn();const i=e.setupContext=r.length>1?wb(e):null,o=ai(e),a=oi(r,e,0,[e.props,i]),s=c_(a);if(nn(),o(),(s||e.sp)&&!rr(e)&&V_(e),s){if(a.then(Qd,Qd),t)return a.then(u=>{eh(e,u)}).catch(u=>{_o(u,e,0)});e.asyncDep=a}else eh(e,a)}else bb(e)}function eh(e,t,n){he(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ke(t)&&(e.setupState=q_(t)),bb(e)}function bb(e,t,n){const r=e.type;e.render||(e.render=r.render||$t);{const i=ai(e);tn();try{oE(e)}finally{nn(),i()}}}const LE={get(e,t){return nt(e,"get",""),e[t]}};function wb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,LE),slots:e.slots,emit:e.emit,expose:t}}function xo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(q_(Fr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zr)return zr[n](e)},has(t,n){return n in t||n in zr}})):e.proxy}function FE(e,t=!0){return he(e)?e.displayName||e.name:e.name||t&&e.__name}function BE(e){return he(e)&&"__vccOpts"in e}const de=(e,t)=>qw(e,t,Xr);function Re(e,t,n){try{Ui(-1);const r=arguments.length;return r===2?ke(t)&&!ve(t)?Wr(t)?Ne(e,null,[t]):Ne(e,t):Ne(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Wr(n)&&(n=[n]),Ne(e,t,n))}finally{Ui(1)}}function zE(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(en(n[r],t[r]))return!1;return cr>0&&at&&at.push(e),!0}const HE="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sf;const th=typeof window<"u"&&window.trustedTypes;if(th)try{Sf=th.createPolicy("vue",{createHTML:e=>e})}catch{}const Eb=Sf?e=>Sf.createHTML(e):e=>e,VE="http://www.w3.org/2000/svg",GE="http://www.w3.org/1998/Math/MathML",Ut=typeof document<"u"?document:null,nh=Ut&&Ut.createElement("template"),jE={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ut.createElementNS(VE,e):t==="mathml"?Ut.createElementNS(GE,e):n?Ut.createElement(e,{is:n}):Ut.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ut.createTextNode(e),createComment:e=>Ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{nh.innerHTML=Eb(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=nh.content;if(r==="svg"||r==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},UE=Symbol("_vtc");function KE(e,t,n){const r=e[UE];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const rh=Symbol("_vod"),YE=Symbol("_vsh"),WE=Symbol(""),XE=/(?:^|;)\s*display\s*:/;function ZE(e,t,n){const r=e.style,i=Ve(n);let o=!1;if(n&&!i){if(t)if(Ve(t))for(const a of t.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&Oi(r,s,"")}else for(const a in t)n[a]==null&&Oi(r,a,"");for(const a in n)a==="display"&&(o=!0),Oi(r,a,n[a])}else if(i){if(t!==n){const a=r[WE];a&&(n+=";"+a),r.cssText=n,o=XE.test(n)}}else t&&e.removeAttribute("style");rh in e&&(e[rh]=o?r.display:"",e[YE]&&(r.display="none"))}const ih=/\s*!important$/;function Oi(e,t,n){if(ve(n))n.forEach(r=>Oi(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=JE(e,t);ih.test(n)?e.setProperty(In(r),n.replace(ih,""),"important"):e[r]=n}}const oh=["Webkit","Moz","ms"],la={};function JE(e,t){const n=la[t];if(n)return n;let r=mt(t);if(r!=="filter"&&r in e)return la[t]=r;r=ho(r);for(let i=0;i<oh.length;i++){const o=oh[i]+r;if(o in e)return la[t]=o}return t}const ah="http://www.w3.org/1999/xlink";function sh(e,t,n,r,i,o=ow(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(ah,t.slice(6,t.length)):e.setAttributeNS(ah,t,n):n==null||o&&!v_(n)?e.removeAttribute(t):e.setAttribute(t,o?"":un(n)?String(n):n)}function uh(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Eb(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(s!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=v_(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(i||t)}function QE(e,t,n,r){e.addEventListener(t,n,r)}function ex(e,t,n,r){e.removeEventListener(t,n,r)}const lh=Symbol("_vei");function tx(e,t,n,r,i=null){const o=e[lh]||(e[lh]={}),a=o[t];if(r&&a)a.value=r;else{const[s,u]=nx(t);if(r){const c=o[t]=ox(r,i);QE(e,s,c,u)}else a&&(ex(e,s,a,u),o[t]=void 0)}}const ch=/(?:Once|Passive|Capture)$/;function nx(e){let t;if(ch.test(e)){t={};let r;for(;r=e.match(ch);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):In(e.slice(2)),t]}let ca=0;const rx=Promise.resolve(),ix=()=>ca||(rx.then(()=>ca=0),ca=Date.now());function ox(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bt(ax(r,n.value),t,5,[r])};return n.value=e,n.attached=ix(),n}function ax(e,t){if(ve(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const fh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,sx=(e,t,n,r,i,o)=>{const a=i==="svg";t==="class"?KE(e,r,a):t==="style"?ZE(e,n,r):uo(t)?Gf(t)||tx(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ux(e,t,r,a))?(uh(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&sh(e,t,r,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(r))?uh(e,mt(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),sh(e,t,r,a))};function ux(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&fh(t)&&he(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return fh(t)&&Ve(n)?!1:t in e}const lx=["ctrl","shift","alt","meta"],cx={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lx.some(n=>e[`${n}Key`]&&!t.includes(n))},xb=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...o)=>{for(let a=0;a<t.length;a++){const s=cx[t[a]];if(s&&s(i,t))return}return e(i,...o)})},fx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dh=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=In(i.key);if(t.some(a=>a===o||fx[a]===o))return e(i)})},dx=Je({patchProp:sx},jE);let hh;function hx(){return hh||(hh=CE(dx))}const vx=(...e)=>{const t=hx().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=gx(r);if(!i)return;const o=t._component;!he(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,px(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function px(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gx(e){return Ve(e)?document.querySelector(e):e}function Zr(e){return Uf()?(Ri(e),!0):!1}function Wt(e){return typeof e=="function"?e():Q(e)}const mx=typeof window<"u"&&typeof document<"u",yx=e=>typeof e<"u",_x=Object.prototype.toString,bx=e=>_x.call(e)==="[object Object]",wx=()=>{};function Ex(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const Sb=e=>e();function xx(e=Sb){const t=Me(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:Bi(t),pause:n,resume:r,eventFilter:(...o)=>{t.value&&e(...o)}}}function vh(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function Sx(e,t,n={}){const{eventFilter:r=Sb,...i}=n;return Ie(e,Ex(r,t),i)}function Xn(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:o,pause:a,resume:s,isActive:u}=xx(r);return{stop:Sx(e,t,{...i,eventFilter:o}),pause:a,resume:s,isActive:u}}function Cx(e,t={}){if(!He(e))return Mw(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)n[r]=Aw(()=>({get(){return e.value[r]},set(i){var o;if((o=Wt(t.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const s=[...e.value];s[r]=i,e.value=s}else{const s={...e.value,[r]:i};Object.setPrototypeOf(s,Object.getPrototypeOf(e.value)),e.value=s}else e.value[r]=i}}));return n}function Cf(e,t=!1){function n(f,{flush:d="sync",deep:h=!1,timeout:y,throwOnTimeout:g}={}){let w=null;const T=[new Promise(x=>{w=Ie(e,I=>{f(I)!==t&&(w==null||w(),x(I))},{flush:d,deep:h,immediate:!0})})];return y!=null&&T.push(vh(y,g).then(()=>Wt(e)).finally(()=>w==null?void 0:w())),Promise.race(T)}function r(f,d){if(!He(f))return n(I=>I===f,d);const{flush:h="sync",deep:y=!1,timeout:g,throwOnTimeout:w}=d??{};let S=null;const x=[new Promise(I=>{S=Ie([e,f],([D,$])=>{t!==(D===$)&&(S==null||S(),I(D))},{flush:h,deep:y,immediate:!0})})];return g!=null&&x.push(vh(g,w).then(()=>Wt(e)).finally(()=>(S==null||S(),Wt(e)))),Promise.race(x)}function i(f){return n(d=>!!d,f)}function o(f){return r(null,f)}function a(f){return r(void 0,f)}function s(f){return n(Number.isNaN,f)}function u(f,d){return n(h=>{const y=Array.from(h);return y.includes(f)||y.includes(Wt(f))},d)}function c(f){return l(1,f)}function l(f=1,d){let h=-1;return n(()=>(h+=1,h>=f),d)}return Array.isArray(Wt(e))?{toMatch:n,toContains:u,changed:c,changedTimes:l,get not(){return Cf(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:o,toBeNaN:s,toBeUndefined:a,changed:c,changedTimes:l,get not(){return Cf(e,!t)}}}function If(e){return Cf(e)}function Ix(e){var t;const n=Wt(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Cb=mx?window:void 0;function Ib(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=Cb):[t,n,r,i]=e,!t)return wx;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(l=>l()),o.length=0},s=(l,f,d,h)=>(l.addEventListener(f,d,h),()=>l.removeEventListener(f,d,h)),u=Ie(()=>[Ix(t),Wt(i)],([l,f])=>{if(a(),!l)return;const d=bx(f)?{...f}:f;o.push(...n.flatMap(h=>r.map(y=>s(l,h,y,d))))},{immediate:!0,flush:"post"}),c=()=>{u(),a()};return Zr(c),c}function Tx(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function ph(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=Cb,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,u=Tx(t);return Ib(i,o,l=>{l.repeat&&Wt(s)||u(l)&&n(l)},a)}function Nx(e){return JSON.parse(JSON.stringify(e))}function fa(e,t,n,r={}){var i,o,a;const{clone:s=!1,passive:u=!1,eventName:c,deep:l=!1,defaultValue:f,shouldEmit:d}=r,h=Tn(),y=n||(h==null?void 0:h.emit)||((i=h==null?void 0:h.$emit)==null?void 0:i.bind(h))||((a=(o=h==null?void 0:h.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let g=c;t||(t="modelValue"),g=g||`update:${t.toString()}`;const w=x=>s?typeof s=="function"?s(x):Nx(x):x,S=()=>yx(e[t])?w(e[t]):f,T=x=>{d?d(x)&&y(g,x):y(g,x)};if(u){const x=S(),I=Me(x);let D=!1;return Ie(()=>e[t],$=>{D||(D=!0,I.value=w($),kt(()=>D=!1))}),Ie(I,$=>{!D&&($!==e[t]||l)&&T($)},{deep:l}),I}else return de({get(){return S()},set(x){T(x)}})}var Ax={value:()=>{}};function So(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qi(n)}function qi(e){this._=e}function Mx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qi.prototype=So.prototype={constructor:qi,on:function(e,t){var n=this._,r=Mx(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=Rx(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=gh(n[i],e.name,t);else if(t==null)for(i in n)n[i]=gh(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qi(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Rx(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function gh(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ax,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Tf="http://www.w3.org/1999/xhtml";const mh={svg:"http://www.w3.org/2000/svg",xhtml:Tf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Co(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),mh.hasOwnProperty(t)?{space:mh[t],local:e}:e}function Px(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Tf&&t.documentElement.namespaceURI===Tf?t.createElement(e):t.createElementNS(n,e)}}function Ox(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Tb(e){var t=Co(e);return(t.local?Ox:Px)(t)}function qx(){}function ad(e){return e==null?qx:function(){return this.querySelector(e)}}function Dx(e){typeof e!="function"&&(e=ad(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=o[l])&&(c=e.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new gt(r,this._parents)}function $x(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kx(){return[]}function Nb(e){return e==null?kx:function(){return this.querySelectorAll(e)}}function Lx(e){return function(){return $x(e.apply(this,arguments))}}function Fx(e){typeof e=="function"?e=Lx(e):e=Nb(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new gt(r,i)}function Ab(e){return function(){return this.matches(e)}}function Mb(e){return function(t){return t.matches(e)}}var Bx=Array.prototype.find;function zx(e){return function(){return Bx.call(this.children,e)}}function Hx(){return this.firstElementChild}function Vx(e){return this.select(e==null?Hx:zx(typeof e=="function"?e:Mb(e)))}var Gx=Array.prototype.filter;function jx(){return Array.from(this.children)}function Ux(e){return function(){return Gx.call(this.children,e)}}function Kx(e){return this.selectAll(e==null?jx:Ux(typeof e=="function"?e:Mb(e)))}function Yx(e){typeof e!="function"&&(e=Ab(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new gt(r,this._parents)}function Rb(e){return new Array(e.length)}function Wx(){return new gt(this._enter||this._groups.map(Rb),this._parents)}function Yi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Yi.prototype={constructor:Yi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Xx(e){return function(){return e}}function Zx(e,t,n,r,i,o){for(var a=0,s,u=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Yi(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function Jx(e,t,n,r,i,o,a){var s,u,c=new Map,l=t.length,f=o.length,d=new Array(l),h;for(s=0;s<l;++s)(u=t[s])&&(d[s]=h=a.call(u,u.__data__,s,t)+"",c.has(h)?i[s]=u:c.set(h,u));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(u=c.get(h))?(r[s]=u,u.__data__=o[s],c.delete(h)):n[s]=new Yi(e,o[s]);for(s=0;s<l;++s)(u=t[s])&&c.get(d[s])===u&&(i[s]=u)}function Qx(e){return e.__data__}function eS(e,t){if(!arguments.length)return Array.from(this,Qx);var n=t?Jx:Zx,r=this._parents,i=this._groups;typeof e!="function"&&(e=Xx(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],d=f.length,h=tS(e.call(l,l&&l.__data__,c,r)),y=h.length,g=s[c]=new Array(y),w=a[c]=new Array(y),S=u[c]=new Array(d);n(l,f,g,w,S,h,t);for(var T=0,x=0,I,D;T<y;++T)if(I=g[T]){for(T>=x&&(x=T+1);!(D=w[x])&&++x<y;);I._next=D||null}}return a=new gt(a,r),a._enter=s,a._exit=u,a}function tS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nS(){return new gt(this._exit||this._groups.map(Rb),this._parents)}function rS(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function iS(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],f=c.length,d=s[u]=new Array(f),h,y=0;y<f;++y)(h=c[y]||l[y])&&(d[y]=h);for(;u<i;++u)s[u]=n[u];return new gt(s,this._parents)}function oS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function aS(e){e||(e=sS);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(u[l]=c);u.sort(t)}return new gt(i,this._parents).order()}function sS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uS(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lS(){return Array.from(this)}function cS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function fS(){let e=0;for(const t of this)++e;return e}function dS(){return!this.node()}function hS(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function vS(e){return function(){this.removeAttribute(e)}}function pS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gS(e,t){return function(){this.setAttribute(e,t)}}function mS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yS(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _S(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bS(e,t){var n=Co(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pS:vS:typeof t=="function"?n.local?_S:yS:n.local?mS:gS)(n,t))}function Pb(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wS(e){return function(){this.style.removeProperty(e)}}function ES(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xS(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function SS(e,t,n){return arguments.length>1?this.each((t==null?wS:typeof t=="function"?xS:ES)(e,t,n??"")):dr(this.node(),e)}function dr(e,t){return e.style.getPropertyValue(t)||Pb(e).getComputedStyle(e,null).getPropertyValue(t)}function CS(e){return function(){delete this[e]}}function IS(e,t){return function(){this[e]=t}}function TS(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function NS(e,t){return arguments.length>1?this.each((t==null?CS:typeof t=="function"?TS:IS)(e,t)):this.node()[e]}function Ob(e){return e.trim().split(/^|\s+/)}function sd(e){return e.classList||new qb(e)}function qb(e){this._node=e,this._names=Ob(e.getAttribute("class")||"")}qb.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Db(e,t){for(var n=sd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function $b(e,t){for(var n=sd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function AS(e){return function(){Db(this,e)}}function MS(e){return function(){$b(this,e)}}function RS(e,t){return function(){(t.apply(this,arguments)?Db:$b)(this,e)}}function PS(e,t){var n=Ob(e+"");if(arguments.length<2){for(var r=sd(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?RS:t?AS:MS)(n,t))}function OS(){this.textContent=""}function qS(e){return function(){this.textContent=e}}function DS(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $S(e){return arguments.length?this.each(e==null?OS:(typeof e=="function"?DS:qS)(e)):this.node().textContent}function kS(){this.innerHTML=""}function LS(e){return function(){this.innerHTML=e}}function FS(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function BS(e){return arguments.length?this.each(e==null?kS:(typeof e=="function"?FS:LS)(e)):this.node().innerHTML}function zS(){this.nextSibling&&this.parentNode.appendChild(this)}function HS(){return this.each(zS)}function VS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GS(){return this.each(VS)}function jS(e){var t=typeof e=="function"?e:Tb(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function US(){return null}function KS(e,t){var n=typeof e=="function"?e:Tb(e),r=t==null?US:typeof t=="function"?t:ad(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function YS(){var e=this.parentNode;e&&e.removeChild(this)}function WS(){return this.each(YS)}function XS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZS(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JS(e){return this.select(e?ZS:XS)}function QS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function eC(e){return function(t){e.call(this,t,this.__data__)}}function tC(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nC(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function rC(e,t,n){return function(){var r=this.__on,i,o=eC(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function iC(e,t,n){var r=tC(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(i=0,l=s[u];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?rC:nC,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function kb(e,t,n){var r=Pb(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function oC(e,t){return function(){return kb(this,e,t)}}function aC(e,t){return function(){return kb(this,e,t.apply(this,arguments))}}function sC(e,t){return this.each((typeof t=="function"?aC:oC)(e,t))}function*uC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Lb=[null];function gt(e,t){this._groups=e,this._parents=t}function si(){return new gt([[document.documentElement]],Lb)}function lC(){return this}gt.prototype=si.prototype={constructor:gt,select:Dx,selectAll:Fx,selectChild:Vx,selectChildren:Kx,filter:Yx,data:eS,enter:Wx,exit:nS,join:rS,merge:iS,selection:lC,order:oS,sort:aS,call:uS,nodes:lS,node:cS,size:fS,empty:dS,each:hS,attr:bS,style:SS,property:NS,classed:PS,text:$S,html:BS,raise:HS,lower:GS,append:jS,insert:KS,remove:WS,clone:JS,datum:QS,on:iC,dispatch:sC,[Symbol.iterator]:uC};function wt(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],Lb)}function cC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=cC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const fC={passive:!1},Jr={capture:!0,passive:!1};function da(e){e.stopImmediatePropagation()}function or(e){e.preventDefault(),e.stopImmediatePropagation()}function Fb(e){var t=e.document.documentElement,n=wt(e).on("dragstart.drag",or,Jr);"onselectstart"in t?n.on("selectstart.drag",or,Jr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bb(e,t){var n=e.document.documentElement,r=wt(e).on("dragstart.drag",null);t&&(r.on("click.drag",or,Jr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yi=e=>()=>e;function Nf(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}Nf.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function dC(e){return!e.ctrlKey&&!e.button}function hC(){return this.parentNode}function vC(e,t){return t??{x:e.x,y:e.y}}function pC(){return navigator.maxTouchPoints||"ontouchstart"in this}function gC(){var e=dC,t=hC,n=vC,r=pC,i={},o=So("start","drag","end"),a=0,s,u,c,l,f=0;function d(I){I.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",S,fC).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(I,D){if(!(l||!e.call(this,I,D))){var $=x(this,t.call(this,I,D),I,D,"mouse");$&&(wt(I.view).on("mousemove.drag",y,Jr).on("mouseup.drag",g,Jr),Fb(I.view),da(I),c=!1,s=I.clientX,u=I.clientY,$("start",I))}}function y(I){if(or(I),!c){var D=I.clientX-s,$=I.clientY-u;c=D*D+$*$>f}i.mouse("drag",I)}function g(I){wt(I.view).on("mousemove.drag mouseup.drag",null),Bb(I.view,c),or(I),i.mouse("end",I)}function w(I,D){if(e.call(this,I,D)){var $=I.changedTouches,F=t.call(this,I,D),H=$.length,U,j;for(U=0;U<H;++U)(j=x(this,F,I,D,$[U].identifier,$[U]))&&(da(I),j("start",I,$[U]))}}function S(I){var D=I.changedTouches,$=D.length,F,H;for(F=0;F<$;++F)(H=i[D[F].identifier])&&(or(I),H("drag",I,D[F]))}function T(I){var D=I.changedTouches,$=D.length,F,H;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),F=0;F<$;++F)(H=i[D[F].identifier])&&(da(I),H("end",I,D[F]))}function x(I,D,$,F,H,U){var j=o.copy(),L=Rt(U||$,D),A,X,N;if((N=n.call(I,new Nf("beforestart",{sourceEvent:$,target:d,identifier:H,active:a,x:L[0],y:L[1],dx:0,dy:0,dispatch:j}),F))!=null)return A=N.x-L[0]||0,X=N.y-L[1]||0,function V(R,B,z){var W=L,Y;switch(R){case"start":i[H]=V,Y=a++;break;case"end":delete i[H],--a;case"drag":L=Rt(z||B,D),Y=a;break}j.call(R,I,new Nf(R,{sourceEvent:B,subject:N,target:d,identifier:H,active:Y,x:L[0]+A,y:L[1]+X,dx:L[0]-W[0],dy:L[1]-W[1],dispatch:j}),F)}}return d.filter=function(I){return arguments.length?(e=typeof I=="function"?I:yi(!!I),d):e},d.container=function(I){return arguments.length?(t=typeof I=="function"?I:yi(I),d):t},d.subject=function(I){return arguments.length?(n=typeof I=="function"?I:yi(I),d):n},d.touchable=function(I){return arguments.length?(r=typeof I=="function"?I:yi(!!I),d):r},d.on=function(){var I=o.on.apply(o,arguments);return I===o?d:I},d.clickDistance=function(I){return arguments.length?(f=(I=+I)*I,d):Math.sqrt(f)},d}function ud(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ui(){}var Qr=.7,Wi=1/Qr,ar="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mC=/^#([0-9a-f]{3,8})$/,yC=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),_C=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),bC=new RegExp(`^rgba\\(${ar},${ar},${ar},${ei}\\)$`),wC=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${ei}\\)$`),EC=new RegExp(`^hsl\\(${ei},${Ft},${Ft}\\)$`),xC=new RegExp(`^hsla\\(${ei},${Ft},${Ft},${ei}\\)$`),yh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ud(ui,zn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_h,formatHex:_h,formatHex8:SC,formatHsl:CC,formatRgb:bh,toString:bh});function _h(){return this.rgb().formatHex()}function SC(){return this.rgb().formatHex8()}function CC(){return Hb(this).formatHsl()}function bh(){return this.rgb().formatRgb()}function zn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wh(t):n===3?new ut(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_i(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_i(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yC.exec(e))?new ut(t[1],t[2],t[3],1):(t=_C.exec(e))?new ut(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bC.exec(e))?_i(t[1],t[2],t[3],t[4]):(t=wC.exec(e))?_i(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EC.exec(e))?Sh(t[1],t[2]/100,t[3]/100,1):(t=xC.exec(e))?Sh(t[1],t[2]/100,t[3]/100,t[4]):yh.hasOwnProperty(e)?wh(yh[e]):e==="transparent"?new ut(NaN,NaN,NaN,0):null}function wh(e){return new ut(e>>16&255,e>>8&255,e&255,1)}function _i(e,t,n,r){return r<=0&&(e=t=n=NaN),new ut(e,t,n,r)}function IC(e){return e instanceof ui||(e=zn(e)),e?(e=e.rgb(),new ut(e.r,e.g,e.b,e.opacity)):new ut}function Af(e,t,n,r){return arguments.length===1?IC(e):new ut(e,t,n,r??1)}function ut(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ud(ut,Af,zb(ui,{brighter(e){return e=e==null?Wi:Math.pow(Wi,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qr:Math.pow(Qr,e),new ut(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ut(Ln(this.r),Ln(this.g),Ln(this.b),Xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Eh,formatHex:Eh,formatHex8:TC,formatRgb:xh,toString:xh}));function Eh(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}`}function TC(){return`#${qn(this.r)}${qn(this.g)}${qn(this.b)}${qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function xh(){const e=Xi(this.opacity);return`${e===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${e===1?")":`, ${e})`}`}function Xi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qn(e){return e=Ln(e),(e<16?"0":"")+e.toString(16)}function Sh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function Hb(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof ui||(e=zn(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Et(a,s,u,e.opacity)}function NC(e,t,n,r){return arguments.length===1?Hb(e):new Et(e,t,n,r??1)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ud(Et,NC,zb(ui,{brighter(e){return e=e==null?Wi:Math.pow(Wi,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qr:Math.pow(Qr,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ut(ha(e>=240?e-240:e+120,i,r),ha(e,i,r),ha(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Et(Ch(this.h),bi(this.s),bi(this.l),Xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xi(this.opacity);return`${e===1?"hsl(":"hsla("}${Ch(this.h)}, ${bi(this.s)*100}%, ${bi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ch(e){return e=(e||0)%360,e<0?e+360:e}function bi(e){return Math.max(0,Math.min(1,e||0))}function ha(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ld=e=>()=>e;function AC(e,t){return function(n){return e+n*t}}function MC(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function RC(e){return(e=+e)==1?Vb:function(t,n){return n-t?MC(t,n,e):ld(isNaN(t)?n:t)}}function Vb(e,t){var n=t-e;return n?AC(e,n):ld(isNaN(e)?t:e)}const Zi=function e(t){var n=RC(t);function r(i,o){var a=n((i=Af(i)).r,(o=Af(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=Vb(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=e,r}(1);function PC(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function OC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qC(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Vr(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function DC(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ot(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $C(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Vr(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Mf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,va=new RegExp(Mf.source,"g");function kC(e){return function(){return e}}function LC(e){return function(t){return e(t)+""}}function Gb(e,t){var n=Mf.lastIndex=va.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Mf.exec(e))&&(i=va.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Ot(r,i)})),n=va.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?LC(u[0].x):kC(t):(t=u.length,function(c){for(var l=0,f;l<t;++l)s[(f=u[l]).i]=f.x(c);return s.join("")})}function Vr(e,t){var n=typeof t,r;return t==null||n==="boolean"?ld(t):(n==="number"?Ot:n==="string"?(r=zn(t))?(t=r,Zi):Gb:t instanceof zn?Zi:t instanceof Date?DC:OC(t)?PC:Array.isArray(t)?qC:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$C:Ot)(e,t)}var Ih=180/Math.PI,Rf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jb(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ih,skewX:Math.atan(u)*Ih,scaleX:a,scaleY:s}}var wi;function FC(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rf:jb(t.a,t.b,t.c,t.d,t.e,t.f)}function BC(e){return e==null||(wi||(wi=document.createElementNS("http://www.w3.org/2000/svg","g")),wi.setAttribute("transform",e),!(e=wi.transform.baseVal.consolidate()))?Rf:(e=e.matrix,jb(e.a,e.b,e.c,e.d,e.e,e.f))}function Ub(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,f,d,h,y){if(c!==f||l!==d){var g=h.push("translate(",null,t,null,n);y.push({i:g-4,x:Ot(c,f)},{i:g-2,x:Ot(l,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(c,l,f,d){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Ot(c,l)})):l&&f.push(i(f)+"rotate("+l+r)}function s(c,l,f,d){c!==l?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Ot(c,l)}):l&&f.push(i(f)+"skewX("+l+r)}function u(c,l,f,d,h,y){if(c!==f||l!==d){var g=h.push(i(h)+"scale(",null,",",null,")");y.push({i:g-4,x:Ot(c,f)},{i:g-2,x:Ot(l,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,l){var f=[],d=[];return c=e(c),l=e(l),o(c.translateX,c.translateY,l.translateX,l.translateY,f,d),a(c.rotate,l.rotate,f,d),s(c.skewX,l.skewX,f,d),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,f,d),c=l=null,function(h){for(var y=-1,g=d.length,w;++y<g;)f[(w=d[y]).i]=w.x(h);return f.join("")}}}var zC=Ub(FC,"px, ","px)","deg)"),HC=Ub(BC,", ",")",")"),VC=1e-12;function Th(e){return((e=Math.exp(e))+1/e)/2}function GC(e){return((e=Math.exp(e))-1/e)/2}function jC(e){return((e=Math.exp(2*e))-1)/(e+1)}const Di=function e(t,n,r){function i(o,a){var s=o[0],u=o[1],c=o[2],l=a[0],f=a[1],d=a[2],h=l-s,y=f-u,g=h*h+y*y,w,S;if(g<VC)S=Math.log(d/c)/t,w=function(F){return[s+F*h,u+F*y,c*Math.exp(t*F*S)]};else{var T=Math.sqrt(g),x=(d*d-c*c+r*g)/(2*c*n*T),I=(d*d-c*c-r*g)/(2*d*n*T),D=Math.log(Math.sqrt(x*x+1)-x),$=Math.log(Math.sqrt(I*I+1)-I);S=($-D)/t,w=function(F){var H=F*S,U=Th(D),j=c/(n*T)*(U*jC(t*H+D)-GC(D));return[s+j*h,u+j*y,c*U/Th(t*H+D)]}}return w.duration=S*1e3*t/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4);var hr=0,Tr=0,Sr=0,Kb=1e3,Ji,Nr,Qi=0,Hn=0,Io=0,ti=typeof performance=="object"&&performance.now?performance:Date,Yb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cd(){return Hn||(Yb(UC),Hn=ti.now()+Io)}function UC(){Hn=0}function eo(){this._call=this._time=this._next=null}eo.prototype=Wb.prototype={constructor:eo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cd():+n)+(t==null?0:+t),!this._next&&Nr!==this&&(Nr?Nr._next=this:Ji=this,Nr=this),this._call=e,this._time=n,Pf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pf())}};function Wb(e,t,n){var r=new eo;return r.restart(e,t,n),r}function KC(){cd(),++hr;for(var e=Ji,t;e;)(t=Hn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hr}function Nh(){Hn=(Qi=ti.now())+Io,hr=Tr=0;try{KC()}finally{hr=0,WC(),Hn=0}}function YC(){var e=ti.now(),t=e-Qi;t>Kb&&(Io-=t,Qi=e)}function WC(){for(var e,t=Ji,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ji=n);Nr=e,Pf(r)}function Pf(e){if(!hr){Tr&&(Tr=clearTimeout(Tr));var t=e-Hn;t>24?(e<1/0&&(Tr=setTimeout(Nh,e-ti.now()-Io)),Sr&&(Sr=clearInterval(Sr))):(Sr||(Qi=ti.now(),Sr=setInterval(YC,Kb)),hr=1,Yb(Nh))}}function Ah(e,t,n){var r=new eo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var XC=So("start","end","cancel","interrupt"),ZC=[],Xb=0,Mh=1,Of=2,$i=3,Rh=4,qf=5,ki=6;function To(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;JC(e,n,{name:t,index:r,group:i,on:XC,tween:ZC,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xb})}function fd(e,t){var n=It(e,t);if(n.state>Xb)throw new Error("too late; already scheduled");return n}function zt(e,t){var n=It(e,t);if(n.state>$i)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function JC(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Wb(o,0,n.time);function o(c){n.state=Mh,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,f,d,h;if(n.state!==Mh)return u();for(l in r)if(h=r[l],h.name===n.name){if(h.state===$i)return Ah(a);h.state===Rh?(h.state=ki,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=ki,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(Ah(function(){n.state===$i&&(n.state=Rh,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Of,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Of){for(n.state=$i,i=new Array(d=n.tween.length),l=0,f=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=qf,1),f=-1,d=i.length;++f<d;)i[f].call(e,l);n.state===qf&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ki,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Li(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Of&&r.state<qf,r.state=ki,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function QC(e){return this.each(function(){Li(this,e)})}function eI(e,t){var n,r;return function(){var i=zt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function tI(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=zt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function nI(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?eI:tI)(n,e,t))}function dd(e,t,n){var r=e._id;return e.each(function(){var i=zt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return It(i,r).value[t]}}function Zb(e,t){var n;return(typeof t=="number"?Ot:t instanceof zn?Zi:(n=zn(t))?(t=n,Zi):Gb)(e,t)}function rI(e){return function(){this.removeAttribute(e)}}function iI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oI(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function aI(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function sI(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function uI(e,t,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s)))}}function lI(e,t){var n=Co(e),r=n==="transform"?HC:Zb;return this.attrTween(e,typeof t=="function"?(n.local?uI:sI)(n,r,dd(this,"attr."+e,t)):t==null?(n.local?iI:rI)(n):(n.local?aI:oI)(n,r,t))}function cI(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function fI(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function dI(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&fI(e,o)),n}return i._value=t,i}function hI(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&cI(e,o)),n}return i._value=t,i}function vI(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Co(e);return this.tween(n,(r.local?dI:hI)(r,t))}function pI(e,t){return function(){fd(this,e).delay=+t.apply(this,arguments)}}function gI(e,t){return t=+t,function(){fd(this,e).delay=t}}function mI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pI:gI)(t,e)):It(this.node(),t).delay}function yI(e,t){return function(){zt(this,e).duration=+t.apply(this,arguments)}}function _I(e,t){return t=+t,function(){zt(this,e).duration=t}}function bI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yI:_I)(t,e)):It(this.node(),t).duration}function wI(e,t){if(typeof t!="function")throw new Error;return function(){zt(this,e).ease=t}}function EI(e){var t=this._id;return arguments.length?this.each(wI(t,e)):It(this.node(),t).ease}function xI(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zt(this,e).ease=n}}function SI(e){if(typeof e!="function")throw new Error;return this.each(xI(this._id,e))}function CI(e){typeof e!="function"&&(e=Ab(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&s.push(u);return new an(r,this._parents,this._name,this._id)}function II(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=t[s],c=n[s],l=u.length,f=a[s]=new Array(l),d,h=0;h<l;++h)(d=u[h]||c[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new an(a,this._parents,this._name,this._id)}function TI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function NI(e,t,n){var r,i,o=TI(t)?fd:zt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function AI(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(NI(n,e,t))}function MI(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function RI(){return this.on("end.remove",MI(this._id))}function PI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ad(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),l,f,d=0;d<u;++d)(l=s[d])&&(f=e.call(l,l.__data__,d,s))&&("__data__"in l&&(f.__data__=l.__data__),c[d]=f,To(c[d],t,n,d,c,It(l,n)));return new an(o,this._parents,t,n)}function OI(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Nb(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,l,f=0;f<c;++f)if(l=u[f]){for(var d=e.call(l,l.__data__,f,u),h,y=It(l,n),g=0,w=d.length;g<w;++g)(h=d[g])&&To(h,t,n,g,d,y);o.push(d),a.push(l)}return new an(o,a,t,n)}var qI=si.prototype.constructor;function DI(){return new qI(this._groups,this._parents)}function $I(e,t){var n,r,i;return function(){var o=dr(this,e),a=(this.style.removeProperty(e),dr(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Jb(e){return function(){this.style.removeProperty(e)}}function kI(e,t,n){var r,i=n+"",o;return function(){var a=dr(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function LI(e,t,n){var r,i,o;return function(){var a=dr(this,e),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),dr(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function FI(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var u=zt(this,e),c=u.on,l=u.value[o]==null?s||(s=Jb(t)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function BI(e,t,n){var r=(e+="")=="transform"?zC:Zb;return t==null?this.styleTween(e,$I(e,r)).on("end.style."+e,Jb(e)):typeof t=="function"?this.styleTween(e,LI(e,r,dd(this,"style."+e,t))).each(FI(this._id,e)):this.styleTween(e,kI(e,r,t),n).on("end.style."+e,null)}function zI(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function HI(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&zI(e,a,n)),r}return o._value=t,o}function VI(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,HI(e,t,n??""))}function GI(e){return function(){this.textContent=e}}function jI(e){return function(){var t=e(this);this.textContent=t??""}}function UI(e){return this.tween("text",typeof e=="function"?jI(dd(this,"text",e)):GI(e==null?"":e+""))}function KI(e){return function(t){this.textContent=e.call(this,t)}}function YI(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&KI(i)),t}return r._value=e,r}function WI(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,YI(e))}function XI(){for(var e=this._name,t=this._id,n=Qb(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var l=It(u,t);To(u,e,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new an(r,this._parents,e,n)}function ZI(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=zt(this,r),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),i===0&&o()})}var JI=0;function an(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qb(){return++JI}var Gt=si.prototype;an.prototype={constructor:an,select:PI,selectAll:OI,selectChild:Gt.selectChild,selectChildren:Gt.selectChildren,filter:CI,merge:II,selection:DI,transition:XI,call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:AI,attr:lI,attrTween:vI,style:BI,styleTween:VI,text:UI,textTween:WI,remove:RI,tween:nI,delay:mI,duration:bI,ease:EI,easeVarying:SI,end:ZI,[Symbol.iterator]:Gt[Symbol.iterator]};function QI(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var eT={time:null,delay:0,duration:250,ease:QI};function tT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function nT(e){var t,n;e instanceof an?(t=e._id,e=e._name):(t=Qb(),(n=eT).time=cd(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&To(u,e,t,c,a,n||tT(u,t));return new an(r,this._parents,e,t)}si.prototype.interrupt=QC;si.prototype.transition=nT;const Ei=e=>()=>e;function rT(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Xt(e,t,n){this.k=e,this.x=t,this.y=n}Xt.prototype={constructor:Xt,scale:function(e){return e===1?this:new Xt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Xt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vr=new Xt(1,0,0);Xt.prototype;function pa(e){e.stopImmediatePropagation()}function Cr(e){e.preventDefault(),e.stopImmediatePropagation()}function iT(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function oT(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ph(){return this.__zoom||vr}function aT(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function sT(){return navigator.maxTouchPoints||"ontouchstart"in this}function uT(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function lT(){var e=iT,t=oT,n=uT,r=aT,i=sT,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Di,c=So("start","zoom","end"),l,f,d,h=500,y=150,g=0,w=10;function S(N){N.property("__zoom",Ph).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",j).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(N,V,R,B){var z=N.selection?N.selection():N;z.property("__zoom",Ph),N!==z?D(N,V,R,B):z.interrupt().each(function(){$(this,arguments).event(B).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},S.scaleBy=function(N,V,R,B){S.scaleTo(N,function(){var z=this.__zoom.k,W=typeof V=="function"?V.apply(this,arguments):V;return z*W},R,B)},S.scaleTo=function(N,V,R,B){S.transform(N,function(){var z=t.apply(this,arguments),W=this.__zoom,Y=R==null?I(z):typeof R=="function"?R.apply(this,arguments):R,Z=W.invert(Y),re=typeof V=="function"?V.apply(this,arguments):V;return n(x(T(W,re),Y,Z),z,a)},R,B)},S.translateBy=function(N,V,R,B){S.transform(N,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),a)},null,B)},S.translateTo=function(N,V,R,B,z){S.transform(N,function(){var W=t.apply(this,arguments),Y=this.__zoom,Z=B==null?I(W):typeof B=="function"?B.apply(this,arguments):B;return n(vr.translate(Z[0],Z[1]).scale(Y.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof R=="function"?-R.apply(this,arguments):-R),W,a)},B,z)};function T(N,V){return V=Math.max(o[0],Math.min(o[1],V)),V===N.k?N:new Xt(V,N.x,N.y)}function x(N,V,R){var B=V[0]-R[0]*N.k,z=V[1]-R[1]*N.k;return B===N.x&&z===N.y?N:new Xt(N.k,B,z)}function I(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function D(N,V,R,B){N.on("start.zoom",function(){$(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(B).end()}).tween("zoom",function(){var z=this,W=arguments,Y=$(z,W).event(B),Z=t.apply(z,W),re=R==null?I(Z):typeof R=="function"?R.apply(z,W):R,le=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),me=z.__zoom,te=typeof V=="function"?V.apply(z,W):V,J=u(me.invert(re).concat(le/me.k),te.invert(re).concat(le/te.k));return function(se){if(se===1)se=te;else{var ye=J(se),Ee=le/ye[2];se=new Xt(Ee,re[0]-ye[0]*Ee,re[1]-ye[1]*Ee)}Y.zoom(null,se)}})}function $(N,V,R){return!R&&N.__zooming||new F(N,V)}function F(N,V){this.that=N,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,V),this.taps=0}F.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,V){return this.mouse&&N!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var V=wt(this.that).datum();c.call(N,this.that,new rT(N,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:c}),V)}};function H(N,...V){if(!e.apply(this,arguments))return;var R=$(this,V).event(N),B=this.__zoom,z=Math.max(o[0],Math.min(o[1],B.k*Math.pow(2,r.apply(this,arguments)))),W=Rt(N);if(R.wheel)(R.mouse[0][0]!==W[0]||R.mouse[0][1]!==W[1])&&(R.mouse[1]=B.invert(R.mouse[0]=W)),clearTimeout(R.wheel);else{if(B.k===z)return;R.mouse=[W,B.invert(W)],Li(this),R.start()}Cr(N),R.wheel=setTimeout(Y,y),R.zoom("mouse",n(x(T(B,z),R.mouse[0],R.mouse[1]),R.extent,a));function Y(){R.wheel=null,R.end()}}function U(N,...V){if(d||!e.apply(this,arguments))return;var R=N.currentTarget,B=$(this,V,!0).event(N),z=wt(N.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",le,!0),W=Rt(N,R),Y=N.clientX,Z=N.clientY;Fb(N.view),pa(N),B.mouse=[W,this.__zoom.invert(W)],Li(this),B.start();function re(me){if(Cr(me),!B.moved){var te=me.clientX-Y,J=me.clientY-Z;B.moved=te*te+J*J>g}B.event(me).zoom("mouse",n(x(B.that.__zoom,B.mouse[0]=Rt(me,R),B.mouse[1]),B.extent,a))}function le(me){z.on("mousemove.zoom mouseup.zoom",null),Bb(me.view,B.moved),Cr(me),B.event(me).end()}}function j(N,...V){if(e.apply(this,arguments)){var R=this.__zoom,B=Rt(N.changedTouches?N.changedTouches[0]:N,this),z=R.invert(B),W=R.k*(N.shiftKey?.5:2),Y=n(x(T(R,W),B,z),t.apply(this,V),a);Cr(N),s>0?wt(this).transition().duration(s).call(D,Y,B,N):wt(this).call(S.transform,Y,B,N)}}function L(N,...V){if(e.apply(this,arguments)){var R=N.touches,B=R.length,z=$(this,V,N.changedTouches.length===B).event(N),W,Y,Z,re;for(pa(N),Y=0;Y<B;++Y)Z=R[Y],re=Rt(Z,this),re=[re,this.__zoom.invert(re),Z.identifier],z.touch0?!z.touch1&&z.touch0[2]!==re[2]&&(z.touch1=re,z.taps=0):(z.touch0=re,W=!0,z.taps=1+!!l);l&&(l=clearTimeout(l)),W&&(z.taps<2&&(f=re[0],l=setTimeout(function(){l=null},h)),Li(this),z.start())}}function A(N,...V){if(this.__zooming){var R=$(this,V).event(N),B=N.changedTouches,z=B.length,W,Y,Z,re;for(Cr(N),W=0;W<z;++W)Y=B[W],Z=Rt(Y,this),R.touch0&&R.touch0[2]===Y.identifier?R.touch0[0]=Z:R.touch1&&R.touch1[2]===Y.identifier&&(R.touch1[0]=Z);if(Y=R.that.__zoom,R.touch1){var le=R.touch0[0],me=R.touch0[1],te=R.touch1[0],J=R.touch1[1],se=(se=te[0]-le[0])*se+(se=te[1]-le[1])*se,ye=(ye=J[0]-me[0])*ye+(ye=J[1]-me[1])*ye;Y=T(Y,Math.sqrt(se/ye)),Z=[(le[0]+te[0])/2,(le[1]+te[1])/2],re=[(me[0]+J[0])/2,(me[1]+J[1])/2]}else if(R.touch0)Z=R.touch0[0],re=R.touch0[1];else return;R.zoom("touch",n(x(Y,Z,re),R.extent,a))}}function X(N,...V){if(this.__zooming){var R=$(this,V).event(N),B=N.changedTouches,z=B.length,W,Y;for(pa(N),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),W=0;W<z;++W)Y=B[W],R.touch0&&R.touch0[2]===Y.identifier?delete R.touch0:R.touch1&&R.touch1[2]===Y.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(Y=Rt(Y,this),Math.hypot(f[0]-Y[0],f[1]-Y[1])<w)){var Z=wt(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return S.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Ei(+N),S):r},S.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Ei(!!N),S):e},S.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:Ei(!!N),S):i},S.extent=function(N){return arguments.length?(t=typeof N=="function"?N:Ei([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),S):t},S.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],S):[o[0],o[1]]},S.translateExtent=function(N){return arguments.length?(a[0][0]=+N[0][0],a[1][0]=+N[1][0],a[0][1]=+N[0][1],a[1][1]=+N[1][1],S):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},S.constrain=function(N){return arguments.length?(n=N,S):n},S.duration=function(N){return arguments.length?(s=+N,S):s},S.interpolate=function(N){return arguments.length?(u=N,S):u},S.on=function(){var N=c.on.apply(c,arguments);return N===c?S:N},S.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,S):Math.sqrt(g)},S.tapDistance=function(N){return arguments.length?(w=+N,S):w},S}var ae=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(ae||{}),hd=(e=>(e.Partial="partial",e.Full="full",e))(hd||{}),Pn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Pn||{}),xn=(e=>(e.Strict="strict",e.Loose="loose",e))(xn||{}),Df=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(Df||{}),Gr=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(Gr||{}),e0=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(e0||{});const cT=["INPUT","SELECT","TEXTAREA"],fT=typeof document<"u"?document:null;function $f(e){var t,n;const r=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof(r==null?void 0:r.hasAttribute)=="function"?r.hasAttribute("contenteditable"):!1,o=typeof(r==null?void 0:r.closest)=="function"?r.closest(".nokey"):null;return cT.includes(r==null?void 0:r.nodeName)||i||!!o}function dT(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Oh(e,t,n,r){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(a=>a.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();r||n.add(e.toLowerCase());const o=i.every((a,s)=>n.has(a)&&Array.from(n.values())[s]===i[s]);return r&&n.delete(e.toLowerCase()),o}function hT(e,t){return n=>{if(!n.code&&!n.key)return!1;const r=vT(n.code,e);return Array.isArray(e)?e.some(i=>Oh(n[r],i,t,n.type==="keyup")):Oh(n[r],e,t,n.type==="keyup")}}function vT(e,t){return t.includes(e)?"code":"key"}function jr(e,t){const n=de(()=>we(t==null?void 0:t.target)??fT),r=wn(we(e)===!0);let i=!1;const o=new Set;let a=u(we(e));Ie(()=>we(e),(c,l)=>{typeof l=="boolean"&&typeof c!="boolean"&&s(),a=u(c)},{immediate:!0}),Ib(["blur","contextmenu"],s),ph((...c)=>a(...c),c=>{var l,f;const d=we(t==null?void 0:t.actInsideInputWithModifier)??!0,h=we(t==null?void 0:t.preventDefault)??!1;if(i=dT(c),(!i||i&&!d)&&$f(c))return;const g=((f=(l=c.composedPath)==null?void 0:l.call(c))==null?void 0:f[0])||c.target,w=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";!h&&(i||!w)&&c.preventDefault(),r.value=!0},{eventName:"keydown",target:n}),ph((...c)=>a(...c),c=>{const l=we(t==null?void 0:t.actInsideInputWithModifier)??!0;if(r.value){if((!i||i&&!l)&&$f(c))return;i=!1,r.value=!1}},{eventName:"keyup",target:n});function s(){i=!1,o.clear(),r.value=we(e)===!0}function u(c){return c===null?(s(),()=>!1):typeof c=="boolean"?(s(),r.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?hT(c,o):c}return r}const t0="vue-flow__node-desc",n0="vue-flow__edge-desc",pT="vue-flow__aria-live",r0=["Enter"," ","Escape"],sr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function to(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function no(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)}function No(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Vn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function i0(e,t){return{x:Vn(e.x,t[0][0],t[1][0]),y:Vn(e.y,t[0][1],t[1][1])}}function qh(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Sn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Fn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Sn(e)}function Ar(e){return Fn(e)&&"computedPosition"in e}function xi(e){return!Number.isNaN(e)&&Number.isFinite(e)}function gT(e){return xi(e.width)&&xi(e.height)&&xi(e.x)&&xi(e.y)}function mT(e,t,n){const r={id:e.id.toString(),type:e.type??"default",dimensions:Fr({width:0,height:0}),computedPosition:Fr({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ge(e.data)?e.data:{},events:Fr(Ge(e.events)?e.events:{})};return Object.assign(t??r,e,{id:e.id.toString(),parentNode:n})}function o0(e,t,n){var r,i;const o={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(r=e.sourceHandle)==null?void 0:r.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:Ge(e.data)?e.data:{},events:Fr(Ge(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??o,e,{id:e.id.toString()})}function a0(e,t,n,r){const i=typeof e=="string"?e:e.id,o=new Set,a=r==="source"?"target":"source";for(const s of n)s[a]===i&&o.add(s[r]);return t.filter(s=>o.has(s.id))}function yT(...e){if(e.length===3){const[o,a,s]=e;return a0(o,a,s,"target")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>Sn(o)&&o.source===r).map(o=>n.find(a=>Fn(a)&&a.id===o.target))}function _T(...e){if(e.length===3){const[o,a,s]=e;return a0(o,a,s,"source")}const[t,n]=e,r=typeof t=="string"?t:t.id;return n.filter(o=>Sn(o)&&o.target===r).map(o=>n.find(a=>Fn(a)&&a.id===o.source))}function s0({source:e,sourceHandle:t,target:n,targetHandle:r}){return`vueflow__edge-${e}${t??""}-${n}${r??""}`}function bT(e,t){return t.some(n=>Sn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function ni({x:e,y:t},{x:n,y:r,zoom:i}){return{x:e*i+n,y:t*i+r}}function ri({x:e,y:t},{x:n,y:r,zoom:i},o=!1,a=[1,1]){const s={x:(e-n)/i,y:(t-r)/i};return o?Ao(s,a):s}function wT(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function u0({x:e,y:t,width:n,height:r}){return{x:e,y:t,x2:e+n,y2:t+r}}function ET({x:e,y:t,x2:n,y2:r}){return{x:e,y:t,width:n-e,height:r-t}}function l0(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const r=e[n];t=wT(t,u0({...r.computedPosition,...r.dimensions}))}return ET(t)}function c0(e,t,n={x:0,y:0,zoom:1},r=!1,i=!1){const o={...ri(t,n),width:t.width/n.zoom,height:t.height/n.zoom},a=[];for(const s of e){const{dimensions:u,selectable:c=!0,hidden:l=!1}=s,f=u.width??s.width??null,d=u.height??s.height??null;if(i&&!c||l)continue;const h=no(o,to(s)),y=f===null||d===null,g=r&&h>0,w=(f??0)*(d??0);(y||g||h>=w||s.dragging)&&a.push(s)}return a}function f0(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const r of e)n.add(r.id);return t.filter(r=>n.has(r.source)||n.has(r.target))}function Zn(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return li(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function xT(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Zn(e,n),i=Zn(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Zn(e.top??e.y??0,n),i=Zn(e.bottom??e.y??0,n),o=Zn(e.left??e.x??0,t),a=Zn(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ST(e,t,n,r,i,o){const{x:a,y:s}=ni(e,{x:t,y:n,zoom:r}),{x:u,y:c}=ni({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:r}),l=i-u,f=o-c;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(l),bottom:Math.floor(f)}}function Dh(e,t,n,r,i,o=.1){const a=xT(o,t,n),s=(t-a.x)/e.width,u=(n-a.y)/e.height,c=Math.min(s,u),l=Vn(c,r,i),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*l,y=n/2-d*l,g=ST(e,h,y,l,t,n),w={left:Math.min(g.left-a.left,0),top:Math.min(g.top-a.top,0),right:Math.min(g.right-a.right,0),bottom:Math.min(g.bottom-a.bottom,0)};return{x:h-w.left+w.right,y:y-w.top+w.bottom,zoom:l}}function CT(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function d0(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:d0(n,t):!1}function ii(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`}function $h(e){const t=e.ctrlKey&&ro()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function kh(e,t,n){return e<t?Vn(Math.abs(e-t),1,t)/t:e>n?-Vn(Math.abs(e-n),1,t)/t:0}function h0(e,t,n=15,r=40){const i=kh(e.x,r,t.width-r)*n,o=kh(e.y,r,t.height-r)*n;return[i,o]}function ga(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,r=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||r>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style=="function"?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(typeof i.width=="string"){const o=Number(i.width.replace("px",""));i.width=`${o+n}px`}else i.width+=n;if(r>0)if(typeof i.height=="string"){const o=Number(i.height.replace("px",""));i.height=`${o+r}px`}else i.height+=r;if(e.position.x<0){const o=Math.abs(e.position.x);if(t.position.x=t.position.x-o,typeof i.width=="string"){const a=Number(i.width.replace("px",""));i.width=`${a+o}px`}else i.width+=o;e.position.x=0}if(e.position.y<0){const o=Math.abs(e.position.y);if(t.position.y=t.position.y-o,typeof i.height=="string"){const a=Number(i.height.replace("px",""));i.height=`${a+o}px`}else i.height+=o;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),typeof t.style=="function"?t.style=o=>{const a=t.style;return{...a(o),...i}}:t.style={...t.style,...i}}}}function Lh(e,t){var n,r;const i=e.filter(a=>a.type==="add"||a.type==="remove");for(const a of i)if(a.type==="add")t.findIndex(u=>u.id===a.item.id)===-1&&t.push(a.item);else if(a.type==="remove"){const s=t.findIndex(u=>u.id===a.id);s!==-1&&t.splice(s,1)}const o=t.map(a=>a.id);for(const a of t)for(const s of e)if(s.id===a.id)switch(s.type){case"select":a.selected=s.selected;break;case"position":if(Ar(a)&&(typeof s.position<"u"&&(a.position=s.position),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&Ar(u)&&ga(a,u)}break;case"dimensions":if(Ar(a)&&(typeof s.dimensions<"u"&&(a.dimensions=s.dimensions),typeof s.updateStyle<"u"&&s.updateStyle&&(a.style={...a.style||{},width:`${(n=s.dimensions)==null?void 0:n.width}px`,height:`${(r=s.dimensions)==null?void 0:r.height}px`}),typeof s.resizing<"u"&&(a.resizing=s.resizing),a.expandParent&&a.parentNode)){const u=t[o.indexOf(a.parentNode)];u&&Ar(u)&&(!!u.dimensions.width&&!!u.dimensions.height?ga(a,u):kt(()=>{ga(a,u)}))}break}return t}function pn(e,t){return{id:e,type:"select",selected:t}}function Fh(e){return{item:e,type:"add"}}function Bh(e){return{id:e,type:"remove"}}function zh(e,t,n,r,i){return{id:e,source:t,target:n,sourceHandle:r||null,targetHandle:i||null,type:"remove"}}function _n(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(pn(o.id,a)))}return r}const Hh=()=>{};function ee(e){const t=new Set;let n=Hh,r=()=>!1;const i=()=>t.size>0||r(),o=d=>{n=d},a=()=>{n=Hh},s=d=>{r=d},u=()=>{r=()=>!1},c=d=>{t.delete(d)};return{on:d=>{t.add(d);const h=()=>c(d);return Zr(h),{off:h}},off:c,trigger:d=>{const h=[n];return i()?h.push(...t):e&&h.push(e),Promise.allSettled(h.map(y=>y(d)))},hasListeners:i,listeners:t,setEmitter:o,removeEmitter:a,setHasEmitListeners:s,removeHasEmitListeners:u}}function Vh(e,t,n){let r=e;do{if(r&&r.matches(t))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function IT(e,t,n,r){var i,o;const a=new Map;for(const[s,u]of e)(u.selected||u.id===r)&&(!u.parentNode||!d0(u,e))&&(u.draggable||t&&typeof u.draggable>"u")&&e.get(s)&&a.set(s,{id:u.id,position:u.position||{x:0,y:0},distance:{x:n.x-((i=u.computedPosition)==null?void 0:i.x)||0,y:n.y-((o=u.computedPosition)==null?void 0:o.y)||0},from:{x:u.computedPosition.x,y:u.computedPosition.y},extent:u.extent,parentNode:u.parentNode,dimensions:{...u.dimensions},expandParent:u.expandParent});return Array.from(a.values())}function ma({id:e,dragItems:t,findNode:n}){const r=[];for(const i of t){const o=n(i.id);o&&r.push(o)}return[e?r.find(i=>i.id===e):r[0],r]}function v0(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function TT(e,t,n){const[r,i,o,a]=typeof e!="string"?v0(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+a,n.computedPosition.y+r],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-o]]:!1}function NT(e,t,n,r){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&(i==null?void 0:i.range)==="parent")&&!e.expandParent)if(e.parentNode&&r&&e.dimensions.width&&e.dimensions.height){const o=TT(i,e,r);o&&(i=o)}else t(new Ye(Ue.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const o=(r==null?void 0:r.computedPosition.x)||0,a=(r==null?void 0:r.computedPosition.y)||0;i=[[i[0][0]+o,i[0][1]+a],[i[1][0]+o,i[1][1]+a]]}else if(i!=="parent"&&(i!=null&&i.range)&&Array.isArray(i.range)){const[o,a,s,u]=v0(i.padding),c=(r==null?void 0:r.computedPosition.x)||0,l=(r==null?void 0:r.computedPosition.y)||0;i=[[i.range[0][0]+c+u,i.range[0][1]+l+o],[i.range[1][0]+c-a,i.range[1][1]+l-s]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function AT({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function vd(e,t,n,r,i){const o=AT(e.dimensions,NT(e,n,r,i)),a=i0(t,o);return{position:{x:a.x-((i==null?void 0:i.computedPosition.x)||0),y:a.y-((i==null?void 0:i.computedPosition.y)||0)},computedPosition:a}}function pr(e,t,n=ae.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.computedPosition.x,o=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:a,height:s}=t??OT(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case ae.Top:return{x:i+a/2,y:o};case ae.Right:return{x:i+a,y:o+s/2};case ae.Bottom:return{x:i+a/2,y:o+s};case ae.Left:return{x:i,y:o+s/2}}}function Gh(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function MT({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,viewport:u}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const l=u0({x:(0-u.x)/u.zoom,y:(0-u.y)/u.zoom,width:a/u.zoom,height:s/u.zoom}),f=Math.max(0,Math.min(l.x2,c.x2)-Math.max(l.x,c.x)),d=Math.max(0,Math.min(l.y2,c.y2)-Math.max(l.y,c.y));return Math.ceil(f*d)>0}function RT(e,t,n=!1){const r=typeof e.zIndex=="number";let i=r?e.zIndex:0;const o=t(e.source),a=t(e.target);return!o||!a?0:(n&&(i=r?e.zIndex:Math.max(o.computedPosition.z||0,a.computedPosition.z||0)),i)}var Ue=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ue||{});const jh={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Ye extends Error{constructor(t,...n){var r;super((r=jh[t])==null?void 0:r.call(jh,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function pd(e){return"clientX"in e}function PT(e){return"sourceEvent"in e}function qt(e,t){const n=pd(e);let r,i;return n?(r=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(r=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(r=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(r=0,i=0),{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}}const ro=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function OT(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ao(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const qT=()=>!0;function ya(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function DT(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())no(i,to(o))>0&&r.push(o);return r}const $T=250;function kT(e,t,n,r){var i,o;let a=[],s=Number.POSITIVE_INFINITY;const u=DT(e,n,t+$T);for(const c of u){const l=[...((i=c.handleBounds)==null?void 0:i.source)??[],...((o=c.handleBounds)==null?void 0:o.target)??[]];for(const f of l){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=pr(c,f,f.position,!0),y=Math.sqrt((d-e.x)**2+(h-e.y)**2);y>t||(y<s?(a=[{...f,x:d,y:h}],s=y):y===s&&a.push({...f,x:d,y:h}))}}if(!a.length)return null;if(a.length>1){const c=r.type==="source"?"target":"source";return a.find(l=>l.type===c)??a[0]}return a[0]}function Uh(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:u,isValidConnection:c=qT},l,f,d,h){const y=o==="target",g=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:w,y:S}=qt(e),T=a.elementFromPoint(w,S),x=T!=null&&T.classList.contains(`${s}-flow__handle`)?T:g,I={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const D=p0(void 0,x),$=x.getAttribute("data-nodeid"),F=x.getAttribute("data-handleid"),H=x.classList.contains("connectable"),U=x.classList.contains("connectableend");if(!$||!D)return I;const j={source:y?$:r,sourceHandle:y?F:i,target:y?r:$,targetHandle:y?i:F};I.connection=j;const A=H&&U&&(n===xn.Strict?y&&D==="source"||!y&&D==="target":$!==r||F!==i);I.isValid=A&&c(j,{nodes:f,edges:l,sourceNode:d(j.source),targetNode:d(j.target)}),I.toHandle=g0($,D,F,h,n,!0)}return I}function p0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function LT(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function FT(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function g0(e,t,n,r,i,o=!1){var a,s,u;const c=r.get(e);if(!c)return null;const l=i===xn.Strict?(a=c.handleBounds)==null?void 0:a[t]:[...((s=c.handleBounds)==null?void 0:s.source)??[],...((u=c.handleBounds)==null?void 0:u.target)??[]],f=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return f&&o?{...f,...pr(c,f,f.position,!0)}:f}const kf={[ae.Left]:ae.Right,[ae.Right]:ae.Left,[ae.Top]:ae.Bottom,[ae.Bottom]:ae.Top},BT=["production","prod"];function li(e,...t){m0()&&console.warn(`[Vue Flow]: ${e}`,...t)}function m0(){return!BT.includes("production")}function Kh(e,t,n,r,i){const o=t.querySelectorAll(`.vue-flow__handle.${e}`);return o!=null&&o.length?Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...No(a)}}):null}function Lf(e,t,n,r,i,o=!1,a){i.value=!1,e.selected?(o||e.selected&&t)&&(r([e]),kt(()=>{a.blur()})):n([e])}function Ge(e){return typeof Q(e)<"u"}function zT(e,t,n,r){if(!e||!e.source||!e.target)return n(new Ye(Ue.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let i;return Sn(e)?i=e:i={...e,id:s0(e)},i=o0(i,void 0,r),bT(i,t)?!1:i}function HT(e,t,n,r,i){if(!t.source||!t.target)return i(new Ye(Ue.EDGE_INVALID,e.id)),!1;if(!n)return i(new Ye(Ue.EDGE_NOT_FOUND,e.id)),!1;const{id:o,...a}=e;return{...a,id:r?s0(t):o,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function Yh(e,t,n){const r={},i=[];for(let o=0;o<e.length;++o){const a=e[o];if(!Fn(a)){n(new Ye(Ue.NODE_INVALID,a==null?void 0:a.id)||`[ID UNKNOWN|INDEX ${o}]`);continue}const s=mT(a,t(a.id),a.parentNode);a.parentNode&&(r[a.parentNode]=!0),i[o]=s}for(const o of i){const a=t(o.parentNode)||i.find(s=>s.id===o.parentNode);o.parentNode&&!a&&n(new Ye(Ue.NODE_MISSING_PARENT,o.id,o.parentNode)),(o.parentNode||r[o.id])&&(r[o.id]&&(o.isParent=!0),a&&(a.isParent=!0))}return i}function Wh(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),o){a=`${i}-${e}-${o}`;const c=r.get(a)||new Map;r.set(a,c.set(n,t))}}function _a(e,t,n){e.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,u={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},c=`${i}-${a}--${o}-${s}`,l=`${o}-${s}--${i}-${a}`;Wh("source",u,l,e,i,a),Wh("target",u,c,e,o,s)}}function Xh(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ba(e,t,n,r,i,o,a,s){const u=[];for(const c of e){const l=Sn(c)?c:zT(c,s,i,o);if(!l)continue;const f=n(l.source),d=n(l.target);if(!f||!d){i(new Ye(Ue.EDGE_SOURCE_TARGET_MISSING,l.id,l.source,l.target));continue}if(!f){i(new Ye(Ue.EDGE_SOURCE_MISSING,l.id,l.source));continue}if(!d){i(new Ye(Ue.EDGE_TARGET_MISSING,l.id,l.target));continue}if(t&&!t(l,{edges:s,nodes:a,sourceNode:f,targetNode:d})){i(new Ye(Ue.EDGE_INVALID,l.id));continue}const h=r(l.id);u.push({...o0(l,h,o),sourceNode:f,targetNode:d})}return u}const Zh=Symbol("vueFlow"),y0=Symbol("nodeId"),_0=Symbol("nodeRef"),VT=Symbol("edgeId"),GT=Symbol("edgeRef"),Mo=Symbol("slots");function b0(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:r,noDragClassName:i,nodeLookup:o,nodeExtent:a,nodeDragThreshold:s,viewport:u,autoPanOnNodeDrag:c,autoPanSpeed:l,nodesDraggable:f,panBy:d,findNode:h,multiSelectionActive:y,nodesSelectionActive:g,selectNodesOnDrag:w,removeSelectedElements:S,addSelectedNodes:T,updateNodePositions:x,emits:I}=Le(),{onStart:D,onDrag:$,onStop:F,onClick:H,el:U,disabled:j,id:L,selectable:A,dragHandle:X}=e,N=wn(!1);let V=[],R,B=null,z={x:void 0,y:void 0},W={x:0,y:0},Y=null,Z=!1,re=!1,le=0,me=!1;const te=KT(),J=({x:b,y:C})=>{z={x:b,y:C};let v=!1;if(V=V.map(p=>{const m={x:b-p.distance.x,y:C-p.distance.y},{computedPosition:_}=vd(p,n.value?Ao(m,r.value):m,I.error,a.value,p.parentNode?h(p.parentNode):void 0);return v=v||p.position.x!==_.x||p.position.y!==_.y,p.position=_,p}),re=re||v,!!v&&(x(V,!0,!0),N.value=!0,Y)){const[p,m]=ma({id:L,dragItems:V,findNode:h});$({event:Y,node:p,nodes:m})}},se=()=>{if(!B)return;const[b,C]=h0(W,B,l.value);if(b!==0||C!==0){const v={x:(z.x??0)-b/u.value.zoom,y:(z.y??0)-C/u.value.zoom};d({x:b,y:C})&&J(v)}le=requestAnimationFrame(se)},ye=(b,C)=>{Z=!0;const v=h(L);!w.value&&!y.value&&v&&(v.selected||S()),v&&we(A)&&w.value&&Lf(v,y.value,T,S,g,!1,C);const p=te(b.sourceEvent);if(z=p,V=IT(o.value,f.value,p,L),V.length){const[m,_]=ma({id:L,dragItems:V,findNode:h});D({event:b.sourceEvent,node:m,nodes:_})}},Ee=(b,C)=>{var v;b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1||(re=!1,s.value===0&&ye(b,C),z=te(b.sourceEvent),B=((v=t.value)==null?void 0:v.getBoundingClientRect())||null,W=qt(b.sourceEvent,B))},ce=(b,C)=>{const v=te(b.sourceEvent);if(!me&&Z&&c.value&&(me=!0,se()),!Z){const p=v.xSnapped-(z.x??0),m=v.ySnapped-(z.y??0);Math.sqrt(p*p+m*m)>s.value&&ye(b,C)}(z.x!==v.xSnapped||z.y!==v.ySnapped)&&V.length&&Z&&(Y=b.sourceEvent,W=qt(b.sourceEvent,B),J(v))},pe=b=>{let C=!1;if(!Z&&!N.value&&!y.value){const v=b.sourceEvent,p=te(v),m=p.xSnapped-(z.x??0),_=p.ySnapped-(z.y??0),E=Math.sqrt(m*m+_*_);E!==0&&E<=s.value&&(H==null||H(v),C=!0)}if(V.length&&!C){re&&(x(V,!1,!1),re=!1);const[v,p]=ma({id:L,dragItems:V,findNode:h});F({event:b.sourceEvent,node:v,nodes:p})}V=[],N.value=!1,me=!1,Z=!1,z={x:void 0,y:void 0},cancelAnimationFrame(le)};return Ie([()=>we(j),U],([b,C],v,p)=>{if(C){const m=wt(C);b||(R=gC().on("start",_=>Ee(_,C)).on("drag",_=>ce(_,C)).on("end",_=>pe(_)).filter(_=>{const E=_.target,M=we(X);return!_.button&&(!i.value||!Vh(E,`.${i.value}`,C)&&(!M||Vh(E,M,C)))}),m.call(R)),p(()=>{m.on(".drag",null),R&&(R.on("start",null),R.on("drag",null),R.on("end",null))})}}),N}function jT(){return{doubleClick:ee(),click:ee(),mouseEnter:ee(),mouseMove:ee(),mouseLeave:ee(),contextMenu:ee(),updateStart:ee(),update:ee(),updateEnd:ee()}}function UT(e,t){const n=jT();return n.doubleClick.on(r=>{var i,o;t.edgeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.edgeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.edgeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.edgeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.edgeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.edgeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.updateStart.on(r=>{var i,o;t.edgeUpdateStart(r),(o=(i=e.events)==null?void 0:i.updateStart)==null||o.call(i,r)}),n.update.on(r=>{var i,o;t.edgeUpdate(r),(o=(i=e.events)==null?void 0:i.update)==null||o.call(i,r)}),n.updateEnd.on(r=>{var i,o;t.edgeUpdateEnd(r),(o=(i=e.events)==null?void 0:i.updateEnd)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function KT(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:r}=Le();return i=>{var o;const a=((o=r.value)==null?void 0:o.getBoundingClientRect())??{left:0,top:0},s=PT(i)?i.sourceEvent:i,{x:u,y:c}=qt(s,a),l=ri({x:u,y:c},e.value),{x:f,y:d}=n.value?Ao(l,t.value):l;return{xSnapped:f,ySnapped:d,...l}}}function Si(){return!0}function w0({handleId:e,nodeId:t,type:n,isValidConnection:r,edgeUpdaterType:i,onEdgeUpdate:o,onEdgeUpdateEnd:a}){const{id:s,vueFlowRef:u,connectionMode:c,connectionRadius:l,connectOnClick:f,connectionClickStartHandle:d,nodesConnectable:h,autoPanOnConnect:y,autoPanSpeed:g,findNode:w,panBy:S,startConnection:T,updateConnection:x,endConnection:I,emits:D,viewport:$,edges:F,nodes:H,isValidConnection:U,nodeLookup:j}=Le();let L=null,A=!1,X=null;function N(R){var B;const z=we(n)==="target",W=pd(R),Y=qh(R.target),Z=R.currentTarget;if(Z&&(W&&R.button===0||!W)){let re=function(k){v=qt(k,pe),J=kT(ri(v,$.value,!1,[1,1]),l.value,j.value,_),p||(m(),p=!0);const q=Uh(k,{handle:J,connectionMode:c.value,fromNodeId:we(t),fromHandleId:we(e),fromType:z?"target":"source",isValidConnection:te,doc:Y,lib:"vue",flowId:s,nodeLookup:j.value},F.value,H.value,w,j.value);X=q.handleDomNode,L=q.connection,A=FT(!!J,q.isValid);const G={...O,isValid:A,to:q.toHandle&&A?ni({x:q.toHandle.x,y:q.toHandle.y},$.value):v,toHandle:q.toHandle,toPosition:A&&q.toHandle?q.toHandle.position:kf[_.position],toNode:q.toHandle?j.value.get(q.toHandle.nodeId):null};if(A&&J&&(O!=null&&O.toHandle)&&G.toHandle&&O.toHandle.type===G.toHandle.type&&O.toHandle.nodeId===G.toHandle.nodeId&&O.toHandle.id===G.toHandle.id&&O.to.x===G.to.x&&O.to.y===G.to.y)return;const K=J??q.toHandle;if(x(K&&A?ni({x:K.x,y:K.y},$.value):v,K,LT(!!K,A)),O=G,!J&&!A&&!X)return ya(C);L&&L.source!==L.target&&X&&(ya(C),C=X,X.classList.add("connecting","vue-flow__handle-connecting"),X.classList.toggle("valid",!!A),X.classList.toggle("vue-flow__handle-valid",!!A))},le=function(k){"touches"in k&&k.touches.length>0||((J||X)&&L&&A&&(o?o(k,L):D.connect(L)),D.connectEnd(k),i&&(a==null||a(k)),ya(C),cancelAnimationFrame(se),I(k),p=!1,A=!1,L=null,X=null,Y.removeEventListener("mousemove",re),Y.removeEventListener("mouseup",le),Y.removeEventListener("touchmove",re),Y.removeEventListener("touchend",le))};const me=w(we(t));let te=we(r)||U.value||Si;!te&&me&&(te=(z?me.isValidSourcePos:me.isValidTargetPos)||Si);let J,se=0;const{x:ye,y:Ee}=qt(R),ce=p0(we(i),Z),pe=(B=u.value)==null?void 0:B.getBoundingClientRect();if(!pe||!ce)return;const b=g0(we(t),ce,we(e),j.value,c.value);if(!b)return;let C,v=qt(R,pe),p=!1;const m=()=>{if(!y.value)return;const[k,q]=h0(v,pe,g.value);S({x:k,y:q}),se=requestAnimationFrame(m)},_={...b,nodeId:we(t),type:ce,position:b.position},E=j.value.get(we(t)),P={inProgress:!0,isValid:null,from:pr(E,_,ae.Left,!0),fromHandle:_,fromPosition:_.position,fromNode:E,to:v,toHandle:null,toPosition:kf[_.position],toNode:null};T({nodeId:we(t),id:we(e),type:ce,position:(Z==null?void 0:Z.getAttribute("data-handlepos"))||ae.Top,...v},{x:ye-pe.left,y:Ee-pe.top}),D.connectStart({event:R,nodeId:we(t),handleId:we(e),handleType:ce});let O=P;Y.addEventListener("mousemove",re),Y.addEventListener("mouseup",le),Y.addEventListener("touchmove",re),Y.addEventListener("touchend",le)}}function V(R){var B,z;if(!f.value)return;const W=we(n)==="target";if(!d.value){D.clickConnectStart({event:R,nodeId:we(t),handleId:we(e)}),T({nodeId:we(t),type:we(n),id:we(e),position:ae.Top,...qt(R)},void 0,!0);return}let Y=we(r)||U.value||Si;const Z=w(we(t));if(!Y&&Z&&(Y=(W?Z.isValidSourcePos:Z.isValidTargetPos)||Si),Z&&(typeof Z.connectable>"u"?h.value:Z.connectable)===!1)return;const re=qh(R.target),le=Uh(R,{handle:{nodeId:we(t),id:we(e),type:we(n),position:ae.Top,...qt(R)},connectionMode:c.value,fromNodeId:d.value.nodeId,fromHandleId:d.value.id??null,fromType:d.value.type,isValidConnection:Y,doc:re,lib:"vue",flowId:s,nodeLookup:j.value},F.value,H.value,w,j.value),me=((B=le.connection)==null?void 0:B.source)===((z=le.connection)==null?void 0:z.target);le.isValid&&le.connection&&!me&&D.connect(le.connection),D.clickConnectEnd(R),I(R,!0)}return{handlePointerDown:N,handleClick:V}}function YT(){return Lt(y0,"")}function E0(e){const t=e??YT()??"",n=Lt(_0,Me(null)),{findNode:r,edges:i,emits:o}=Le(),a=r(t);return a||o.error(new Ye(Ue.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:a,parentNode:de(()=>r(a.parentNode)),connectedEdges:de(()=>f0([a],i.value))}}function WT(){return{doubleClick:ee(),click:ee(),mouseEnter:ee(),mouseMove:ee(),mouseLeave:ee(),contextMenu:ee(),dragStart:ee(),drag:ee(),dragStop:ee()}}function XT(e,t){const n=WT();return n.doubleClick.on(r=>{var i,o;t.nodeDoubleClick(r),(o=(i=e.events)==null?void 0:i.doubleClick)==null||o.call(i,r)}),n.click.on(r=>{var i,o;t.nodeClick(r),(o=(i=e.events)==null?void 0:i.click)==null||o.call(i,r)}),n.mouseEnter.on(r=>{var i,o;t.nodeMouseEnter(r),(o=(i=e.events)==null?void 0:i.mouseEnter)==null||o.call(i,r)}),n.mouseMove.on(r=>{var i,o;t.nodeMouseMove(r),(o=(i=e.events)==null?void 0:i.mouseMove)==null||o.call(i,r)}),n.mouseLeave.on(r=>{var i,o;t.nodeMouseLeave(r),(o=(i=e.events)==null?void 0:i.mouseLeave)==null||o.call(i,r)}),n.contextMenu.on(r=>{var i,o;t.nodeContextMenu(r),(o=(i=e.events)==null?void 0:i.contextMenu)==null||o.call(i,r)}),n.dragStart.on(r=>{var i,o;t.nodeDragStart(r),(o=(i=e.events)==null?void 0:i.dragStart)==null||o.call(i,r)}),n.drag.on(r=>{var i,o;t.nodeDrag(r),(o=(i=e.events)==null?void 0:i.drag)==null||o.call(i,r)}),n.dragStop.on(r=>{var i,o;t.nodeDragStop(r),(o=(i=e.events)==null?void 0:i.dragStop)==null||o.call(i,r)}),Object.entries(n).reduce((r,[i,o])=>(r.emit[i]=o.trigger,r.on[i]=o.on,r),{emit:{},on:{}})}function x0(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:r,snapGrid:i,snapToGrid:o,nodesDraggable:a,emits:s}=Le();return(u,c=!1)=>{const l=o.value?i.value[0]:5,f=o.value?i.value[1]:5,d=c?4:1,h=u.x*l*d,y=u.y*f*d,g=[];for(const w of e.value)if(w.draggable||a&&typeof w.draggable>"u"){const S={x:w.computedPosition.x+h,y:w.computedPosition.y+y},{position:T}=vd(w,S,s.error,t.value,w.parentNode?r(w.parentNode):void 0);g.push({id:w.id,position:T,from:w.position,distance:{x:u.x,y:u.y},dimensions:w.dimensions})}n(g,!0,!1)}}const Ci=.1,ZT=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function hn(){return li("Viewport not initialized yet."),Promise.resolve(!1)}const JT={zoomIn:hn,zoomOut:hn,zoomTo:hn,fitView:hn,setCenter:hn,fitBounds:hn,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:hn,setTransform:hn,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function QT(e){function t(r,i){return new Promise(o=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((i==null?void 0:i.interpolate)==="linear"?Vr:Di).scaleBy(wa(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{o(!0)}),r):o(!1)})}function n(r,i,o,a){return new Promise(s=>{var u;const{x:c,y:l}=i0({x:-r,y:-i},e.translateExtent),f=vr.translate(-c,-l).scale(o);e.d3Selection&&e.d3Zoom?(u=e.d3Zoom)==null||u.interpolate((a==null?void 0:a.interpolate)==="linear"?Vr:Di).transform(wa(e.d3Selection,a==null?void 0:a.duration,a==null?void 0:a.ease,()=>{s(!0)}),f):s(!1)})}return de(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,o)=>new Promise(a=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((o==null?void 0:o.interpolate)==="linear"?Vr:Di).scaleTo(wa(e.d3Selection,o==null?void 0:o.duration,o==null?void 0:o.ease,()=>{a(!0)}),i):a(!1)}),setViewport:(i,o)=>n(i.x,i.y,i.zoom,o),setTransform:(i,o)=>n(i.x,i.y,i.zoom,o),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Ci,includeHiddenNodes:!1,duration:0})=>{var o,a;const s=[];for(const d of e.nodes)d.dimensions.width&&d.dimensions.height&&((i==null?void 0:i.includeHiddenNodes)||!d.hidden)&&(!((o=i.nodes)!=null&&o.length)||(a=i.nodes)!=null&&a.length&&i.nodes.includes(d.id))&&s.push(d);if(!s.length)return Promise.resolve(!1);const u=l0(s),{x:c,y:l,zoom:f}=Dh(u,e.dimensions.width,e.dimensions.height,i.minZoom??e.minZoom,i.maxZoom??e.maxZoom,i.padding??Ci);return n(c,l,f,i)},setCenter:(i,o,a)=>{const s=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:e.maxZoom,u=e.dimensions.width/2-i*s,c=e.dimensions.height/2-o*s;return n(u,c,s,a)},fitBounds:(i,o={padding:Ci})=>{const{x:a,y:s,zoom:u}=Dh(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,o.padding??Ci);return n(a,s,u,o)},project:i=>ri(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x-o,y:i.y-a};return ri(s,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:o,y:a}=e.vueFlowRef.getBoundingClientRect(),s={x:i.x+o,y:i.y+a};return ni(s,e.viewport)}return{x:0,y:0}}}:JT)}function wa(e,t=0,n=ZT,r=()=>{}){const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e}function eN(e,t,n){const r=y_(!0);return r.run(()=>{const i=()=>{r.run(()=>{let g,w,S=!!(n.nodes.value.length||n.edges.value.length);g=Xn([e.modelValue,()=>{var T,x;return(x=(T=e.modelValue)==null?void 0:T.value)==null?void 0:x.length}],([T])=>{T&&Array.isArray(T)&&(w==null||w.pause(),n.setElements(T),!w&&!S&&T.length?S=!0:w==null||w.resume())}),w=Xn([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([T,x])=>{var I;(I=e.modelValue)!=null&&I.value&&Array.isArray(e.modelValue.value)&&(g==null||g.pause(),e.modelValue.value=[...T,...x],kt(()=>{g==null||g.resume()}))},{immediate:S}),Ri(()=>{g==null||g.stop(),w==null||w.stop()})})},o=()=>{r.run(()=>{let g,w,S=!!n.nodes.value.length;g=Xn([e.nodes,()=>{var T,x;return(x=(T=e.nodes)==null?void 0:T.value)==null?void 0:x.length}],([T])=>{T&&Array.isArray(T)&&(w==null||w.pause(),n.setNodes(T),!w&&!S&&T.length?S=!0:w==null||w.resume())}),w=Xn([n.nodes,()=>n.nodes.value.length],([T])=>{var x;(x=e.nodes)!=null&&x.value&&Array.isArray(e.nodes.value)&&(g==null||g.pause(),e.nodes.value=[...T],kt(()=>{g==null||g.resume()}))},{immediate:S}),Ri(()=>{g==null||g.stop(),w==null||w.stop()})})},a=()=>{r.run(()=>{let g,w,S=!!n.edges.value.length;g=Xn([e.edges,()=>{var T,x;return(x=(T=e.edges)==null?void 0:T.value)==null?void 0:x.length}],([T])=>{T&&Array.isArray(T)&&(w==null||w.pause(),n.setEdges(T),!w&&!S&&T.length?S=!0:w==null||w.resume())}),w=Xn([n.edges,()=>n.edges.value.length],([T])=>{var x;(x=e.edges)!=null&&x.value&&Array.isArray(e.edges.value)&&(g==null||g.pause(),e.edges.value=[...T],kt(()=>{g==null||g.resume()}))},{immediate:S}),Ri(()=>{g==null||g.stop(),w==null||w.stop()})})},s=()=>{r.run(()=>{Ie(()=>t.maxZoom,()=>{t.maxZoom&&Ge(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},u=()=>{r.run(()=>{Ie(()=>t.minZoom,()=>{t.minZoom&&Ge(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{r.run(()=>{Ie(()=>t.translateExtent,()=>{t.translateExtent&&Ge(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},l=()=>{r.run(()=>{Ie(()=>t.nodeExtent,()=>{t.nodeExtent&&Ge(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},f=()=>{r.run(()=>{Ie(()=>t.applyDefault,()=>{Ge(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},d=()=>{r.run(()=>{const g=async w=>{let S=w;typeof t.autoConnect=="function"&&(S=await t.autoConnect(w)),S!==!1&&n.addEdges([S])};Ie(()=>t.autoConnect,()=>{Ge(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Ie(n.autoConnect,(w,S,T)=>{w?n.onConnect(g):n.hooks.value.connect.off(g),T(()=>{n.hooks.value.connect.off(g)})},{immediate:!0})})},h=()=>{const g=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const w of Object.keys(t)){const S=w;if(!g.includes(S)){const T=Pe(()=>t[S]),x=n[S];He(x)&&r.run(()=>{Ie(T,I=>{Ge(I)&&(x.value=I)},{immediate:!0})})}}};(()=>{i(),o(),a(),u(),s(),c(),l(),f(),d(),h()})()}),()=>r.stop()}function tN(){return{edgesChange:ee(),nodesChange:ee(),nodeDoubleClick:ee(),nodeClick:ee(),nodeMouseEnter:ee(),nodeMouseMove:ee(),nodeMouseLeave:ee(),nodeContextMenu:ee(),nodeDragStart:ee(),nodeDrag:ee(),nodeDragStop:ee(),nodesInitialized:ee(),miniMapNodeClick:ee(),miniMapNodeDoubleClick:ee(),miniMapNodeMouseEnter:ee(),miniMapNodeMouseMove:ee(),miniMapNodeMouseLeave:ee(),connect:ee(),connectStart:ee(),connectEnd:ee(),clickConnectStart:ee(),clickConnectEnd:ee(),paneReady:ee(),init:ee(),move:ee(),moveStart:ee(),moveEnd:ee(),selectionDragStart:ee(),selectionDrag:ee(),selectionDragStop:ee(),selectionContextMenu:ee(),selectionStart:ee(),selectionEnd:ee(),viewportChangeStart:ee(),viewportChange:ee(),viewportChangeEnd:ee(),paneScroll:ee(),paneClick:ee(),paneContextMenu:ee(),paneMouseEnter:ee(),paneMouseMove:ee(),paneMouseLeave:ee(),edgeContextMenu:ee(),edgeMouseEnter:ee(),edgeMouseMove:ee(),edgeMouseLeave:ee(),edgeDoubleClick:ee(),edgeClick:ee(),edgeUpdateStart:ee(),edgeUpdate:ee(),edgeUpdateEnd:ee(),updateNodeInternals:ee(),error:ee(e=>li(e.message))}}function nN(e,t){const n=Tn();U_(()=>{for(const[i,o]of Object.entries(t.value)){const a=s=>{e(i,s)};o.setEmitter(a),Zr(o.removeEmitter),o.setHasEmitListeners(()=>r(i)),Zr(o.removeHasEmitListeners)}});function r(i){var o;const a=rN(i);return!!((o=n==null?void 0:n.vnode.props)==null?void 0:o[a])}}function rN(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(i,o)=>o.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function S0(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:hd.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:Gr.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Pn.Bezier,style:{}},connectionMode:xn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:ro()?"Meta":"Control",zoomActivationKeyCode:ro()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:tN(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const iN=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function oN(e,t,n){const r=QT(e),i=v=>{const p=v??[];e.hooks.updateNodeInternals.trigger(p)},o=v=>_T(v,e.nodes,e.edges),a=v=>yT(v,e.nodes,e.edges),s=v=>f0(v,e.edges),u=({id:v,type:p,nodeId:m})=>{var _;const E=v?`-${p}-${v}`:`-${p}`;return Array.from(((_=e.connectionLookup.get(`${m}${E}`))==null?void 0:_.values())??[])},c=v=>{if(v)return t.value.get(v)},l=v=>{if(v)return n.value.get(v)},f=(v,p,m)=>{var _,E;const M=[];for(const P of v){const O={id:P.id,type:"position",dragging:m,from:P.from};if(p&&(O.position=P.position,P.parentNode)){const k=c(P.parentNode);O.position={x:O.position.x-(((_=k==null?void 0:k.computedPosition)==null?void 0:_.x)??0),y:O.position.y-(((E=k==null?void 0:k.computedPosition)==null?void 0:E.y)??0)}}M.push(O)}M!=null&&M.length&&e.hooks.nodesChange.trigger(M)},d=v=>{if(!e.vueFlowRef)return;const p=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!p)return;const m=window.getComputedStyle(p),{m22:_}=new window.DOMMatrixReadOnly(m.transform),E=[];for(const M of v){const P=M,O=c(P.id);if(O){const k=No(P.nodeElement);if(!!(k.width&&k.height&&(O.dimensions.width!==k.width||O.dimensions.height!==k.height||P.forceUpdate))){const G=P.nodeElement.getBoundingClientRect();O.dimensions=k,O.handleBounds.source=Kh("source",P.nodeElement,G,_,O.id),O.handleBounds.target=Kh("target",P.nodeElement,G,_,O.id),E.push({id:O.id,type:"dimensions",dimensions:k})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&r.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),E.length&&e.hooks.nodesChange.trigger(E)},h=(v,p)=>{const m=new Set,_=new Set;for(const P of v)Fn(P)?m.add(P.id):Sn(P)&&_.add(P.id);const E=_n(t.value,m,!0),M=_n(n.value,_);if(e.multiSelectionActive){for(const P of m)E.push(pn(P,p));for(const P of _)M.push(pn(P,p))}E.length&&e.hooks.nodesChange.trigger(E),M.length&&e.hooks.edgesChange.trigger(M)},y=v=>{if(e.multiSelectionActive){const p=v.map(m=>pn(m.id,!0));e.hooks.nodesChange.trigger(p);return}e.hooks.nodesChange.trigger(_n(t.value,new Set(v.map(p=>p.id)),!0)),e.hooks.edgesChange.trigger(_n(n.value))},g=v=>{if(e.multiSelectionActive){const p=v.map(m=>pn(m.id,!0));e.hooks.edgesChange.trigger(p);return}e.hooks.edgesChange.trigger(_n(n.value,new Set(v.map(p=>p.id)))),e.hooks.nodesChange.trigger(_n(t.value,new Set,!0))},w=v=>{h(v,!0)},S=v=>{const m=(v||e.nodes).map(_=>(_.selected=!1,pn(_.id,!1)));e.hooks.nodesChange.trigger(m)},T=v=>{const m=(v||e.edges).map(_=>(_.selected=!1,pn(_.id,!1)));e.hooks.edgesChange.trigger(m)},x=v=>{if(!v||!v.length)return h([],!1);const p=v.reduce((m,_)=>{const E=pn(_.id,!1);return Fn(_)?m.nodes.push(E):m.edges.push(E),m},{nodes:[],edges:[]});p.nodes.length&&e.hooks.nodesChange.trigger(p.nodes),p.edges.length&&e.hooks.edgesChange.trigger(p.edges)},I=v=>{var p;(p=e.d3Zoom)==null||p.scaleExtent([v,e.maxZoom]),e.minZoom=v},D=v=>{var p;(p=e.d3Zoom)==null||p.scaleExtent([e.minZoom,v]),e.maxZoom=v},$=v=>{var p;(p=e.d3Zoom)==null||p.translateExtent(v),e.translateExtent=v},F=v=>{e.nodeExtent=v,i()},H=v=>{var p;(p=e.d3Zoom)==null||p.clickDistance(v)},U=v=>{e.nodesDraggable=v,e.nodesConnectable=v,e.elementsSelectable=v},j=v=>{const p=v instanceof Function?v(e.nodes):v;!e.initialized&&!p.length||(e.nodes=Yh(p,c,e.hooks.error.trigger))},L=v=>{const p=v instanceof Function?v(e.edges):v;if(!e.initialized&&!p.length)return;const m=ba(p,e.isValidConnection,c,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);_a(e.connectionLookup,n.value,m),e.edges=m},A=v=>{const p=v instanceof Function?v([...e.nodes,...e.edges]):v;!e.initialized&&!p.length||(j(p.filter(Fn)),L(p.filter(Sn)))},X=v=>{let p=v instanceof Function?v(e.nodes):v;p=Array.isArray(p)?p:[p];const m=Yh(p,c,e.hooks.error.trigger),_=[];for(const E of m)_.push(Fh(E));_.length&&e.hooks.nodesChange.trigger(_)},N=v=>{let p=v instanceof Function?v(e.edges):v;p=Array.isArray(p)?p:[p];const m=ba(p,e.isValidConnection,c,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),_=[];for(const E of m)_.push(Fh(E));_.length&&e.hooks.edgesChange.trigger(_)},V=(v,p=!0,m=!1)=>{const _=v instanceof Function?v(e.nodes):v,E=Array.isArray(_)?_:[_],M=[],P=[];function O(q){const G=s(q);for(const K of G)(!Ge(K.deletable)||K.deletable)&&P.push(zh(K.id,K.source,K.target,K.sourceHandle,K.targetHandle))}function k(q){const G=[];for(const K of e.nodes)K.parentNode===q&&G.push(K);if(G.length){for(const K of G)M.push(Bh(K.id));p&&O(G);for(const K of G)k(K.id)}}for(const q of E){const G=typeof q=="string"?c(q):q;G&&(Ge(G.deletable)&&!G.deletable||(M.push(Bh(G.id)),p&&O([G]),m&&k(G.id)))}P.length&&e.hooks.edgesChange.trigger(P),M.length&&e.hooks.nodesChange.trigger(M)},R=v=>{const p=v instanceof Function?v(e.edges):v,m=Array.isArray(p)?p:[p],_=[];for(const E of m){const M=typeof E=="string"?l(E):E;M&&(Ge(M.deletable)&&!M.deletable||_.push(zh(typeof E=="string"?E:E.id,M.source,M.target,M.sourceHandle,M.targetHandle)))}e.hooks.edgesChange.trigger(_)},B=(v,p,m=!0)=>{const _=l(v.id);if(!_)return!1;const E=e.edges.indexOf(_),M=HT(v,p,_,m,e.hooks.error.trigger);if(M){const[P]=ba([M],e.isValidConnection,c,l,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((O,k)=>k===E?P:O),_a(e.connectionLookup,n.value,[P]),P}return!1},z=(v,p,m={replace:!1})=>{const _=l(v);if(!_)return;const E=typeof p=="function"?p(_):p;_.data=m.replace?E:{..._.data,...E}},W=v=>Lh(v,e.nodes),Y=v=>{const p=Lh(v,e.edges);return _a(e.connectionLookup,n.value,p),p},Z=(v,p,m={replace:!1})=>{const _=c(v);if(!_)return;const E=typeof p=="function"?p(_):p;m.replace?e.nodes.splice(e.nodes.indexOf(_),1,E):Object.assign(_,E)},re=(v,p,m={replace:!1})=>{const _=c(v);if(!_)return;const E=typeof p=="function"?p(_):p;_.data=m.replace?E:{..._.data,...E}},le=(v,p,m=!1)=>{m?e.connectionClickStartHandle=v:e.connectionStartHandle=v,e.connectionEndHandle=null,e.connectionStatus=null,p&&(e.connectionPosition=p)},me=(v,p=null,m=null)=>{e.connectionStartHandle&&(e.connectionPosition=v,e.connectionEndHandle=p,e.connectionStatus=m)},te=(v,p)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,p?e.connectionClickStartHandle=null:e.connectionStartHandle=null},J=v=>{const p=gT(v),m=p?null:Ar(v)?v:c(v.id);return!p&&!m?[null,null,p]:[p?v:to(m),m,p]},se=(v,p=!0,m=e.nodes)=>{const[_,E,M]=J(v);if(!_)return[];const P=[];for(const O of m||e.nodes){if(!M&&(O.id===E.id||!O.computedPosition))continue;const k=to(O),q=no(k,_);(p&&q>0||q>=k.width*k.height||q>=Number(_.width)*Number(_.height))&&P.push(O)}return P},ye=(v,p,m=!0)=>{const[_]=J(v);if(!_)return!1;const E=no(_,p);return m&&E>0||E>=Number(_.width)*Number(_.height)},Ee=v=>{const{viewport:p,dimensions:m,d3Zoom:_,d3Selection:E,translateExtent:M}=e;if(!_||!E||!v.x&&!v.y)return!1;const P=vr.translate(p.x+v.x,p.y+v.y).scale(p.zoom),O=[[0,0],[m.width,m.height]],k=_.constrain()(P,O,M),q=e.viewport.x!==k.x||e.viewport.y!==k.y||e.viewport.zoom!==k.k;return _.transform(E,k),q},ce=v=>{const p=v instanceof Function?v(e):v,m=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ge(p.defaultEdgeOptions)&&(e.defaultEdgeOptions=p.defaultEdgeOptions);const _=p.modelValue||p.nodes||p.edges?[]:void 0;_&&(p.modelValue&&_.push(...p.modelValue),p.nodes&&_.push(...p.nodes),p.edges&&_.push(...p.edges),A(_));const E=()=>{Ge(p.maxZoom)&&D(p.maxZoom),Ge(p.minZoom)&&I(p.minZoom),Ge(p.translateExtent)&&$(p.translateExtent)};for(const M of Object.keys(p)){const P=M,O=p[P];![...iN,...m].includes(P)&&Ge(O)&&(e[P]=O)}If(()=>e.d3Zoom).not.toBeNull().then(E),e.initialized||(e.initialized=!0)};return{updateNodePositions:f,updateNodeDimensions:d,setElements:A,setNodes:j,setEdges:L,addNodes:X,addEdges:N,removeNodes:V,removeEdges:R,findNode:c,findEdge:l,updateEdge:B,updateEdgeData:z,updateNode:Z,updateNodeData:re,applyEdgeChanges:Y,applyNodeChanges:W,addSelectedElements:w,addSelectedNodes:y,addSelectedEdges:g,setMinZoom:I,setMaxZoom:D,setTranslateExtent:$,setNodeExtent:F,setPaneClickDistance:H,removeSelectedElements:x,removeSelectedNodes:S,removeSelectedEdges:T,startConnection:le,updateConnection:me,endConnection:te,setInteractive:U,setState:ce,getIntersectingNodes:se,getIncomers:o,getOutgoers:a,getConnectedEdges:s,getHandleConnections:u,isNodeIntersecting:ye,panBy:Ee,fitView:v=>r.value.fitView(v),zoomIn:v=>r.value.zoomIn(v),zoomOut:v=>r.value.zoomOut(v),zoomTo:(v,p)=>r.value.zoomTo(v,p),setViewport:(v,p)=>r.value.setViewport(v,p),setTransform:(v,p)=>r.value.setTransform(v,p),getViewport:()=>r.value.getViewport(),getTransform:()=>r.value.getTransform(),setCenter:(v,p,m)=>r.value.setCenter(v,p,m),fitBounds:(v,p)=>r.value.fitBounds(v,p),project:v=>r.value.project(v),screenToFlowCoordinate:v=>r.value.screenToFlowCoordinate(v),flowToScreenCoordinate:v=>r.value.flowToScreenCoordinate(v),toObject:()=>{const v=[],p=[];for(const m of e.nodes){const{computedPosition:_,handleBounds:E,selected:M,dimensions:P,isParent:O,resizing:k,dragging:q,events:G,...K}=m;v.push(K)}for(const m of e.edges){const{selected:_,sourceNode:E,targetNode:M,events:P,...O}=m;p.push(O)}return JSON.parse(JSON.stringify({nodes:v,edges:p,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:v=>new Promise(p=>{const{nodes:m,edges:_,position:E,zoom:M,viewport:P}=v;m&&j(m),_&&L(_);const[O,k]=P!=null&&P.x&&(P!=null&&P.y)?[P.x,P.y]:E??[null,null];if(O&&k){const q=(P==null?void 0:P.zoom)||M||e.viewport.zoom;return If(()=>r.value.viewportInitialized).toBe(!0).then(()=>{r.value.setViewport({x:O,y:k,zoom:q}).then(()=>{p(!0)})})}else p(!0)}),updateNodeInternals:i,viewportHelper:r,$reset:()=>{const v=S0();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const p=vr.translate(v.defaultViewport.x??0,v.defaultViewport.y??0).scale(Vn(v.defaultViewport.zoom??1,v.minZoom,v.maxZoom)),m=e.viewportRef.getBoundingClientRect(),_=[[0,0],[m.width,m.height]],E=e.d3Zoom.constrain()(p,_,v.translateExtent);e.d3Zoom.transform(e.d3Selection,E)}ce(v)},$destroy:()=>{}}}const aN=["data-id","data-handleid","data-nodeid","data-handlepos"],sN={name:"Handle",compatConfig:{MODE:3}},gr=qe({...sN,props:{id:{default:null},type:{},position:{default:()=>ae.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=iE(e,["position","connectable","connectableStart","connectableEnd","id"]),r=Pe(()=>n.type??"source"),i=Pe(()=>n.isValidConnection??null),{id:o,connectionStartHandle:a,connectionClickStartHandle:s,connectionEndHandle:u,vueFlowRef:c,nodesConnectable:l,noDragClassName:f,noPanClassName:d}=Le(),{id:h,node:y,nodeEl:g,connectedEdges:w}=E0(),S=Me(),T=Pe(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),x=Pe(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),I=Pe(()=>{var L,A,X,N,V,R;return((L=a.value)==null?void 0:L.nodeId)===h&&((A=a.value)==null?void 0:A.id)===e.id&&((X=a.value)==null?void 0:X.type)===r.value||((N=u.value)==null?void 0:N.nodeId)===h&&((V=u.value)==null?void 0:V.id)===e.id&&((R=u.value)==null?void 0:R.type)===r.value}),D=Pe(()=>{var L,A,X;return((L=s.value)==null?void 0:L.nodeId)===h&&((A=s.value)==null?void 0:A.id)===e.id&&((X=s.value)==null?void 0:X.type)===r.value}),{handlePointerDown:$,handleClick:F}=w0({nodeId:h,handleId:e.id,isValidConnection:i,type:r}),H=de(()=>typeof e.connectable=="string"&&e.connectable==="single"?!w.value.some(L=>{const A=L[`${r.value}Handle`];return L[r.value]!==h?!1:A?A===e.id:!0}):typeof e.connectable=="number"?w.value.filter(L=>{const A=L[`${r.value}Handle`];return L[r.value]!==h?!1:A?A===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(y,w.value):Ge(e.connectable)?e.connectable:l.value);cn(()=>{var L;if(!y.dimensions.width||!y.dimensions.height)return;const A=(L=y.handleBounds[r.value])==null?void 0:L.find(W=>W.id===e.id);if(!c.value||A)return;const X=c.value.querySelector(".vue-flow__transformationpane");if(!g.value||!S.value||!X||!e.id)return;const N=g.value.getBoundingClientRect(),V=S.value.getBoundingClientRect(),R=window.getComputedStyle(X),{m22:B}=new window.DOMMatrixReadOnly(R.transform),z={id:e.id,position:e.position,x:(V.left-N.left)/B,y:(V.top-N.top)/B,type:r.value,nodeId:h,...No(S.value)};y.handleBounds[r.value]=[...y.handleBounds[r.value]??[],z]});function U(L){const A=pd(L);H.value&&T.value&&(A&&L.button===0||!A)&&$(L)}function j(L){!h||!s.value&&!T.value||H.value&&F(L)}return t({handleClick:F,handlePointerDown:$,onClick:j,onPointerDown:U}),(L,A)=>(ne(),fe("div",{ref_key:"handle",ref:S,"data-id":`${Q(o)}-${Q(h)}-${e.id}-${r.value}`,"data-handleid":e.id,"data-nodeid":Q(h),"data-handlepos":L.position,class:St(["vue-flow__handle",[`vue-flow__handle-${L.position}`,`vue-flow__handle-${e.id}`,Q(f),Q(d),r.value,{connectable:H.value,connecting:D.value,connectablestart:T.value,connectableend:x.value,connectionindicator:H.value&&(T.value&&!I.value||x.value&&I.value)}]]),onMousedown:U,onTouchstartPassive:U,onClick:j},[ze(L.$slots,"default",{id:L.id})],42,aN))}}),Ro=function({sourcePosition:e=ae.Bottom,targetPosition:t=ae.Top,label:n,connectable:r=!0,isValidTargetPos:i,isValidSourcePos:o,data:a}){const s=a.label??n;return[Re(gr,{type:"target",position:t,connectable:r,isValidConnection:i}),typeof s!="string"&&s?Re(s):Re(Oe,[s]),Re(gr,{type:"source",position:e,connectable:r,isValidConnection:o})]};Ro.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Ro.inheritAttrs=!1;Ro.compatConfig={MODE:3};const uN=Ro,Po=function({targetPosition:e=ae.Top,label:t,connectable:n=!0,isValidTargetPos:r,data:i}){const o=i.label??t;return[Re(gr,{type:"target",position:e,connectable:n,isValidConnection:r}),typeof o!="string"&&o?Re(o):Re(Oe,[o])]};Po.props=["targetPosition","label","isValidTargetPos","connectable","data"];Po.inheritAttrs=!1;Po.compatConfig={MODE:3};const lN=Po,Oo=function({sourcePosition:e=ae.Bottom,label:t,connectable:n=!0,isValidSourcePos:r,data:i}){const o=i.label??t;return[typeof o!="string"&&o?Re(o):Re(Oe,[o]),Re(gr,{type:"source",position:e,connectable:n,isValidConnection:r})]};Oo.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Oo.inheritAttrs=!1;Oo.compatConfig={MODE:3};const cN=Oo,fN=["transform"],dN=["width","height","x","y","rx","ry"],hN=["y"],vN={name:"EdgeText",compatConfig:{MODE:3}},pN=qe({...vN,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=Me({x:0,y:0,width:0,height:0}),n=Me(null),r=de(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);cn(i),Ie([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const o=n.value.getBBox();(o.width!==t.value.width||o.height!==t.value.height)&&(t.value=o)}return(o,a)=>(ne(),fe("g",{transform:r.value,class:"vue-flow__edge-textwrapper"},[o.labelShowBg?(ne(),fe("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*o.labelBgPadding[0]}px`,height:`${t.value.height+2*o.labelBgPadding[1]}px`,x:-o.labelBgPadding[0],y:-o.labelBgPadding[1],style:st(o.labelBgStyle),rx:o.labelBgBorderRadius,ry:o.labelBgBorderRadius},null,12,dN)):Fe("",!0),Se("text",od(o.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:o.labelStyle}),[ze(o.$slots,"default",{},()=>[typeof o.label!="string"?(ne(),je(Qn(o.label),{key:0})):(ne(),fe(Oe,{key:1},[yb(vt(o.label),1)],64))])],16,hN)],8,fN))}}),gN=["id","d","marker-end","marker-start"],mN=["d","stroke-width"],yN={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},qo=qe({...yN,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=Me(null),r=Me(null),i=Me(null),o=rE();return t({pathEl:n,interactionEl:r,labelEl:i}),(a,s)=>(ne(),fe(Oe,null,[Se("path",od(Q(o),{id:a.id,ref_key:"pathEl",ref:n,d:a.path,class:"vue-flow__edge-path","marker-end":a.markerEnd,"marker-start":a.markerStart}),null,16,gN),a.interactionWidth?(ne(),fe("path",{key:0,ref_key:"interactionEl",ref:r,fill:"none",d:a.path,"stroke-width":a.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,mN)):Fe("",!0),a.label&&a.labelX&&a.labelY?(ne(),je(pN,{key:1,ref_key:"labelEl",ref:i,x:a.labelX,y:a.labelY,label:a.label,"label-show-bg":a.labelShowBg,"label-bg-style":a.labelBgStyle,"label-bg-padding":a.labelBgPadding,"label-bg-border-radius":a.labelBgBorderRadius,"label-style":a.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Fe("",!0)],64))}});function C0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function I0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const u=e*.125+i*.375+a*.375+n*.125,c=t*.125+o*.375+s*.375+r*.125,l=Math.abs(u-e),f=Math.abs(c-t);return[u,c,l,f]}function Ii(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Jh({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){let a,s;switch(e){case ae.Left:a=t-Ii(t-r,o),s=n;break;case ae.Right:a=t+Ii(r-t,o),s=n;break;case ae.Top:a=t,s=n-Ii(n-i,o);break;case ae.Bottom:a=t,s=n+Ii(i-n,o);break}return[a,s]}function T0(e){const{sourceX:t,sourceY:n,sourcePosition:r=ae.Bottom,targetX:i,targetY:o,targetPosition:a=ae.Top,curvature:s=.25}=e,[u,c]=Jh({pos:r,x1:t,y1:n,x2:i,y2:o,c:s}),[l,f]=Jh({pos:a,x1:i,y1:o,x2:t,y2:n,c:s}),[d,h,y,g]=I0({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:u,sourceControlY:c,targetControlX:l,targetControlY:f});return[`M${t},${n} C${u},${c} ${l},${f} ${i},${o}`,d,h,y,g]}function Qh({pos:e,x1:t,y1:n,x2:r,y2:i}){let o,a;switch(e){case ae.Left:case ae.Right:o=.5*(t+r),a=n;break;case ae.Top:case ae.Bottom:o=t,a=.5*(n+i);break}return[o,a]}function N0(e){const{sourceX:t,sourceY:n,sourcePosition:r=ae.Bottom,targetX:i,targetY:o,targetPosition:a=ae.Top}=e,[s,u]=Qh({pos:r,x1:t,y1:n,x2:i,y2:o}),[c,l]=Qh({pos:a,x1:i,y1:o,x2:t,y2:n}),[f,d,h,y]=I0({sourceX:t,sourceY:n,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${t},${n} C${s},${u} ${c},${l} ${i},${o}`,f,d,h,y]}const ev={[ae.Left]:{x:-1,y:0},[ae.Right]:{x:1,y:0},[ae.Top]:{x:0,y:-1},[ae.Bottom]:{x:0,y:1}};function _N({source:e,sourcePosition:t=ae.Bottom,target:n}){return t===ae.Left||t===ae.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function tv(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function bN({source:e,sourcePosition:t=ae.Bottom,target:n,targetPosition:r=ae.Top,center:i,offset:o}){const a=ev[t],s=ev[r],u={x:e.x+a.x*o,y:e.y+a.y*o},c={x:n.x+s.x*o,y:n.y+s.y*o},l=_N({source:u,sourcePosition:t,target:c}),f=l.x!==0?"x":"y",d=l[f];let h,y,g;const w={x:0,y:0},S={x:0,y:0},[T,x,I,D]=C0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[f]*s[f]===-1){y=i.x??T,g=i.y??x;const F=[{x:y,y:u.y},{x:y,y:c.y}],H=[{x:u.x,y:g},{x:c.x,y:g}];a[f]===d?h=f==="x"?F:H:h=f==="x"?H:F}else{const F=[{x:u.x,y:c.y}],H=[{x:c.x,y:u.y}];if(f==="x"?h=a.x===d?H:F:h=a.y===d?F:H,t===r){const X=Math.abs(e[f]-n[f]);if(X<=o){const N=Math.min(o-1,o-X);a[f]===d?w[f]=(u[f]>e[f]?-1:1)*N:S[f]=(c[f]>n[f]?-1:1)*N}}if(t!==r){const X=f==="x"?"y":"x",N=a[f]===s[X],V=u[X]>c[X],R=u[X]<c[X];(a[f]===1&&(!N&&V||N&&R)||a[f]!==1&&(!N&&R||N&&V))&&(h=f==="x"?F:H)}const U={x:u.x+w.x,y:u.y+w.y},j={x:c.x+S.x,y:c.y+S.y},L=Math.max(Math.abs(U.x-h[0].x),Math.abs(j.x-h[0].x)),A=Math.max(Math.abs(U.y-h[0].y),Math.abs(j.y-h[0].y));L>=A?(y=(U.x+j.x)/2,g=h[0].y):(y=h[0].x,g=(U.y+j.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...h,{x:c.x+S.x,y:c.y+S.y},n],y,g,I,D]}function wN(e,t,n,r){const i=Math.min(tv(e,t)/2,tv(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const c=e.x<n.x?-1:1,l=e.y<n.y?1:-1;return`L ${o+i*c},${a}Q ${o},${a} ${o},${a+i*l}`}const s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${o},${a+i*u}Q ${o},${a} ${o+i*s},${a}`}function Ff(e){const{sourceX:t,sourceY:n,sourcePosition:r=ae.Bottom,targetX:i,targetY:o,targetPosition:a=ae.Top,borderRadius:s=5,centerX:u,centerY:c,offset:l=20}=e,[f,d,h,y,g]=bN({source:{x:t,y:n},sourcePosition:r,target:{x:i,y:o},targetPosition:a,center:{x:u,y:c},offset:l});return[f.reduce((S,T,x)=>{let I;return x>0&&x<f.length-1?I=wN(f[x-1],T,f[x+1],s):I=`${x===0?"M":"L"}${T.x} ${T.y}`,S+=I,S},""),d,h,y,g]}function EN(e){const{sourceX:t,sourceY:n,targetX:r,targetY:i}=e,[o,a,s,u]=C0({sourceX:t,sourceY:n,targetX:r,targetY:i});return[`M ${t},${n}L ${r},${i}`,o,a,s,u]}const xN=qe({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=EN(e);return Re(qo,{path:n,labelX:r,labelY:i,...t,...e})}}}),SN=xN,CN=qe({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=Ff({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Re(qo,{path:n,labelX:r,labelY:i,...t,...e})}}}),A0=CN,IN=qe({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Re(A0,{...e,...t,borderRadius:0})}}),TN=IN,NN=qe({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=T0({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Re(qo,{path:n,labelX:r,labelY:i,...t,...e})}}}),AN=NN,MN=qe({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,r,i]=N0({...e,sourcePosition:e.sourcePosition??ae.Bottom,targetPosition:e.targetPosition??ae.Top});return Re(qo,{path:n,labelX:r,labelY:i,...t,...e})}}}),RN=MN,PN={input:cN,default:uN,output:lN},ON={default:AN,straight:SN,step:TN,smoothstep:A0,simplebezier:RN};function qN(e,t,n){const r=de(()=>g=>t.value.get(g)),i=de(()=>g=>n.value.get(g)),o=de(()=>{const g={...ON,...e.edgeTypes},w=Object.keys(g);for(const S of e.edges)S.type&&!w.includes(S.type)&&(g[S.type]=S.type);return g}),a=de(()=>{const g={...PN,...e.nodeTypes},w=Object.keys(g);for(const S of e.nodes)S.type&&!w.includes(S.type)&&(g[S.type]=S.type);return g}),s=de(()=>e.onlyRenderVisibleElements?c0(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),u=de(()=>{if(e.onlyRenderVisibleElements){const g=[];for(const w of e.edges){const S=t.value.get(w.source),T=t.value.get(w.target);MT({sourcePos:S.computedPosition||{x:0,y:0},targetPos:T.computedPosition||{x:0,y:0},sourceWidth:S.dimensions.width,sourceHeight:S.dimensions.height,targetWidth:T.dimensions.width,targetHeight:T.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&g.push(w)}return g}return e.edges}),c=de(()=>[...s.value,...u.value]),l=de(()=>{const g=[];for(const w of e.nodes)w.selected&&g.push(w);return g}),f=de(()=>{const g=[];for(const w of e.edges)w.selected&&g.push(w);return g}),d=de(()=>[...l.value,...f.value]),h=de(()=>{const g=[];for(const w of e.nodes)w.dimensions.width&&w.dimensions.height&&w.handleBounds!==void 0&&g.push(w);return g}),y=de(()=>s.value.length>0&&h.value.length===s.value.length);return{getNode:r,getEdge:i,getElements:c,getEdgeTypes:o,getNodeTypes:a,getEdges:u,getNodes:s,getSelectedElements:d,getSelectedNodes:l,getSelectedEdges:f,getNodesInitialized:h,areNodesInitialized:y}}class On{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Tn())==null?void 0:t.appContext.app,r=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??On.instance;return On.instance=r??new On,n&&(n.config.globalProperties.$vueFlowStorage=On.instance),On.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const r=S0(),i=mo(r),o={};for(const[d,h]of Object.entries(i.hooks)){const y=`on${d.charAt(0).toUpperCase()+d.slice(1)}`;o[y]=h.on}const a={};for(const[d,h]of Object.entries(i.hooks))a[d]=h.trigger;const s=de(()=>{const d=new Map;for(const h of i.nodes)d.set(h.id,h);return d}),u=de(()=>{const d=new Map;for(const h of i.edges)d.set(h.id,h);return d}),c=qN(i,s,u),l=oN(i,s,u);l.setState({...i,...n});const f={...o,...c,...l,...Cx(i),nodeLookup:s,edgeLookup:u,emits:a,id:t,vueFlowVersion:"1.48.2",$destroy:()=>{this.remove(t)}};return this.set(t,f),f}getId(){return`vue-flow-${this.currentId++}`}}function Le(e){const t=On.getInstance(),n=Uf(),r=typeof e=="object",i=r?e:{id:e},o=i.id,a=o??(n==null?void 0:n.vueFlowId);let s;if(n){const u=Lt(Zh,null);typeof u<"u"&&u!==null&&(!a||u.id===a)&&(s=u)}if(s||a&&(s=t.get(a)),!s||a&&s.id!==a){const u=o??t.getId(),c=t.create(u,i);s=c,(n??y_(!0)).run(()=>{Ie(c.applyDefault,(f,d,h)=>{const y=w=>{c.applyNodeChanges(w)},g=w=>{c.applyEdgeChanges(w)};f?(c.onNodesChange(y),c.onEdgesChange(g)):(c.hooks.value.nodesChange.off(y),c.hooks.value.edgesChange.off(g)),h(()=>{c.hooks.value.nodesChange.off(y),c.hooks.value.edgesChange.off(g)})},{immediate:!0}),Zr(()=>{if(s){const f=t.get(s.id);f?f.$destroy():li(`No store instance found for id ${s.id} in storage.`)}})})}else r&&s.setState(i);if(n&&(Bn(Zh,s),n.vueFlowId=s.id),r){const u=Tn();(u==null?void 0:u.type.name)!=="VueFlow"&&s.emits.error(new Ye(Ue.USEVUEFLOW_OPTIONS))}return s}function DN(e){const{emits:t,dimensions:n}=Le();let r;cn(()=>{const i=()=>{var o,a;if(!e.value||!(((a=(o=e.value).checkVisibility)==null?void 0:a.call(o))??!0))return;const s=No(e.value);(s.width===0||s.height===0)&&t.error(new Ye(Ue.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};i(),window.addEventListener("resize",i),e.value&&(r=new ResizeObserver(()=>i()),r.observe(e.value)),ed(()=>{window.removeEventListener("resize",i),r&&e.value&&r.unobserve(e.value)})})}const $N={name:"UserSelection",compatConfig:{MODE:3}},kN=qe({...$N,props:{userSelectionRect:{}},setup(e){return(t,n)=>(ne(),fe("div",{class:"vue-flow__selection vue-flow__container",style:st({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),LN=["tabIndex"],FN={name:"NodesSelection",compatConfig:{MODE:3}},BN=qe({...FN,setup(e){const{emits:t,viewport:n,getSelectedNodes:r,noPanClassName:i,disableKeyboardA11y:o,userSelectionActive:a}=Le(),s=x0(),u=Me(null),c=b0({el:u,onStart(y){t.selectionDragStart(y),t.nodeDragStart(y)},onDrag(y){t.selectionDrag(y),t.nodeDrag(y)},onStop(y){t.selectionDragStop(y),t.nodeDragStop(y)}});cn(()=>{var y;o.value||(y=u.value)==null||y.focus({preventScroll:!0})});const l=de(()=>l0(r.value)),f=de(()=>({width:`${l.value.width}px`,height:`${l.value.height}px`,top:`${l.value.y}px`,left:`${l.value.x}px`}));function d(y){t.selectionContextMenu({event:y,nodes:r.value})}function h(y){o.value||sr[y.key]&&(y.preventDefault(),s({x:sr[y.key].x,y:sr[y.key].y},y.shiftKey))}return(y,g)=>!Q(a)&&l.value.width&&l.value.height?(ne(),fe("div",{key:0,class:St(["vue-flow__nodesselection vue-flow__container",Q(i)]),style:st({transform:`translate(${Q(n).x}px,${Q(n).y}px) scale(${Q(n).zoom})`})},[Se("div",{ref_key:"el",ref:u,class:St([{dragging:Q(c)},"vue-flow__nodesselection-rect"]),style:st(f.value),tabIndex:Q(o)?void 0:-1,onContextmenu:d,onKeydown:h},null,46,LN)],6)):Fe("",!0)}});function zN(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const HN={name:"Pane",compatConfig:{MODE:3}},VN=qe({...HN,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:r,emits:i,userSelectionActive:o,removeSelectedElements:a,userSelectionRect:s,elementsSelectable:u,nodesSelectionActive:c,getSelectedEdges:l,getSelectedNodes:f,removeNodes:d,removeEdges:h,selectionMode:y,deleteKeyCode:g,multiSelectionKeyCode:w,multiSelectionActive:S,edgeLookup:T,nodeLookup:x,connectionLookup:I,defaultEdgeOptions:D,connectionStartHandle:$,panOnDrag:F}=Le(),H=wn(null),U=wn(new Set),j=wn(new Set),L=wn(null),A=Pe(()=>u.value&&(e.isSelecting||o.value)),X=Pe(()=>$.value!==null);let N=!1,V=!1;const R=jr(g,{actInsideInputWithModifier:!1}),B=jr(w);Ie(R,te=>{te&&(d(f.value),h(l.value),c.value=!1)}),Ie(B,te=>{S.value=te});function z(te,J){return se=>{se.target===J&&(te==null||te(se))}}function W(te){if(N||X.value){N=!1;return}i.paneClick(te),a(),c.value=!1}function Y(te){var J;if(Array.isArray(F.value)&&((J=F.value)!=null&&J.includes(2))){te.preventDefault();return}i.paneContextMenu(te)}function Z(te){i.paneScroll(te)}function re(te){var J,se,ye;if(L.value=((J=t.value)==null?void 0:J.getBoundingClientRect())??null,!u.value||!e.isSelecting||te.button!==0||te.target!==H.value||!L.value)return;(ye=(se=te.target)==null?void 0:se.setPointerCapture)==null||ye.call(se,te.pointerId);const{x:Ee,y:ce}=zN(te,L.value);V=!0,N=!1,a(),s.value={width:0,height:0,startX:Ee,startY:ce,x:Ee,y:ce},i.selectionStart(te)}function le(te){var J;if(!L.value||!s.value)return;N=!0;const{x:se,y:ye}=qt(te,L.value),{startX:Ee=0,startY:ce=0}=s.value,pe={startX:Ee,startY:ce,x:se<Ee?se:Ee,y:ye<ce?ye:ce,width:Math.abs(se-Ee),height:Math.abs(ye-ce)},b=U.value,C=j.value;U.value=new Set(c0(n.value,pe,r.value,y.value===hd.Partial,!0).map(p=>p.id)),j.value=new Set;const v=((J=D.value)==null?void 0:J.selectable)??!0;for(const p of U.value){const m=I.value.get(p);if(m)for(const{edgeId:_}of m.values()){const E=T.value.get(_);E&&(E.selectable??v)&&j.value.add(_)}}if(!Xh(b,U.value)){const p=_n(x.value,U.value,!0);i.nodesChange(p)}if(!Xh(C,j.value)){const p=_n(T.value,j.value);i.edgesChange(p)}s.value=pe,o.value=!0,c.value=!1}function me(te){var J;te.button!==0||!V||((J=te.target)==null||J.releasePointerCapture(te.pointerId),!o.value&&s.value&&te.target===H.value&&W(te),o.value=!1,s.value=null,c.value=U.value.size>0,i.selectionEnd(te),e.selectionKeyPressed&&(N=!1),V=!1)}return(te,J)=>(ne(),fe("div",{ref_key:"container",ref:H,class:St(["vue-flow__pane vue-flow__container",{selection:te.isSelecting}]),onClick:J[0]||(J[0]=se=>A.value?void 0:z(W,H.value)(se)),onContextmenu:J[1]||(J[1]=se=>z(Y,H.value)(se)),onWheelPassive:J[2]||(J[2]=se=>z(Z,H.value)(se)),onPointerenter:J[3]||(J[3]=se=>A.value?void 0:Q(i).paneMouseEnter(se)),onPointerdown:J[4]||(J[4]=se=>A.value?re(se):Q(i).paneMouseMove(se)),onPointermove:J[5]||(J[5]=se=>A.value?le(se):Q(i).paneMouseMove(se)),onPointerup:J[6]||(J[6]=se=>A.value?me(se):void 0),onPointerleave:J[7]||(J[7]=se=>Q(i).paneMouseLeave(se))},[ze(te.$slots,"default"),Q(o)&&Q(s)?(ne(),je(kN,{key:0,"user-selection-rect":Q(s)},null,8,["user-selection-rect"])):Fe("",!0),Q(c)&&Q(f).length?(ne(),je(BN,{key:1})):Fe("",!0)],34))}}),GN={name:"Transform",compatConfig:{MODE:3}},jN=qe({...GN,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:r}=Le(),i=de(()=>n.value?!r.value:!1),o=de(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(a,s)=>(ne(),fe("div",{class:"vue-flow__transformationpane vue-flow__container",style:st({transform:o.value,opacity:i.value?0:void 0})},[ze(a.$slots,"default")],4))}}),UN={name:"Viewport",compatConfig:{MODE:3}},KN=qe({...UN,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:r,translateExtent:i,zoomActivationKeyCode:o,selectionKeyCode:a,panActivationKeyCode:s,panOnScroll:u,panOnScrollMode:c,panOnScrollSpeed:l,panOnDrag:f,zoomOnDoubleClick:d,zoomOnPinch:h,zoomOnScroll:y,preventScrolling:g,noWheelClassName:w,noPanClassName:S,emits:T,connectionStartHandle:x,userSelectionActive:I,paneDragging:D,d3Zoom:$,d3Selection:F,d3ZoomHandler:H,viewport:U,viewportRef:j,paneClickDistance:L}=Le();DN(j);const A=wn(!1),X=wn(!1);let N=null,V=!1,R=0,B={x:0,y:0,zoom:0};const z=jr(s),W=jr(a),Y=jr(o),Z=Pe(()=>(!W.value||W.value&&a.value===!0)&&(z.value||f.value)),re=Pe(()=>z.value||u.value),le=Pe(()=>a.value===!0&&Z.value!==!0),me=Pe(()=>W.value&&a.value!==!0||I.value||le.value),te=Pe(()=>x.value!==null);cn(()=>{if(!j.value){li("Viewport element is missing");return}const ce=j.value,pe=ce.getBoundingClientRect(),b=lT().clickDistance(L.value).scaleExtent([t.value,n.value]).translateExtent(i.value),C=wt(ce).call(b),v=C.on("wheel.zoom"),p=vr.translate(r.value.x??0,r.value.y??0).scale(Vn(r.value.zoom??1,t.value,n.value)),m=[[0,0],[pe.width,pe.height]],_=b.constrain()(p,m,i.value);b.transform(C,_),b.wheelDelta($h),$.value=b,F.value=C,H.value=v,U.value={x:_.x,y:_.y,zoom:_.k},b.on("start",E=>{var M;if(!E.sourceEvent)return null;R=E.sourceEvent.button,A.value=!0;const P=ye(E.transform);((M=E.sourceEvent)==null?void 0:M.type)==="mousedown"&&(D.value=!0),B=P,T.viewportChangeStart(P),T.moveStart({event:E,flowTransform:P})}),b.on("end",E=>{if(!E.sourceEvent)return null;if(A.value=!1,D.value=!1,J(Z.value,R??0)&&!V&&T.paneContextMenu(E.sourceEvent),V=!1,se(B,E.transform)){const M=ye(E.transform);B=M,T.viewportChangeEnd(M),T.moveEnd({event:E,flowTransform:M})}}),b.filter(E=>{var M;const P=Y.value||y.value,O=h.value&&E.ctrlKey,k=E.button,q=E.type==="wheel";if(k===1&&E.type==="mousedown"&&(Ee(E,"vue-flow__node")||Ee(E,"vue-flow__edge")))return!0;if(!Z.value&&!P&&!re.value&&!d.value&&!h.value||I.value||te.value&&!q||!d.value&&E.type==="dblclick"||Ee(E,w.value)&&q||Ee(E,S.value)&&(!q||re.value&&q&&!Y.value)||!h.value&&E.ctrlKey&&q||!P&&!re.value&&!O&&q)return!1;if(!h&&E.type==="touchstart"&&((M=E.touches)==null?void 0:M.length)>1)return E.preventDefault(),!1;if(!Z.value&&(E.type==="mousedown"||E.type==="touchstart")||le.value&&Array.isArray(f.value)&&f.value.includes(0)&&k===0||Array.isArray(f.value)&&!f.value.includes(k)&&(E.type==="mousedown"||E.type==="touchstart"))return!1;const G=Array.isArray(f.value)&&f.value.includes(k)||a.value===!0&&Array.isArray(f.value)&&!f.value.includes(0)||!k||k<=1;return(!E.ctrlKey||z.value||q)&&G}),Ie([I,Z],()=>{I.value&&!A.value?b.on("zoom",null):I.value||b.on("zoom",E=>{U.value={x:E.transform.x,y:E.transform.y,zoom:E.transform.k};const M=ye(E.transform);V=J(Z.value,R??0),T.viewportChange(M),T.move({event:E,flowTransform:M})})},{immediate:!0}),Ie([I,re,c,Y,h,g,w],()=>{re.value&&!Y.value&&!I.value?C.on("wheel.zoom",E=>{if(Ee(E,w.value))return!1;const M=Y.value||y.value,P=h.value&&E.ctrlKey;if(!(!g.value||re.value||M||P))return!1;E.preventDefault(),E.stopImmediatePropagation();const k=C.property("__zoom").k||1,q=ro();if(!z.value&&E.ctrlKey&&h.value&&q){const oe=Rt(E),xe=$h(E),_e=k*2**xe;b.scaleTo(C,_e,oe,E);return}const G=E.deltaMode===1?20:1;let K=c.value===Gr.Vertical?0:E.deltaX*G,ue=c.value===Gr.Horizontal?0:E.deltaY*G;!q&&E.shiftKey&&c.value!==Gr.Vertical&&!K&&ue&&(K=ue,ue=0),b.translateBy(C,-(K/k)*l.value,-(ue/k)*l.value);const ie=ye(C.property("__zoom"));N&&clearTimeout(N),X.value?(T.move({event:E,flowTransform:ie}),T.viewportChange(ie),N=setTimeout(()=>{T.moveEnd({event:E,flowTransform:ie}),T.viewportChangeEnd(ie),X.value=!1},150)):(X.value=!0,T.moveStart({event:E,flowTransform:ie}),T.viewportChangeStart(ie))},{passive:!1}):typeof v<"u"&&C.on("wheel.zoom",function(E,M){const P=!g.value&&E.type==="wheel"&&!E.ctrlKey,O=Y.value||y.value,k=h.value&&E.ctrlKey;if(!O&&!u.value&&!k&&E.type==="wheel"||P||Ee(E,w.value))return null;E.preventDefault(),v.call(this,E,M)},{passive:!1})},{immediate:!0})});function J(ce,pe){return pe===2&&Array.isArray(ce)&&ce.includes(2)}function se(ce,pe){return ce.x!==pe.x&&!Number.isNaN(pe.x)||ce.y!==pe.y&&!Number.isNaN(pe.y)||ce.zoom!==pe.k&&!Number.isNaN(pe.k)}function ye(ce){return{x:ce.x,y:ce.y,zoom:ce.k}}function Ee(ce,pe){return ce.target.closest(`.${pe}`)}return(ce,pe)=>(ne(),fe("div",{ref_key:"viewportRef",ref:j,class:"vue-flow__viewport vue-flow__container"},[Ne(VN,{"is-selecting":me.value,"selection-key-pressed":Q(W),class:St({connecting:te.value,dragging:Q(D),draggable:Q(f)===!0||Array.isArray(Q(f))&&Q(f).includes(0)})},{default:bt(()=>[Ne(jN,null,{default:bt(()=>[ze(ce.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),YN=["id"],WN=["id"],XN=["id"],ZN={name:"A11yDescriptions",compatConfig:{MODE:3}},JN=qe({...ZN,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:r}=Le();return(i,o)=>(ne(),fe(Oe,null,[Se("div",{id:`${Q(t0)}-${Q(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+vt(Q(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,YN),Se("div",{id:`${Q(n0)}-${Q(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,WN),Q(n)?Fe("",!0):(ne(),fe("div",{key:0,id:`${Q(pT)}-${Q(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},vt(Q(r)),9,XN))],64))}});function QN(){const e=Le();Ie(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function eA(e,t,n){return n===ae.Left?e-t:n===ae.Right?e+t:e}function tA(e,t,n){return n===ae.Top?e-t:n===ae.Bottom?e+t:e}const gd=function({radius:e=10,centerX:t=0,centerY:n=0,position:r=ae.Top,type:i}){return Re("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:eA(t,e,r),cy:tA(n,e,r),r:e,stroke:"transparent",fill:"transparent"})};gd.props=["radius","centerX","centerY","position","type"];gd.compatConfig={MODE:3};const nv=gd,nA=qe({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:r,edgeUpdaterRadius:i,emits:o,nodesSelectionActive:a,noPanClassName:s,getEdgeTypes:u,removeSelectedEdges:c,findEdge:l,findNode:f,isValidConnection:d,multiSelectionActive:h,disableKeyboardA11y:y,elementsSelectable:g,edgesUpdatable:w,edgesFocusable:S,hooks:T}=Le(),x=de(()=>l(e.id)),{emit:I,on:D}=UT(x.value,o),$=Lt(Mo),F=Tn(),H=Me(!1),U=Me(!1),j=Me(""),L=Me(null),A=Me("source"),X=Me(null),N=Pe(()=>typeof x.value.selectable>"u"?g.value:x.value.selectable),V=Pe(()=>typeof x.value.updatable>"u"?w.value:x.value.updatable),R=Pe(()=>typeof x.value.focusable>"u"?S.value:x.value.focusable);Bn(VT,e.id),Bn(GT,X);const B=de(()=>x.value.class instanceof Function?x.value.class(x.value):x.value.class),z=de(()=>x.value.style instanceof Function?x.value.style(x.value):x.value.style),W=de(()=>{const p=x.value.type||"default",m=$==null?void 0:$[`edge-${p}`];if(m)return m;let _=x.value.template??u.value[p];if(typeof _=="string"&&F){const E=Object.keys(F.appContext.components);E&&E.includes(p)&&(_=W_(p,!1))}return _&&typeof _!="string"?_:(o.error(new Ye(Ue.EDGE_TYPE_MISSING,_)),!1)}),{handlePointerDown:Y}=w0({nodeId:j,handleId:L,type:A,isValidConnection:d,edgeUpdaterType:A,onEdgeUpdate:le,onEdgeUpdateEnd:me});return()=>{const p=f(x.value.source),m=f(x.value.target),_="pathOptions"in x.value?x.value.pathOptions:{};if(!p&&!m)return o.error(new Ye(Ue.EDGE_SOURCE_TARGET_MISSING,x.value.id,x.value.source,x.value.target)),null;if(!p)return o.error(new Ye(Ue.EDGE_SOURCE_MISSING,x.value.id,x.value.source)),null;if(!m)return o.error(new Ye(Ue.EDGE_TARGET_MISSING,x.value.id,x.value.target)),null;if(!x.value||x.value.hidden||p.hidden||m.hidden)return null;let E;r.value===xn.Strict?E=p.handleBounds.source:E=[...p.handleBounds.source||[],...p.handleBounds.target||[]];const M=Gh(E,x.value.sourceHandle);let P;r.value===xn.Strict?P=m.handleBounds.target:P=[...m.handleBounds.target||[],...m.handleBounds.source||[]];const O=Gh(P,x.value.targetHandle),k=(M==null?void 0:M.position)||ae.Bottom,q=(O==null?void 0:O.position)||ae.Top,{x:G,y:K}=pr(p,M,k),{x:ue,y:ie}=pr(m,O,q);return x.value.sourceX=G,x.value.sourceY=K,x.value.targetX=ue,x.value.targetY=ie,Re("g",{ref:X,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${W.value===!1?"default":x.value.type||"default"}`,s.value,B.value,{updating:H.value,selected:x.value.selected,animated:x.value.animated,inactive:!N.value&&!T.value.edgeClick.hasListeners()}],tabIndex:R.value?0:void 0,"aria-label":x.value.ariaLabel===null?void 0:x.value.ariaLabel??`Edge from ${x.value.source} to ${x.value.target}`,"aria-describedby":R.value?`${n0}-${t}`:void 0,"aria-roledescription":"edge",role:R.value?"group":"img",...x.value.domAttributes,onClick:J,onContextmenu:se,onDblclick:ye,onMouseenter:Ee,onMousemove:ce,onMouseleave:pe,onKeyDown:R.value?v:void 0},[U.value?null:Re(W.value===!1?u.value.default:W.value,{id:e.id,sourceNode:p,targetNode:m,source:x.value.source,target:x.value.target,type:x.value.type,updatable:V.value,selected:x.value.selected,animated:x.value.animated,label:x.value.label,labelStyle:x.value.labelStyle,labelShowBg:x.value.labelShowBg,labelBgStyle:x.value.labelBgStyle,labelBgPadding:x.value.labelBgPadding,labelBgBorderRadius:x.value.labelBgBorderRadius,data:x.value.data,events:{...x.value.events,...D},style:z.value,markerStart:`url('#${ii(x.value.markerStart,t)}')`,markerEnd:`url('#${ii(x.value.markerEnd,t)}')`,sourcePosition:k,targetPosition:q,sourceX:G,sourceY:K,targetX:ue,targetY:ie,sourceHandleId:x.value.sourceHandle,targetHandleId:x.value.targetHandle,interactionWidth:x.value.interactionWidth,..._}),[V.value==="source"||V.value===!0?[Re("g",{onMousedown:b,onMouseenter:Z,onMouseout:re},Re(nv,{position:k,centerX:G,centerY:K,radius:i.value,type:"source","data-type":"source"}))]:null,V.value==="target"||V.value===!0?[Re("g",{onMousedown:C,onMouseenter:Z,onMouseout:re},Re(nv,{position:q,centerX:ue,centerY:ie,radius:i.value,type:"target","data-type":"target"}))]:null]])};function Z(){H.value=!0}function re(){H.value=!1}function le(p,m){I.update({event:p,edge:x.value,connection:m})}function me(p){I.updateEnd({event:p,edge:x.value}),U.value=!1}function te(p,m){p.button===0&&(U.value=!0,j.value=m?x.value.target:x.value.source,L.value=(m?x.value.targetHandle:x.value.sourceHandle)??null,A.value=m?"target":"source",I.updateStart({event:p,edge:x.value}),Y(p))}function J(p){var m;const _={event:p,edge:x.value};N.value&&(a.value=!1,x.value.selected&&h.value?(c([x.value]),(m=X.value)==null||m.blur()):n([x.value])),I.click(_)}function se(p){I.contextMenu({event:p,edge:x.value})}function ye(p){I.doubleClick({event:p,edge:x.value})}function Ee(p){I.mouseEnter({event:p,edge:x.value})}function ce(p){I.mouseMove({event:p,edge:x.value})}function pe(p){I.mouseLeave({event:p,edge:x.value})}function b(p){te(p,!0)}function C(p){te(p,!1)}function v(p){var m;!y.value&&r0.includes(p.key)&&N.value&&(p.key==="Escape"?((m=X.value)==null||m.blur(),c([l(e.id)])):n([l(e.id)]))}}}),rA=nA,iA=qe({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:r,connectionEndHandle:i,connectionPosition:o,connectionLineType:a,connectionLineStyle:s,connectionLineOptions:u,connectionStatus:c,viewport:l,findNode:f}=Le(),d=(e=Lt(Mo))==null?void 0:e["connection-line"],h=de(()=>{var T;return f((T=r.value)==null?void 0:T.nodeId)}),y=de(()=>{var T;return f((T=i.value)==null?void 0:T.nodeId)??null}),g=de(()=>({x:(o.value.x-l.value.x)/l.value.zoom,y:(o.value.y-l.value.y)/l.value.zoom})),w=de(()=>u.value.markerStart?`url(#${ii(u.value.markerStart,t)})`:""),S=de(()=>u.value.markerEnd?`url(#${ii(u.value.markerEnd,t)})`:"");return()=>{var T,x,I;if(!h.value||!r.value)return null;const D=r.value.id,$=r.value.type,F=h.value.handleBounds;let H=(F==null?void 0:F[$])??[];if(n.value===xn.Loose){const z=(F==null?void 0:F[$==="source"?"target":"source"])??[];H=[...H,...z]}if(!H)return null;const U=(D?H.find(z=>z.id===D):H[0])??null,j=(U==null?void 0:U.position)??ae.Top,{x:L,y:A}=pr(h.value,U,j);let X=null;y.value&&(n.value===xn.Strict?X=((T=y.value.handleBounds[$==="source"?"target":"source"])==null?void 0:T.find(z=>{var W;return z.id===((W=i.value)==null?void 0:W.id)}))||null:X=((x=[...y.value.handleBounds.source??[],...y.value.handleBounds.target??[]])==null?void 0:x.find(z=>{var W;return z.id===((W=i.value)==null?void 0:W.id)}))||null);const N=((I=i.value)==null?void 0:I.position)??(j?kf[j]:null);if(!j||!N)return null;const V=a.value??u.value.type??Pn.Bezier;let R="";const B={sourceX:L,sourceY:A,sourcePosition:j,targetX:g.value.x,targetY:g.value.y,targetPosition:N};return V===Pn.Bezier?[R]=T0(B):V===Pn.Step?[R]=Ff({...B,borderRadius:0}):V===Pn.SmoothStep?[R]=Ff(B):V===Pn.SimpleBezier?[R]=N0(B):R=`M${L},${A} ${g.value.x},${g.value.y}`,Re("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Re("g",{class:"vue-flow__connection"},d?Re(d,{sourceX:L,sourceY:A,sourcePosition:j,targetX:g.value.x,targetY:g.value.y,targetPosition:N,sourceNode:h.value,sourceHandle:U,targetNode:y.value,targetHandle:X,markerEnd:S.value,markerStart:w.value,connectionStatus:c.value}):Re("path",{d:R,class:[u.value.class,c.value,"vue-flow__connection-path"],style:{...s.value,...u.value.style},"marker-end":S.value,"marker-start":w.value})))}}}),oA=iA,aA=["id","markerWidth","markerHeight","markerUnits","orient"],sA={name:"MarkerType",compatConfig:{MODE:3}},uA=qe({...sA,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(ne(),fe("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===Q(Df).ArrowClosed?(ne(),fe("polyline",{key:0,style:st({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Fe("",!0),t.type===Q(Df).Arrow?(ne(),fe("polyline",{key:1,style:st({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Fe("",!0)],8,aA))}}),lA={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},cA={name:"MarkerDefinitions",compatConfig:{MODE:3}},fA=qe({...cA,setup(e){const{id:t,edges:n,connectionLineOptions:r,defaultMarkerColor:i}=Le(),o=de(()=>{const a=new Set,s=[],u=c=>{if(c){const l=ii(c,t);a.has(l)||(typeof c=="object"?s.push({...c,id:l,color:c.color||i.value}):s.push({id:l,color:i.value,type:c}),a.add(l))}};for(const c of[r.value.markerEnd,r.value.markerStart])u(c);for(const c of n.value)for(const l of[c.markerStart,c.markerEnd])u(l);return s.sort((c,l)=>c.id.localeCompare(l.id))});return(a,s)=>(ne(),fe("svg",lA,[Se("defs",null,[(ne(!0),fe(Oe,null,lr(o.value,u=>(ne(),je(uA,{id:u.id,key:u.id,type:u.type,color:u.color,width:u.width,height:u.height,markerUnits:u.markerUnits,"stroke-width":u.strokeWidth,orient:u.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),dA={name:"Edges",compatConfig:{MODE:3}},hA=qe({...dA,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:r}=Le();return(i,o)=>(ne(),fe(Oe,null,[Ne(fA),(ne(!0),fe(Oe,null,lr(Q(n),a=>(ne(),fe("svg",{key:a.id,class:"vue-flow__edges vue-flow__container",style:st({zIndex:Q(RT)(a,Q(t),Q(r))})},[Ne(Q(rA),{id:a.id},null,8,["id"])],4))),128)),Ne(Q(oA))],64))}}),vA=qe({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:r,nodesSelectionActive:i,multiSelectionActive:o,emits:a,removeSelectedNodes:s,addSelectedNodes:u,updateNodeDimensions:c,onUpdateNodeInternals:l,getNodeTypes:f,nodeExtent:d,elevateNodesOnSelect:h,disableKeyboardA11y:y,ariaLiveMessage:g,snapToGrid:w,snapGrid:S,nodeDragThreshold:T,nodesDraggable:x,elementsSelectable:I,nodesConnectable:D,nodesFocusable:$,hooks:F}=Le(),H=Me(null);Bn(_0,H),Bn(y0,e.id);const U=Lt(Mo),j=Tn(),L=x0(),{node:A,parentNode:X}=E0(e.id),{emit:N,on:V}=XT(A,a),R=Pe(()=>typeof A.draggable>"u"?x.value:A.draggable),B=Pe(()=>typeof A.selectable>"u"?I.value:A.selectable),z=Pe(()=>typeof A.connectable>"u"?D.value:A.connectable),W=Pe(()=>typeof A.focusable>"u"?$.value:A.focusable),Y=de(()=>B.value||R.value||F.value.nodeClick.hasListeners()||F.value.nodeDoubleClick.hasListeners()||F.value.nodeMouseEnter.hasListeners()||F.value.nodeMouseMove.hasListeners()||F.value.nodeMouseLeave.hasListeners()),Z=Pe(()=>!!A.dimensions.width&&!!A.dimensions.height),re=de(()=>{const m=A.type||"default",_=U==null?void 0:U[`node-${m}`];if(_)return _;let E=A.template||f.value[m];if(typeof E=="string"&&j){const M=Object.keys(j.appContext.components);M&&M.includes(m)&&(E=W_(m,!1))}return E&&typeof E!="string"?E:(a.error(new Ye(Ue.NODE_TYPE_MISSING,E)),!1)}),le=b0({id:e.id,el:H,disabled:()=>!R.value,selectable:B,dragHandle:()=>A.dragHandle,onStart(m){N.dragStart(m)},onDrag(m){N.drag(m)},onStop(m){N.dragStop(m)},onClick(m){v(m)}}),me=de(()=>A.class instanceof Function?A.class(A):A.class),te=de(()=>{const m=(A.style instanceof Function?A.style(A):A.style)||{},_=A.width instanceof Function?A.width(A):A.width,E=A.height instanceof Function?A.height(A):A.height;return!m.width&&_&&(m.width=typeof _=="string"?_:`${_}px`),!m.height&&E&&(m.height=typeof E=="string"?E:`${E}px`),m}),J=Pe(()=>Number(A.zIndex??te.value.zIndex??0));return l(m=>{(m.includes(e.id)||!m.length)&&ye()}),cn(()=>{Ie(()=>A.hidden,(m=!1,_,E)=>{!m&&H.value&&(e.resizeObserver.observe(H.value),E(()=>{H.value&&e.resizeObserver.unobserve(H.value)}))},{immediate:!0,flush:"post"})}),Ie([()=>A.type,()=>A.sourcePosition,()=>A.targetPosition],()=>{kt(()=>{c([{id:e.id,nodeElement:H.value,forceUpdate:!0}])})}),Ie([()=>A.position.x,()=>A.position.y,()=>{var m;return(m=X.value)==null?void 0:m.computedPosition.x},()=>{var m;return(m=X.value)==null?void 0:m.computedPosition.y},()=>{var m;return(m=X.value)==null?void 0:m.computedPosition.z},J,()=>A.selected,()=>A.dimensions.height,()=>A.dimensions.width,()=>{var m;return(m=X.value)==null?void 0:m.dimensions.height},()=>{var m;return(m=X.value)==null?void 0:m.dimensions.width}],([m,_,E,M,P,O])=>{const k={x:m,y:_,z:O+(h.value&&A.selected?1e3:0)};typeof E<"u"&&typeof M<"u"?A.computedPosition=CT({x:E,y:M,z:P},k):A.computedPosition=k},{flush:"post",immediate:!0}),Ie([()=>A.extent,d],([m,_],[E,M])=>{(m!==E||_!==M)&&se()}),A.extent==="parent"||typeof A.extent=="object"&&"range"in A.extent&&A.extent.range==="parent"?If(()=>Z).toBe(!0).then(se):se(),()=>A.hidden?null:Re("div",{ref:H,"data-id":A.id,class:["vue-flow__node",`vue-flow__node-${re.value===!1?"default":A.type||"default"}`,{[n.value]:R.value,dragging:le==null?void 0:le.value,draggable:R.value,selected:A.selected,selectable:B.value,parent:A.isParent},me.value],style:{visibility:Z.value?"visible":"hidden",zIndex:A.computedPosition.z??J.value,transform:`translate(${A.computedPosition.x}px,${A.computedPosition.y}px)`,pointerEvents:Y.value?"all":"none",...te.value},tabIndex:W.value?0:void 0,role:W.value?"group":void 0,"aria-describedby":y.value?void 0:`${t0}-${t}`,"aria-label":A.ariaLabel,"aria-roledescription":"node",...A.domAttributes,onMouseenter:Ee,onMousemove:ce,onMouseleave:pe,onContextmenu:b,onClick:v,onDblclick:C,onKeydown:p},[Re(re.value===!1?f.value.default:re.value,{id:A.id,type:A.type,data:A.data,events:{...A.events,...V},selected:A.selected,resizing:A.resizing,dragging:le.value,connectable:z.value,position:A.computedPosition,dimensions:A.dimensions,isValidTargetPos:A.isValidTargetPos,isValidSourcePos:A.isValidSourcePos,parent:A.parentNode,parentNodeId:A.parentNode,zIndex:A.computedPosition.z??J.value,targetPosition:A.targetPosition,sourcePosition:A.sourcePosition,label:A.label,dragHandle:A.dragHandle,onUpdateNodeInternals:ye})]);function se(){const m=A.computedPosition,{computedPosition:_,position:E}=vd(A,w.value?Ao(m,S.value):m,a.error,d.value,X.value);(A.computedPosition.x!==_.x||A.computedPosition.y!==_.y)&&(A.computedPosition={...A.computedPosition,..._}),(A.position.x!==E.x||A.position.y!==E.y)&&(A.position=E)}function ye(){H.value&&c([{id:e.id,nodeElement:H.value,forceUpdate:!0}])}function Ee(m){le!=null&&le.value||N.mouseEnter({event:m,node:A})}function ce(m){le!=null&&le.value||N.mouseMove({event:m,node:A})}function pe(m){le!=null&&le.value||N.mouseLeave({event:m,node:A})}function b(m){return N.contextMenu({event:m,node:A})}function C(m){return N.doubleClick({event:m,node:A})}function v(m){B.value&&(!r.value||!R.value||T.value>0)&&Lf(A,o.value,u,s,i,!1,H.value),N.click({event:m,node:A})}function p(m){if(!($f(m)||y.value))if(r0.includes(m.key)&&B.value){const _=m.key==="Escape";Lf(A,o.value,u,s,i,_,H.value)}else R.value&&A.selected&&sr[m.key]&&(m.preventDefault(),g.value=`Moved selected node ${m.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~A.position.x}, y: ${~~A.position.y}`,L({x:sr[m.key].x,y:sr[m.key].y},m.shiftKey))}}}),pA=vA;function gA(e={includeHiddenNodes:!1}){const{nodes:t}=Le();return de(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const mA={class:"vue-flow__nodes vue-flow__container"},yA={name:"Nodes",compatConfig:{MODE:3}},_A=qe({...yA,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:r}=Le(),i=gA(),o=Me();return Ie(i,a=>{a&&kt(()=>{r.nodesInitialized(t.value)})},{immediate:!0}),cn(()=>{o.value=new ResizeObserver(a=>{const s=a.map(u=>({id:u.target.getAttribute("data-id"),nodeElement:u.target,forceUpdate:!0}));kt(()=>n(s))})}),ed(()=>{var a;return(a=o.value)==null?void 0:a.disconnect()}),(a,s)=>(ne(),fe("div",mA,[o.value?(ne(!0),fe(Oe,{key:0},lr(Q(t),(u,c,l,f)=>{const d=[u.id];if(f&&f.key===u.id&&zE(f,d))return f;const h=(ne(),je(Q(pA),{id:u.id,key:u.id,"resize-observer":o.value},null,8,["id","resize-observer"]));return h.memo=d,h},s,0),128)):Fe("",!0)]))}});function bA(){const{emits:e}=Le();cn(()=>{if(m0()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Ye(Ue.MISSING_STYLES))}})}const wA=Se("div",{class:"vue-flow__edge-labels"},null,-1),EA={name:"VueFlow",compatConfig:{MODE:3}},xA=qe({...EA,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const r=e,i=nE(),o=fa(r,"modelValue",n),a=fa(r,"nodes",n),s=fa(r,"edges",n),u=Le(r),c=eN({modelValue:o,nodes:a,edges:s},r,u);return nN(n,u.hooks),QN(),bA(),Bn(Mo,i),td(c),t(u),(l,f)=>(ne(),fe("div",{ref:Q(u).vueFlowRef,class:"vue-flow"},[Ne(KN,null,{default:bt(()=>[Ne(hA),wA,Ne(_A),ze(l.$slots,"zoom-pane")]),_:3}),ze(l.$slots,"default"),Ne(JN)],512))}}),SA={name:"Panel",compatConfig:{MODE:3}},CA=qe({...SA,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=Le(),r=de(()=>`${t.position}`.split("-"));return(i,o)=>(ne(),fe("div",{class:St(["vue-flow__panel",r.value]),style:st({pointerEvents:Q(n)?"none":"all"})},[ze(i.$slots,"default")],6))}});var Zt=(e=>(e.Lines="lines",e.Dots="dots",e))(Zt||{});const M0=function({dimensions:e,size:t,color:n}){return Re("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},R0=function({radius:e,color:t}){return Re("circle",{cx:e,cy:e,r:e,fill:t})};Zt.Lines+"",Zt.Dots+"";const IA={[Zt.Dots]:"#81818a",[Zt.Lines]:"#eee"},TA=["id","x","y","width","height","patternTransform"],NA={key:2,height:"100",width:"100"},AA=["fill"],MA=["x","y","fill"],RA={name:"Background",compatConfig:{MODE:3}},PA=qe({...RA,props:{id:{},variant:{default:()=>Zt.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=Le(),r=de(()=>{const a=n.value.zoom,[s,u]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],c=[s*a||1,u*a||1],l=e.size*a,[f,d]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[f*a||1+c[0]/2,d*a||1+c[1]/2];return{scaledGap:c,offset:h,size:l}}),i=Pe(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),o=Pe(()=>e.color||e.patternColor||IA[e.variant||Zt.Dots]);return(a,s)=>(ne(),fe("svg",{class:"vue-flow__background vue-flow__container",style:st({height:`${a.height>100?100:a.height}%`,width:`${a.width>100?100:a.width}%`})},[ze(a.$slots,"pattern-container",{id:i.value},()=>[Se("pattern",{id:i.value,x:Q(n).x%r.value.scaledGap[0],y:Q(n).y%r.value.scaledGap[1],width:r.value.scaledGap[0],height:r.value.scaledGap[1],patternTransform:`translate(-${r.value.offset[0]},-${r.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[ze(a.$slots,"pattern",{},()=>[a.variant===Q(Zt).Lines?(ne(),je(Q(M0),{key:0,size:a.lineWidth,color:o.value,dimensions:r.value.scaledGap},null,8,["size","color","dimensions"])):a.variant===Q(Zt).Dots?(ne(),je(Q(R0),{key:1,color:o.value,radius:r.value.size/2},null,8,["color","radius"])):Fe("",!0),a.bgColor?(ne(),fe("svg",NA,[Se("rect",{width:"100%",height:"100%",fill:a.bgColor},null,8,AA)])):Fe("",!0)])],8,TA)]),Se("rect",{x:a.x,y:a.y,width:"100%",height:"100%",fill:`url(#${i.value})`},null,8,MA),ze(a.$slots,"default",{id:i.value})],4))}}),OA={name:"ControlButton",compatConfig:{MODE:3}},qA=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},DA={type:"button",class:"vue-flow__controls-button"};function $A(e,t,n,r,i,o){return ne(),fe("button",DA,[ze(e.$slots,"default")])}const Ti=qA(OA,[["render",$A]]),kA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},LA=Se("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),FA=[LA];function BA(e,t){return ne(),fe("svg",kA,FA)}const zA={render:BA},HA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},VA=Se("path",{d:"M0 0h32v4.2H0z"},null,-1),GA=[VA];function jA(e,t){return ne(),fe("svg",HA,GA)}const UA={render:jA},KA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},YA=Se("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),WA=[YA];function XA(e,t){return ne(),fe("svg",KA,WA)}const ZA={render:XA},JA={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},QA=Se("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),eM=[QA];function tM(e,t){return ne(),fe("svg",JA,eM)}const nM={render:tM},rM={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},iM=Se("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),oM=[iM];function aM(e,t){return ne(),fe("svg",rM,oM)}const sM={render:aM},uM={name:"Controls",compatConfig:{MODE:3}},lM=qe({...uM,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>e0.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:r,elementsSelectable:i,setInteractive:o,zoomIn:a,zoomOut:s,fitView:u,viewport:c,minZoom:l,maxZoom:f}=Le(),d=Pe(()=>n.value||r.value||i.value),h=Pe(()=>c.value.zoom<=l.value),y=Pe(()=>c.value.zoom>=f.value);function g(){a(),t("zoomIn")}function w(){s(),t("zoomOut")}function S(){u(e.fitViewParams),t("fitView")}function T(){o(!d.value),t("interactionChange",!d.value)}return(x,I)=>(ne(),je(Q(CA),{class:"vue-flow__controls",position:x.position},{default:bt(()=>[ze(x.$slots,"top"),x.showZoom?(ne(),fe(Oe,{key:0},[ze(x.$slots,"control-zoom-in",{},()=>[Ne(Ti,{class:"vue-flow__controls-zoomin",disabled:y.value,onClick:g},{default:bt(()=>[ze(x.$slots,"icon-zoom-in",{},()=>[(ne(),je(Qn(Q(zA))))])]),_:3},8,["disabled"])]),ze(x.$slots,"control-zoom-out",{},()=>[Ne(Ti,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:w},{default:bt(()=>[ze(x.$slots,"icon-zoom-out",{},()=>[(ne(),je(Qn(Q(UA))))])]),_:3},8,["disabled"])])],64)):Fe("",!0),x.showFitView?ze(x.$slots,"control-fit-view",{key:1},()=>[Ne(Ti,{class:"vue-flow__controls-fitview",onClick:S},{default:bt(()=>[ze(x.$slots,"icon-fit-view",{},()=>[(ne(),je(Qn(Q(ZA))))])]),_:3})]):Fe("",!0),x.showInteractive?ze(x.$slots,"control-interactive",{key:2},()=>[x.showInteractive?(ne(),je(Ti,{key:0,class:"vue-flow__controls-interactive",onClick:T},{default:bt(()=>[d.value?ze(x.$slots,"icon-unlock",{key:0},()=>[(ne(),je(Qn(Q(sM))))]):Fe("",!0),d.value?Fe("",!0):ze(x.$slots,"icon-lock",{key:1},()=>[(ne(),je(Qn(Q(nM))))])]),_:3})):Fe("",!0)]):Fe("",!0),ze(x.$slots,"default")]),_:3},8,["position"]))}});var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function md(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ea,rv;function fM(){if(rv)return Ea;rv=1;function e(){this.__data__=[],this.size=0}return Ea=e,Ea}var xa,iv;function mr(){if(iv)return xa;iv=1;function e(t,n){return t===n||t!==t&&n!==n}return xa=e,xa}var Sa,ov;function Do(){if(ov)return Sa;ov=1;var e=mr();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Sa=t,Sa}var Ca,av;function dM(){if(av)return Ca;av=1;var e=Do(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Ca=r,Ca}var Ia,sv;function hM(){if(sv)return Ia;sv=1;var e=Do();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Ia=t,Ia}var Ta,uv;function vM(){if(uv)return Ta;uv=1;var e=Do();function t(n){return e(this.__data__,n)>-1}return Ta=t,Ta}var Na,lv;function pM(){if(lv)return Na;lv=1;var e=Do();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Na=t,Na}var Aa,cv;function $o(){if(cv)return Aa;cv=1;var e=fM(),t=dM(),n=hM(),r=vM(),i=pM();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Aa=o,Aa}var Ma,fv;function gM(){if(fv)return Ma;fv=1;var e=$o();function t(){this.__data__=new e,this.size=0}return Ma=t,Ma}var Ra,dv;function mM(){if(dv)return Ra;dv=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Ra=e,Ra}var Pa,hv;function yM(){if(hv)return Pa;hv=1;function e(t){return this.__data__.get(t)}return Pa=e,Pa}var Oa,vv;function _M(){if(vv)return Oa;vv=1;function e(t){return this.__data__.has(t)}return Oa=e,Oa}var qa,pv;function P0(){if(pv)return qa;pv=1;var e=typeof Ni=="object"&&Ni&&Ni.Object===Object&&Ni;return qa=e,qa}var Da,gv;function Tt(){if(gv)return Da;gv=1;var e=P0(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Da=n,Da}var $a,mv;function yr(){if(mv)return $a;mv=1;var e=Tt(),t=e.Symbol;return $a=t,$a}var ka,yv;function bM(){if(yv)return ka;yv=1;var e=yr(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var l=r.call(a);return c&&(s?a[i]=u:delete a[i]),l}return ka=o,ka}var La,_v;function wM(){if(_v)return La;_v=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return La=n,La}var Fa,bv;function Gn(){if(bv)return Fa;bv=1;var e=yr(),t=bM(),n=wM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return Fa=a,Fa}var Ba,wv;function yt(){if(wv)return Ba;wv=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ba=e,Ba}var za,Ev;function ci(){if(Ev)return za;Ev=1;var e=Gn(),t=yt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var u=e(s);return u==r||u==i||u==n||u==o}return za=a,za}var Ha,xv;function EM(){if(xv)return Ha;xv=1;var e=Tt(),t=e["__core-js_shared__"];return Ha=t,Ha}var Va,Sv;function xM(){if(Sv)return Va;Sv=1;var e=EM(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Va=n,Va}var Ga,Cv;function O0(){if(Cv)return Ga;Cv=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Ga=n,Ga}var ja,Iv;function SM(){if(Iv)return ja;Iv=1;var e=ci(),t=xM(),n=yt(),r=O0(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?l:o;return h.test(r(d))}return ja=f,ja}var Ua,Tv;function CM(){if(Tv)return Ua;Tv=1;function e(t,n){return t==null?void 0:t[n]}return Ua=e,Ua}var Ka,Nv;function jn(){if(Nv)return Ka;Nv=1;var e=SM(),t=CM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Ka=n,Ka}var Ya,Av;function yd(){if(Av)return Ya;Av=1;var e=jn(),t=Tt(),n=e(t,"Map");return Ya=n,Ya}var Wa,Mv;function ko(){if(Mv)return Wa;Mv=1;var e=jn(),t=e(Object,"create");return Wa=t,Wa}var Xa,Rv;function IM(){if(Rv)return Xa;Rv=1;var e=ko();function t(){this.__data__=e?e(null):{},this.size=0}return Xa=t,Xa}var Za,Pv;function TM(){if(Pv)return Za;Pv=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Za=e,Za}var Ja,Ov;function NM(){if(Ov)return Ja;Ov=1;var e=ko(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return Ja=i,Ja}var Qa,qv;function AM(){if(qv)return Qa;qv=1;var e=ko(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return Qa=r,Qa}var es,Dv;function MM(){if(Dv)return es;Dv=1;var e=ko(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return es=n,es}var ts,$v;function RM(){if($v)return ts;$v=1;var e=IM(),t=TM(),n=NM(),r=AM(),i=MM();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ts=o,ts}var ns,kv;function PM(){if(kv)return ns;kv=1;var e=RM(),t=$o(),n=yd();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ns=r,ns}var rs,Lv;function OM(){if(Lv)return rs;Lv=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return rs=e,rs}var is,Fv;function Lo(){if(Fv)return is;Fv=1;var e=OM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return is=t,is}var os,Bv;function qM(){if(Bv)return os;Bv=1;var e=Lo();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return os=t,os}var as,zv;function DM(){if(zv)return as;zv=1;var e=Lo();function t(n){return e(this,n).get(n)}return as=t,as}var ss,Hv;function $M(){if(Hv)return ss;Hv=1;var e=Lo();function t(n){return e(this,n).has(n)}return ss=t,ss}var us,Vv;function kM(){if(Vv)return us;Vv=1;var e=Lo();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return us=t,us}var ls,Gv;function _d(){if(Gv)return ls;Gv=1;var e=PM(),t=qM(),n=DM(),r=$M(),i=kM();function o(a){var s=-1,u=a==null?0:a.length;for(this.clear();++s<u;){var c=a[s];this.set(c[0],c[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ls=o,ls}var cs,jv;function LM(){if(jv)return cs;jv=1;var e=$o(),t=yd(),n=_d(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var u=s.__data__;if(!t||u.length<r-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(u)}return s.set(o,a),this.size=s.size,this}return cs=i,cs}var fs,Uv;function Fo(){if(Uv)return fs;Uv=1;var e=$o(),t=gM(),n=mM(),r=yM(),i=_M(),o=LM();function a(s){var u=this.__data__=new e(s);this.size=u.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,fs=a,fs}var ds,Kv;function bd(){if(Kv)return ds;Kv=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return ds=e,ds}var hs,Yv;function q0(){if(Yv)return hs;Yv=1;var e=jn(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return hs=t,hs}var vs,Wv;function Bo(){if(Wv)return vs;Wv=1;var e=q0();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return vs=t,vs}var ps,Xv;function zo(){if(Xv)return ps;Xv=1;var e=Bo(),t=mr(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var u=o[a];(!(r.call(o,a)&&t(u,s))||s===void 0&&!(a in o))&&e(o,a,s)}return ps=i,ps}var gs,Zv;function fi(){if(Zv)return gs;Zv=1;var e=zo(),t=Bo();function n(r,i,o,a){var s=!o;o||(o={});for(var u=-1,c=i.length;++u<c;){var l=i[u],f=a?a(o[l],r[l],l,o,r):void 0;f===void 0&&(f=r[l]),s?t(o,l,f):e(o,l,f)}return o}return gs=n,gs}var ms,Jv;function FM(){if(Jv)return ms;Jv=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return ms=e,ms}var ys,Qv;function Ht(){if(Qv)return ys;Qv=1;function e(t){return t!=null&&typeof t=="object"}return ys=e,ys}var _s,ep;function BM(){if(ep)return _s;ep=1;var e=Gn(),t=Ht(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return _s=r,_s}var bs,tp;function di(){if(tp)return bs;tp=1;var e=BM(),t=Ht(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return bs=o,bs}var ws,np;function Ke(){if(np)return ws;np=1;var e=Array.isArray;return ws=e,ws}var Mr={exports:{}},Es,rp;function zM(){if(rp)return Es;rp=1;function e(){return!1}return Es=e,Es}Mr.exports;var ip;function _r(){return ip||(ip=1,function(e,t){var n=Tt(),r=zM(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||r;e.exports=c}(Mr,Mr.exports)),Mr.exports}var xs,op;function Ho(){if(op)return xs;op=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return xs=n,xs}var Ss,ap;function wd(){if(ap)return Ss;ap=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Ss=t,Ss}var Cs,sp;function HM(){if(sp)return Cs;sp=1;var e=Gn(),t=wd(),n=Ht(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",y="[object String]",g="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",T="[object Float32Array]",x="[object Float64Array]",I="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",F="[object Uint8Array]",H="[object Uint8ClampedArray]",U="[object Uint16Array]",j="[object Uint32Array]",L={};L[T]=L[x]=L[I]=L[D]=L[$]=L[F]=L[H]=L[U]=L[j]=!0,L[r]=L[i]=L[w]=L[o]=L[S]=L[a]=L[s]=L[u]=L[c]=L[l]=L[f]=L[d]=L[h]=L[y]=L[g]=!1;function A(X){return n(X)&&t(X.length)&&!!L[e(X)]}return Cs=A,Cs}var Is,up;function Vo(){if(up)return Is;up=1;function e(t){return function(n){return t(n)}}return Is=e,Is}var Rr={exports:{}};Rr.exports;var lp;function Ed(){return lp||(lp=1,function(e,t){var n=P0(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Rr,Rr.exports)),Rr.exports}var Ts,cp;function hi(){if(cp)return Ts;cp=1;var e=HM(),t=Vo(),n=Ed(),r=n&&n.isTypedArray,i=r?t(r):e;return Ts=i,Ts}var Ns,fp;function D0(){if(fp)return Ns;fp=1;var e=FM(),t=di(),n=Ke(),r=_r(),i=Ho(),o=hi(),a=Object.prototype,s=a.hasOwnProperty;function u(c,l){var f=n(c),d=!f&&t(c),h=!f&&!d&&r(c),y=!f&&!d&&!h&&o(c),g=f||d||h||y,w=g?e(c.length,String):[],S=w.length;for(var T in c)(l||s.call(c,T))&&!(g&&(T=="length"||h&&(T=="offset"||T=="parent")||y&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,S)))&&w.push(T);return w}return Ns=u,Ns}var As,dp;function Go(){if(dp)return As;dp=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return As=t,As}var Ms,hp;function $0(){if(hp)return Ms;hp=1;function e(t,n){return function(r){return t(n(r))}}return Ms=e,Ms}var Rs,vp;function VM(){if(vp)return Rs;vp=1;var e=$0(),t=e(Object.keys,Object);return Rs=t,Rs}var Ps,pp;function xd(){if(pp)return Ps;pp=1;var e=Go(),t=VM(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return Ps=i,Ps}var Os,gp;function fn(){if(gp)return Os;gp=1;var e=ci(),t=wd();function n(r){return r!=null&&t(r.length)&&!e(r)}return Os=n,Os}var qs,mp;function Nn(){if(mp)return qs;mp=1;var e=D0(),t=xd(),n=fn();function r(i){return n(i)?e(i):t(i)}return qs=r,qs}var Ds,yp;function GM(){if(yp)return Ds;yp=1;var e=fi(),t=Nn();function n(r,i){return r&&e(i,t(i),r)}return Ds=n,Ds}var $s,_p;function jM(){if(_p)return $s;_p=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return $s=e,$s}var ks,bp;function UM(){if(bp)return ks;bp=1;var e=yt(),t=Go(),n=jM(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),u=[];for(var c in a)c=="constructor"&&(s||!i.call(a,c))||u.push(c);return u}return ks=o,ks}var Ls,wp;function Un(){if(wp)return Ls;wp=1;var e=D0(),t=UM(),n=fn();function r(i){return n(i)?e(i,!0):t(i)}return Ls=r,Ls}var Fs,Ep;function KM(){if(Ep)return Fs;Ep=1;var e=fi(),t=Un();function n(r,i){return r&&e(i,t(i),r)}return Fs=n,Fs}var Pr={exports:{}};Pr.exports;var xp;function k0(){return xp||(xp=1,function(e,t){var n=Tt(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var f=c.length,d=s?s(f):new c.constructor(f);return c.copy(d),d}e.exports=u}(Pr,Pr.exports)),Pr.exports}var Bs,Sp;function L0(){if(Sp)return Bs;Sp=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Bs=e,Bs}var zs,Cp;function F0(){if(Cp)return zs;Cp=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return zs=e,zs}var Hs,Ip;function B0(){if(Ip)return Hs;Ip=1;function e(){return[]}return Hs=e,Hs}var Vs,Tp;function Sd(){if(Tp)return Vs;Tp=1;var e=F0(),t=B0(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Vs=o,Vs}var Gs,Np;function YM(){if(Np)return Gs;Np=1;var e=fi(),t=Sd();function n(r,i){return e(r,t(r),i)}return Gs=n,Gs}var js,Ap;function Cd(){if(Ap)return js;Ap=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return js=e,js}var Us,Mp;function jo(){if(Mp)return Us;Mp=1;var e=$0(),t=e(Object.getPrototypeOf,Object);return Us=t,Us}var Ks,Rp;function z0(){if(Rp)return Ks;Rp=1;var e=Cd(),t=jo(),n=Sd(),r=B0(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Ks=o,Ks}var Ys,Pp;function WM(){if(Pp)return Ys;Pp=1;var e=fi(),t=z0();function n(r,i){return e(r,t(r),i)}return Ys=n,Ys}var Ws,Op;function H0(){if(Op)return Ws;Op=1;var e=Cd(),t=Ke();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return Ws=n,Ws}var Xs,qp;function V0(){if(qp)return Xs;qp=1;var e=H0(),t=Sd(),n=Nn();function r(i){return e(i,n,t)}return Xs=r,Xs}var Zs,Dp;function XM(){if(Dp)return Zs;Dp=1;var e=H0(),t=z0(),n=Un();function r(i){return e(i,n,t)}return Zs=r,Zs}var Js,$p;function ZM(){if($p)return Js;$p=1;var e=jn(),t=Tt(),n=e(t,"DataView");return Js=n,Js}var Qs,kp;function JM(){if(kp)return Qs;kp=1;var e=jn(),t=Tt(),n=e(t,"Promise");return Qs=n,Qs}var eu,Lp;function G0(){if(Lp)return eu;Lp=1;var e=jn(),t=Tt(),n=e(t,"Set");return eu=n,eu}var tu,Fp;function QM(){if(Fp)return tu;Fp=1;var e=jn(),t=Tt(),n=e(t,"WeakMap");return tu=n,tu}var nu,Bp;function br(){if(Bp)return nu;Bp=1;var e=ZM(),t=yd(),n=JM(),r=G0(),i=QM(),o=Gn(),a=O0(),s="[object Map]",u="[object Object]",c="[object Promise]",l="[object Set]",f="[object WeakMap]",d="[object DataView]",h=a(e),y=a(t),g=a(n),w=a(r),S=a(i),T=o;return(e&&T(new e(new ArrayBuffer(1)))!=d||t&&T(new t)!=s||n&&T(n.resolve())!=c||r&&T(new r)!=l||i&&T(new i)!=f)&&(T=function(x){var I=o(x),D=I==u?x.constructor:void 0,$=D?a(D):"";if($)switch($){case h:return d;case y:return s;case g:return c;case w:return l;case S:return f}return I}),nu=T,nu}var ru,zp;function eR(){if(zp)return ru;zp=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return ru=n,ru}var iu,Hp;function j0(){if(Hp)return iu;Hp=1;var e=Tt(),t=e.Uint8Array;return iu=t,iu}var ou,Vp;function Id(){if(Vp)return ou;Vp=1;var e=j0();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ou=t,ou}var au,Gp;function tR(){if(Gp)return au;Gp=1;var e=Id();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return au=t,au}var su,jp;function nR(){if(jp)return su;jp=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return su=t,su}var uu,Up;function rR(){if(Up)return uu;Up=1;var e=yr(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return uu=r,uu}var lu,Kp;function U0(){if(Kp)return lu;Kp=1;var e=Id();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return lu=t,lu}var cu,Yp;function iR(){if(Yp)return cu;Yp=1;var e=Id(),t=tR(),n=nR(),r=rR(),i=U0(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",c="[object RegExp]",l="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",x="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",F="[object Uint32Array]";function H(U,j,L){var A=U.constructor;switch(j){case h:return e(U);case o:case a:return new A(+U);case y:return t(U,L);case g:case w:case S:case T:case x:case I:case D:case $:case F:return i(U,L);case s:return new A;case u:case f:return new A(U);case c:return n(U);case l:return new A;case d:return r(U)}}return cu=H,cu}var fu,Wp;function K0(){if(Wp)return fu;Wp=1;var e=yt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return fu=n,fu}var du,Xp;function Y0(){if(Xp)return du;Xp=1;var e=K0(),t=jo(),n=Go();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return du=r,du}var hu,Zp;function oR(){if(Zp)return hu;Zp=1;var e=br(),t=Ht(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return hu=r,hu}var vu,Jp;function aR(){if(Jp)return vu;Jp=1;var e=oR(),t=Vo(),n=Ed(),r=n&&n.isMap,i=r?t(r):e;return vu=i,vu}var pu,Qp;function sR(){if(Qp)return pu;Qp=1;var e=br(),t=Ht(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return pu=r,pu}var gu,eg;function uR(){if(eg)return gu;eg=1;var e=sR(),t=Vo(),n=Ed(),r=n&&n.isSet,i=r?t(r):e;return gu=i,gu}var mu,tg;function W0(){if(tg)return mu;tg=1;var e=Fo(),t=bd(),n=zo(),r=GM(),i=KM(),o=k0(),a=L0(),s=YM(),u=WM(),c=V0(),l=XM(),f=br(),d=eR(),h=iR(),y=Y0(),g=Ke(),w=_r(),S=aR(),T=yt(),x=uR(),I=Nn(),D=Un(),$=1,F=2,H=4,U="[object Arguments]",j="[object Array]",L="[object Boolean]",A="[object Date]",X="[object Error]",N="[object Function]",V="[object GeneratorFunction]",R="[object Map]",B="[object Number]",z="[object Object]",W="[object RegExp]",Y="[object Set]",Z="[object String]",re="[object Symbol]",le="[object WeakMap]",me="[object ArrayBuffer]",te="[object DataView]",J="[object Float32Array]",se="[object Float64Array]",ye="[object Int8Array]",Ee="[object Int16Array]",ce="[object Int32Array]",pe="[object Uint8Array]",b="[object Uint8ClampedArray]",C="[object Uint16Array]",v="[object Uint32Array]",p={};p[U]=p[j]=p[me]=p[te]=p[L]=p[A]=p[J]=p[se]=p[ye]=p[Ee]=p[ce]=p[R]=p[B]=p[z]=p[W]=p[Y]=p[Z]=p[re]=p[pe]=p[b]=p[C]=p[v]=!0,p[X]=p[N]=p[le]=!1;function m(_,E,M,P,O,k){var q,G=E&$,K=E&F,ue=E&H;if(M&&(q=O?M(_,P,O,k):M(_)),q!==void 0)return q;if(!T(_))return _;var ie=g(_);if(ie){if(q=d(_),!G)return a(_,q)}else{var oe=f(_),xe=oe==N||oe==V;if(w(_))return o(_,G);if(oe==z||oe==U||xe&&!O){if(q=K||xe?{}:y(_),!G)return K?u(_,i(q,_)):s(_,r(q,_))}else{if(!p[oe])return O?_:{};q=h(_,oe,G)}}k||(k=new e);var _e=k.get(_);if(_e)return _e;k.set(_,q),x(_)?_.forEach(function(et){q.add(m(et,E,M,et,_,k))}):S(_)&&_.forEach(function(et,ct){q.set(ct,m(et,E,M,ct,_,k))});var We=ue?K?l:c:K?D:I,Qe=ie?void 0:We(_);return t(Qe||_,function(et,ct){Qe&&(ct=et,et=_[ct]),n(q,ct,m(et,E,M,ct,_,k))}),q}return mu=m,mu}var yu,ng;function lR(){if(ng)return yu;ng=1;var e=W0(),t=4;function n(r){return e(r,t)}return yu=n,yu}var _u,rg;function Td(){if(rg)return _u;rg=1;function e(t){return function(){return t}}return _u=e,_u}var bu,ig;function cR(){if(ig)return bu;ig=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),u=s.length;u--;){var c=s[t?u:++o];if(r(a[c],c,a)===!1)break}return n}}return bu=e,bu}var wu,og;function Nd(){if(og)return wu;og=1;var e=cR(),t=e();return wu=t,wu}var Eu,ag;function Ad(){if(ag)return Eu;ag=1;var e=Nd(),t=Nn();function n(r,i){return r&&e(r,i,t)}return Eu=n,Eu}var xu,sg;function fR(){if(sg)return xu;sg=1;var e=fn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,u=Object(i);(r?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return xu=t,xu}var Su,ug;function Uo(){if(ug)return Su;ug=1;var e=Ad(),t=fR(),n=t(e);return Su=n,Su}var Cu,lg;function Kn(){if(lg)return Cu;lg=1;function e(t){return t}return Cu=e,Cu}var Iu,cg;function X0(){if(cg)return Iu;cg=1;var e=Kn();function t(n){return typeof n=="function"?n:e}return Iu=t,Iu}var Tu,fg;function Z0(){if(fg)return Tu;fg=1;var e=bd(),t=Uo(),n=X0(),r=Ke();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return Tu=i,Tu}var Nu,dg;function J0(){return dg||(dg=1,Nu=Z0()),Nu}var Au,hg;function dR(){if(hg)return Au;hg=1;var e=Uo();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return Au=t,Au}var Mu,vg;function hR(){if(vg)return Mu;vg=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Mu=t,Mu}var Ru,pg;function vR(){if(pg)return Ru;pg=1;function e(t){return this.__data__.has(t)}return Ru=e,Ru}var Pu,gg;function Q0(){if(gg)return Pu;gg=1;var e=_d(),t=hR(),n=vR();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Pu=r,Pu}var Ou,mg;function pR(){if(mg)return Ou;mg=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Ou=e,Ou}var qu,yg;function e1(){if(yg)return qu;yg=1;function e(t,n){return t.has(n)}return qu=e,qu}var Du,_g;function t1(){if(_g)return Du;_g=1;var e=Q0(),t=pR(),n=e1(),r=1,i=2;function o(a,s,u,c,l,f){var d=u&r,h=a.length,y=s.length;if(h!=y&&!(d&&y>h))return!1;var g=f.get(a),w=f.get(s);if(g&&w)return g==s&&w==a;var S=-1,T=!0,x=u&i?new e:void 0;for(f.set(a,s),f.set(s,a);++S<h;){var I=a[S],D=s[S];if(c)var $=d?c(D,I,S,s,a,f):c(I,D,S,a,s,f);if($!==void 0){if($)continue;T=!1;break}if(x){if(!t(s,function(F,H){if(!n(x,H)&&(I===F||l(I,F,u,c,f)))return x.push(H)})){T=!1;break}}else if(!(I===D||l(I,D,u,c,f))){T=!1;break}}return f.delete(a),f.delete(s),T}return Du=o,Du}var $u,bg;function gR(){if(bg)return $u;bg=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return $u=e,$u}var ku,wg;function Md(){if(wg)return ku;wg=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return ku=e,ku}var Lu,Eg;function mR(){if(Eg)return Lu;Eg=1;var e=yr(),t=j0(),n=mr(),r=t1(),i=gR(),o=Md(),a=1,s=2,u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",T="[object DataView]",x=e?e.prototype:void 0,I=x?x.valueOf:void 0;function D($,F,H,U,j,L,A){switch(H){case T:if($.byteLength!=F.byteLength||$.byteOffset!=F.byteOffset)return!1;$=$.buffer,F=F.buffer;case S:return!($.byteLength!=F.byteLength||!L(new t($),new t(F)));case u:case c:case d:return n(+$,+F);case l:return $.name==F.name&&$.message==F.message;case h:case g:return $==F+"";case f:var X=i;case y:var N=U&a;if(X||(X=o),$.size!=F.size&&!N)return!1;var V=A.get($);if(V)return V==F;U|=s,A.set($,F);var R=r(X($),X(F),U,j,L,A);return A.delete($),R;case w:if(I)return I.call($)==I.call(F)}return!1}return Lu=D,Lu}var Fu,xg;function yR(){if(xg)return Fu;xg=1;var e=V0(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,u,c,l){var f=s&t,d=e(o),h=d.length,y=e(a),g=y.length;if(h!=g&&!f)return!1;for(var w=h;w--;){var S=d[w];if(!(f?S in a:r.call(a,S)))return!1}var T=l.get(o),x=l.get(a);if(T&&x)return T==a&&x==o;var I=!0;l.set(o,a),l.set(a,o);for(var D=f;++w<h;){S=d[w];var $=o[S],F=a[S];if(u)var H=f?u(F,$,S,a,o,l):u($,F,S,o,a,l);if(!(H===void 0?$===F||c($,F,s,u,l):H)){I=!1;break}D||(D=S=="constructor")}if(I&&!D){var U=o.constructor,j=a.constructor;U!=j&&"constructor"in o&&"constructor"in a&&!(typeof U=="function"&&U instanceof U&&typeof j=="function"&&j instanceof j)&&(I=!1)}return l.delete(o),l.delete(a),I}return Fu=i,Fu}var Bu,Sg;function _R(){if(Sg)return Bu;Sg=1;var e=Fo(),t=t1(),n=mR(),r=yR(),i=br(),o=Ke(),a=_r(),s=hi(),u=1,c="[object Arguments]",l="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function y(g,w,S,T,x,I){var D=o(g),$=o(w),F=D?l:i(g),H=$?l:i(w);F=F==c?f:F,H=H==c?f:H;var U=F==f,j=H==f,L=F==H;if(L&&a(g)){if(!a(w))return!1;D=!0,U=!1}if(L&&!U)return I||(I=new e),D||s(g)?t(g,w,S,T,x,I):n(g,w,F,S,T,x,I);if(!(S&u)){var A=U&&h.call(g,"__wrapped__"),X=j&&h.call(w,"__wrapped__");if(A||X){var N=A?g.value():g,V=X?w.value():w;return I||(I=new e),x(N,V,S,T,I)}}return L?(I||(I=new e),r(g,w,S,T,x,I)):!1}return Bu=y,Bu}var zu,Cg;function n1(){if(Cg)return zu;Cg=1;var e=_R(),t=Ht();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return zu=n,zu}var Hu,Ig;function bR(){if(Ig)return Hu;Ig=1;var e=Fo(),t=n1(),n=1,r=2;function i(o,a,s,u){var c=s.length,l=c,f=!u;if(o==null)return!l;for(o=Object(o);c--;){var d=s[c];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++c<l;){d=s[c];var h=d[0],y=o[h],g=d[1];if(f&&d[2]){if(y===void 0&&!(h in o))return!1}else{var w=new e;if(u)var S=u(y,g,h,o,a,w);if(!(S===void 0?t(g,y,n|r,u,w):S))return!1}}return!0}return Hu=i,Hu}var Vu,Tg;function r1(){if(Tg)return Vu;Tg=1;var e=yt();function t(n){return n===n&&!e(n)}return Vu=t,Vu}var Gu,Ng;function wR(){if(Ng)return Gu;Ng=1;var e=r1(),t=Nn();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Gu=n,Gu}var ju,Ag;function i1(){if(Ag)return ju;Ag=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ju=e,ju}var Uu,Mg;function ER(){if(Mg)return Uu;Mg=1;var e=bR(),t=wR(),n=i1();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Uu=r,Uu}var Ku,Rg;function wr(){if(Rg)return Ku;Rg=1;var e=Gn(),t=Ht(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Ku=r,Ku}var Yu,Pg;function Rd(){if(Pg)return Yu;Pg=1;var e=Ke(),t=wr(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Yu=i,Yu}var Wu,Og;function xR(){if(Og)return Wu;Og=1;var e=_d(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],u=o.cache;if(u.has(s))return u.get(s);var c=r.apply(this,a);return o.cache=u.set(s,c)||u,c};return o.cache=new(n.Cache||e),o}return n.Cache=e,Wu=n,Wu}var Xu,qg;function SR(){if(qg)return Xu;qg=1;var e=xR(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Xu=n,Xu}var Zu,Dg;function CR(){if(Dg)return Zu;Dg=1;var e=SR(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,u,c){o.push(u?c.replace(n,"$1"):s||a)}),o});return Zu=r,Zu}var Ju,$g;function Ko(){if($g)return Ju;$g=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Ju=e,Ju}var Qu,kg;function IR(){if(kg)return Qu;kg=1;var e=yr(),t=Ko(),n=Ke(),r=wr(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var u=s+"";return u=="0"&&1/s==-1/0?"-0":u}return Qu=a,Qu}var el,Lg;function o1(){if(Lg)return el;Lg=1;var e=IR();function t(n){return n==null?"":e(n)}return el=t,el}var tl,Fg;function Yo(){if(Fg)return tl;Fg=1;var e=Ke(),t=Rd(),n=CR(),r=o1();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return tl=i,tl}var nl,Bg;function vi(){if(Bg)return nl;Bg=1;var e=wr();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return nl=t,nl}var rl,zg;function Wo(){if(zg)return rl;zg=1;var e=Yo(),t=vi();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return rl=n,rl}var il,Hg;function TR(){if(Hg)return il;Hg=1;var e=Wo();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return il=t,il}var ol,Vg;function NR(){if(Vg)return ol;Vg=1;function e(t,n){return t!=null&&n in Object(t)}return ol=e,ol}var al,Gg;function a1(){if(Gg)return al;Gg=1;var e=Yo(),t=di(),n=Ke(),r=Ho(),i=wd(),o=vi();function a(s,u,c){u=e(u,s);for(var l=-1,f=u.length,d=!1;++l<f;){var h=o(u[l]);if(!(d=s!=null&&c(s,h)))break;s=s[h]}return d||++l!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&r(h,f)&&(n(s)||t(s)))}return al=a,al}var sl,jg;function s1(){if(jg)return sl;jg=1;var e=NR(),t=a1();function n(r,i){return r!=null&&t(r,i,e)}return sl=n,sl}var ul,Ug;function AR(){if(Ug)return ul;Ug=1;var e=n1(),t=TR(),n=s1(),r=Rd(),i=r1(),o=i1(),a=vi(),s=1,u=2;function c(l,f){return r(l)&&i(f)?o(a(l),f):function(d){var h=t(d,l);return h===void 0&&h===f?n(d,l):e(f,h,s|u)}}return ul=c,ul}var ll,Kg;function u1(){if(Kg)return ll;Kg=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ll=e,ll}var cl,Yg;function MR(){if(Yg)return cl;Yg=1;var e=Wo();function t(n){return function(r){return e(r,n)}}return cl=t,cl}var fl,Wg;function RR(){if(Wg)return fl;Wg=1;var e=u1(),t=MR(),n=Rd(),r=vi();function i(o){return n(o)?e(r(o)):t(o)}return fl=i,fl}var dl,Xg;function dn(){if(Xg)return dl;Xg=1;var e=ER(),t=AR(),n=Kn(),r=Ke(),i=RR();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return dl=o,dl}var hl,Zg;function l1(){if(Zg)return hl;Zg=1;var e=F0(),t=dR(),n=dn(),r=Ke();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return hl=i,hl}var vl,Jg;function PR(){if(Jg)return vl;Jg=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return vl=n,vl}var pl,Qg;function c1(){if(Qg)return pl;Qg=1;var e=PR(),t=a1();function n(r,i){return r!=null&&t(r,i,e)}return pl=n,pl}var gl,em;function OR(){if(em)return gl;em=1;var e=xd(),t=br(),n=di(),r=Ke(),i=fn(),o=_r(),a=Go(),s=hi(),u="[object Map]",c="[object Set]",l=Object.prototype,f=l.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var y=t(h);if(y==u||y==c)return!h.size;if(a(h))return!e(h).length;for(var g in h)if(f.call(h,g))return!1;return!0}return gl=d,gl}var ml,tm;function f1(){if(tm)return ml;tm=1;function e(t){return t===void 0}return ml=e,ml}var yl,nm;function d1(){if(nm)return yl;nm=1;var e=Uo(),t=fn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,u,c){a[++o]=i(s,u,c)}),a}return yl=n,yl}var _l,rm;function h1(){if(rm)return _l;rm=1;var e=Ko(),t=dn(),n=d1(),r=Ke();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return _l=i,_l}var bl,im;function qR(){if(im)return bl;im=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return bl=e,bl}var wl,om;function DR(){if(om)return wl;om=1;function e(t,n,r,i,o){return o(t,function(a,s,u){r=i?(i=!1,a):n(r,a,s,u)}),r}return wl=e,wl}var El,am;function v1(){if(am)return El;am=1;var e=qR(),t=Uo(),n=dn(),r=DR(),i=Ke();function o(a,s,u){var c=i(a)?e:r,l=arguments.length<3;return c(a,n(s,4),u,l,t)}return El=o,El}var xl,sm;function $R(){if(sm)return xl;sm=1;var e=Gn(),t=Ke(),n=Ht(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return xl=i,xl}var Sl,um;function kR(){if(um)return Sl;um=1;var e=u1(),t=e("length");return Sl=t,Sl}var Cl,lm;function LR(){if(lm)return Cl;lm=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function u(c){return s.test(c)}return Cl=u,Cl}var Il,cm;function FR(){if(cm)return Il;cm=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",c="(?:"+s+"|"+u+")",l="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",y=c+"?",g="["+o+"]?",w="(?:"+h+"(?:"+[l,f,d].join("|")+")"+g+y+")*",S=g+y+w,T="(?:"+[l+s+"?",s,f,d,a].join("|")+")",x=RegExp(u+"(?="+u+")|"+T+S,"g");function I(D){for(var $=x.lastIndex=0;x.test(D);)++$;return $}return Il=I,Il}var Tl,fm;function BR(){if(fm)return Tl;fm=1;var e=kR(),t=LR(),n=FR();function r(i){return t(i)?n(i):e(i)}return Tl=r,Tl}var Nl,dm;function zR(){if(dm)return Nl;dm=1;var e=xd(),t=br(),n=fn(),r=$R(),i=BR(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(n(u))return r(u)?i(u):u.length;var c=t(u);return c==o||c==a?u.size:e(u).length}return Nl=s,Nl}var Al,hm;function HR(){if(hm)return Al;hm=1;var e=bd(),t=K0(),n=Ad(),r=dn(),i=jo(),o=Ke(),a=_r(),s=ci(),u=yt(),c=hi();function l(f,d,h){var y=o(f),g=y||a(f)||c(f);if(d=r(d,4),h==null){var w=f&&f.constructor;g?h=y?new w:[]:u(f)?h=s(w)?t(i(f)):{}:h={}}return(g?e:n)(f,function(S,T,x){return d(h,S,T,x)}),h}return Al=l,Al}var Ml,vm;function VR(){if(vm)return Ml;vm=1;var e=yr(),t=di(),n=Ke(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Ml=i,Ml}var Rl,pm;function Pd(){if(pm)return Rl;pm=1;var e=Cd(),t=VR();function n(r,i,o,a,s){var u=-1,c=r.length;for(o||(o=t),s||(s=[]);++u<c;){var l=r[u];i>0&&o(l)?i>1?n(l,i-1,o,a,s):e(s,l):a||(s[s.length]=l)}return s}return Rl=n,Rl}var Pl,gm;function GR(){if(gm)return Pl;gm=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Pl=e,Pl}var Ol,mm;function p1(){if(mm)return Ol;mm=1;var e=GR(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,u=t(a.length-i,0),c=Array(u);++s<u;)c[s]=a[i+s];s=-1;for(var l=Array(i+1);++s<i;)l[s]=a[s];return l[i]=o(c),e(r,this,l)}}return Ol=n,Ol}var ql,ym;function jR(){if(ym)return ql;ym=1;var e=Td(),t=q0(),n=Kn(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return ql=r,ql}var Dl,_m;function UR(){if(_m)return Dl;_m=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),u=t-(s-a);if(a=s,u>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Dl=r,Dl}var $l,bm;function g1(){if(bm)return $l;bm=1;var e=jR(),t=UR(),n=t(e);return $l=n,$l}var kl,wm;function Xo(){if(wm)return kl;wm=1;var e=Kn(),t=p1(),n=g1();function r(i,o){return n(t(i,o,e),i+"")}return kl=r,kl}var Ll,Em;function m1(){if(Em)return Ll;Em=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Ll=e,Ll}var Fl,xm;function KR(){if(xm)return Fl;xm=1;function e(t){return t!==t}return Fl=e,Fl}var Bl,Sm;function YR(){if(Sm)return Bl;Sm=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Bl=e,Bl}var zl,Cm;function WR(){if(Cm)return zl;Cm=1;var e=m1(),t=KR(),n=YR();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return zl=r,zl}var Hl,Im;function XR(){if(Im)return Hl;Im=1;var e=WR();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Hl=t,Hl}var Vl,Tm;function ZR(){if(Tm)return Vl;Tm=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Vl=e,Vl}var Gl,Nm;function JR(){if(Nm)return Gl;Nm=1;function e(){}return Gl=e,Gl}var jl,Am;function QR(){if(Am)return jl;Am=1;var e=G0(),t=JR(),n=Md(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return jl=i,jl}var Ul,Mm;function eP(){if(Mm)return Ul;Mm=1;var e=Q0(),t=XR(),n=ZR(),r=e1(),i=QR(),o=Md(),a=200;function s(u,c,l){var f=-1,d=t,h=u.length,y=!0,g=[],w=g;if(l)y=!1,d=n;else if(h>=a){var S=c?null:i(u);if(S)return o(S);y=!1,d=r,w=new e}else w=c?[]:g;e:for(;++f<h;){var T=u[f],x=c?c(T):T;if(T=l||T!==0?T:0,y&&x===x){for(var I=w.length;I--;)if(w[I]===x)continue e;c&&w.push(x),g.push(T)}else d(w,x,l)||(w!==g&&w.push(x),g.push(T))}return g}return Ul=s,Ul}var Kl,Rm;function y1(){if(Rm)return Kl;Rm=1;var e=fn(),t=Ht();function n(r){return t(r)&&e(r)}return Kl=n,Kl}var Yl,Pm;function tP(){if(Pm)return Yl;Pm=1;var e=Pd(),t=Xo(),n=eP(),r=y1(),i=t(function(o){return n(e(o,1,r,!0))});return Yl=i,Yl}var Wl,Om;function nP(){if(Om)return Wl;Om=1;var e=Ko();function t(n,r){return e(r,function(i){return n[i]})}return Wl=t,Wl}var Xl,qm;function _1(){if(qm)return Xl;qm=1;var e=nP(),t=Nn();function n(r){return r==null?[]:e(r,t(r))}return Xl=n,Xl}var Zl,Dm;function _t(){if(Dm)return Zl;Dm=1;var e;if(typeof md=="function")try{e={clone:lR(),constant:Td(),each:J0(),filter:l1(),has:c1(),isArray:Ke(),isEmpty:OR(),isFunction:ci(),isUndefined:f1(),keys:Nn(),map:h1(),reduce:v1(),size:zR(),transform:HR(),union:tP(),values:_1()}}catch{}return e||(e=window._),Zl=e,Zl}var Jl,$m;function Od(){if($m)return Jl;$m=1;var e=_t();Jl=i;var t="\0",n="\0",r="";function i(l){this._isDirected=e.has(l,"directed")?l.directed:!0,this._isMultigraph=e.has(l,"multigraph")?l.multigraph:!1,this._isCompound=e.has(l,"compound")?l.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(l){return this._label=l,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultNodeLabelFn=l,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var l=this;return e.filter(this.nodes(),function(f){return e.isEmpty(l._in[f])})},i.prototype.sinks=function(){var l=this;return e.filter(this.nodes(),function(f){return e.isEmpty(l._out[f])})},i.prototype.setNodes=function(l,f){var d=arguments,h=this;return e.each(l,function(y){d.length>1?h.setNode(y,f):h.setNode(y)}),this},i.prototype.setNode=function(l,f){return e.has(this._nodes,l)?(arguments.length>1&&(this._nodes[l]=f),this):(this._nodes[l]=arguments.length>1?f:this._defaultNodeLabelFn(l),this._isCompound&&(this._parent[l]=n,this._children[l]={},this._children[n][l]=!0),this._in[l]={},this._preds[l]={},this._out[l]={},this._sucs[l]={},++this._nodeCount,this)},i.prototype.node=function(l){return this._nodes[l]},i.prototype.hasNode=function(l){return e.has(this._nodes,l)},i.prototype.removeNode=function(l){var f=this;if(e.has(this._nodes,l)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[l],this._isCompound&&(this._removeFromParentsChildList(l),delete this._parent[l],e.each(this.children(l),function(h){f.setParent(h)}),delete this._children[l]),e.each(e.keys(this._in[l]),d),delete this._in[l],delete this._preds[l],e.each(e.keys(this._out[l]),d),delete this._out[l],delete this._sucs[l],--this._nodeCount}return this},i.prototype.setParent=function(l,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===l)throw new Error("Setting "+f+" as parent of "+l+" would create a cycle");this.setNode(f)}return this.setNode(l),this._removeFromParentsChildList(l),this._parent[l]=f,this._children[f][l]=!0,this},i.prototype._removeFromParentsChildList=function(l){delete this._children[this._parent[l]][l]},i.prototype.parent=function(l){if(this._isCompound){var f=this._parent[l];if(f!==n)return f}},i.prototype.children=function(l){if(e.isUndefined(l)&&(l=n),this._isCompound){var f=this._children[l];if(f)return e.keys(f)}else{if(l===n)return this.nodes();if(this.hasNode(l))return[]}},i.prototype.predecessors=function(l){var f=this._preds[l];if(f)return e.keys(f)},i.prototype.successors=function(l){var f=this._sucs[l];if(f)return e.keys(f)},i.prototype.neighbors=function(l){var f=this.predecessors(l);if(f)return e.union(f,this.successors(l))},i.prototype.isLeaf=function(l){var f;return this.isDirected()?f=this.successors(l):f=this.neighbors(l),f.length===0},i.prototype.filterNodes=function(l){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(g,w){l(w)&&f.setNode(w,g)}),e.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,d.edge(g))});var h={};function y(g){var w=d.parent(g);return w===void 0||f.hasNode(w)?(h[g]=w,w):w in h?h[w]:y(w)}return this._isCompound&&e.each(f.nodes(),function(g){f.setParent(g,y(g))}),f},i.prototype.setDefaultEdgeLabel=function(l){return e.isFunction(l)||(l=e.constant(l)),this._defaultEdgeLabelFn=l,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(l,f){var d=this,h=arguments;return e.reduce(l,function(y,g){return h.length>1?d.setEdge(y,g,f):d.setEdge(y,g),g}),this},i.prototype.setEdge=function(){var l,f,d,h,y=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(l=g.v,f=g.w,d=g.name,arguments.length===2&&(h=arguments[1],y=!0)):(l=g,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],y=!0)),l=""+l,f=""+f,e.isUndefined(d)||(d=""+d);var w=s(this._isDirected,l,f,d);if(e.has(this._edgeLabels,w))return y&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(l),this.setNode(f),this._edgeLabels[w]=y?h:this._defaultEdgeLabelFn(l,f,d);var S=u(this._isDirected,l,f,d);return l=S.v,f=S.w,Object.freeze(S),this._edgeObjs[w]=S,o(this._preds[f],l),o(this._sucs[l],f),this._in[f][w]=S,this._out[l][w]=S,this._edgeCount++,this},i.prototype.edge=function(l,f,d){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(l,f,d){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(l,f,d){var h=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,l,f,d),y=this._edgeObjs[h];return y&&(l=y.v,f=y.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],l),a(this._sucs[l],f),delete this._in[f][h],delete this._out[l][h],this._edgeCount--),this},i.prototype.inEdges=function(l,f){var d=this._in[l];if(d){var h=e.values(d);return f?e.filter(h,function(y){return y.v===f}):h}},i.prototype.outEdges=function(l,f){var d=this._out[l];if(d){var h=e.values(d);return f?e.filter(h,function(y){return y.w===f}):h}},i.prototype.nodeEdges=function(l,f){var d=this.inEdges(l,f);if(d)return d.concat(this.outEdges(l,f))};function o(l,f){l[f]?l[f]++:l[f]=1}function a(l,f){--l[f]||delete l[f]}function s(l,f,d,h){var y=""+f,g=""+d;if(!l&&y>g){var w=y;y=g,g=w}return y+r+g+r+(e.isUndefined(h)?t:h)}function u(l,f,d,h){var y=""+f,g=""+d;if(!l&&y>g){var w=y;y=g,g=w}var S={v:y,w:g};return h&&(S.name=h),S}function c(l,f){return s(l,f.v,f.w,f.name)}return Jl}var Ql,km;function rP(){return km||(km=1,Ql="2.1.8"),Ql}var ec,Lm;function iP(){return Lm||(Lm=1,ec={Graph:Od(),version:rP()}),ec}var tc,Fm;function oP(){if(Fm)return tc;Fm=1;var e=_t(),t=Od();tc={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var u=a.node(s),c=a.parent(s),l={v:s};return e.isUndefined(u)||(l.value=u),e.isUndefined(c)||(l.parent=c),l})}function i(a){return e.map(a.edges(),function(s){var u=a.edge(s),c={v:s.v,w:s.w};return e.isUndefined(s.name)||(c.name=s.name),e.isUndefined(u)||(c.value=u),c})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),e.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return tc}var nc,Bm;function aP(){if(Bm)return nc;Bm=1;var e=_t();nc=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return nc}var rc,zm;function b1(){if(zm)return rc;zm=1;var e=_t();rc=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},rc}var ic,Hm;function w1(){if(Hm)return ic;Hm=1;var e=_t(),t=b1();ic=r;var n=e.constant(1);function r(o,a,s,u){return i(o,String(a),s||n,u||function(c){return o.outEdges(c)})}function i(o,a,s,u){var c={},l=new t,f,d,h=function(y){var g=y.v!==f?y.v:y.w,w=c[g],S=s(y),T=d.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+y+" Weight: "+S);T<w.distance&&(w.distance=T,w.predecessor=f,l.decrease(g,T))};for(o.nodes().forEach(function(y){var g=y===a?0:Number.POSITIVE_INFINITY;c[y]={distance:g},l.add(y,g)});l.size()>0&&(f=l.removeMin(),d=c[f],d.distance!==Number.POSITIVE_INFINITY);)u(f).forEach(h);return c}return ic}var oc,Vm;function sP(){if(Vm)return oc;Vm=1;var e=w1(),t=_t();oc=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return oc}var ac,Gm;function E1(){if(Gm)return ac;Gm=1;var e=_t();ac=t;function t(n){var r=0,i=[],o={},a=[];function s(u){var c=o[u]={onStack:!0,lowlink:r,index:r++};if(i.push(u),n.successors(u).forEach(function(d){e.has(o,d)?o[d].onStack&&(c.lowlink=Math.min(c.lowlink,o[d].index)):(s(d),c.lowlink=Math.min(c.lowlink,o[d].lowlink))}),c.lowlink===c.index){var l=[],f;do f=i.pop(),o[f].onStack=!1,l.push(f);while(u!==f);a.push(l)}}return n.nodes().forEach(function(u){e.has(o,u)||s(u)}),a}return ac}var sc,jm;function uP(){if(jm)return sc;jm=1;var e=_t(),t=E1();sc=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return sc}var uc,Um;function lP(){if(Um)return uc;Um=1;var e=_t();uc=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},u=i.nodes();return u.forEach(function(c){s[c]={},s[c][c]={distance:0},u.forEach(function(l){c!==l&&(s[c][l]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(l){var f=l.v===c?l.w:l.v,d=o(l);s[c][f]={distance:d,predecessor:c}})}),u.forEach(function(c){var l=s[c];u.forEach(function(f){var d=s[f];u.forEach(function(h){var y=d[c],g=l[h],w=d[h],S=y.distance+g.distance;S<w.distance&&(w.distance=S,w.predecessor=g.predecessor)})})}),s}return uc}var lc,Km;function x1(){if(Km)return lc;Km=1;var e=_t();lc=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(u){if(e.has(o,u))throw new n;e.has(i,u)||(o[u]=!0,i[u]=!0,e.each(r.predecessors(u),s),delete o[u],a.push(u))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,lc}var cc,Ym;function cP(){if(Ym)return cc;Ym=1;var e=x1();cc=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return cc}var fc,Wm;function S1(){if(Wm)return fc;Wm=1;var e=_t();fc=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],u={};return e.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,o==="post",u,a,s)}),s}function n(r,i,o,a,s,u){e.has(a,i)||(a[i]=!0,o||u.push(i),e.each(s(i),function(c){n(r,c,o,a,s,u)}),o&&u.push(i))}return fc}var dc,Xm;function fP(){if(Xm)return dc;Xm=1;var e=S1();dc=t;function t(n,r){return e(n,r,"post")}return dc}var hc,Zm;function dP(){if(Zm)return hc;Zm=1;var e=S1();hc=t;function t(n,r){return e(n,r,"pre")}return hc}var vc,Jm;function hP(){if(Jm)return vc;Jm=1;var e=_t(),t=Od(),n=b1();vc=r;function r(i,o){var a=new t,s={},u=new n,c;function l(d){var h=d.v===c?d.w:d.v,y=u.priority(h);if(y!==void 0){var g=o(d);g<y&&(s[h]=c,u.decrease(h,g))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(d){u.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),u.decrease(i.nodes()[0],0);for(var f=!1;u.size()>0;){if(c=u.removeMin(),e.has(s,c))a.setEdge(c,s[c]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(c).forEach(l)}return a}return vc}var pc,Qm;function vP(){return Qm||(Qm=1,pc={components:aP(),dijkstra:w1(),dijkstraAll:sP(),findCycles:uP(),floydWarshall:lP(),isAcyclic:cP(),postorder:fP(),preorder:dP(),prim:hP(),tarjan:E1(),topsort:x1()}),pc}var gc,ey;function pP(){if(ey)return gc;ey=1;var e=iP();return gc={Graph:e.Graph,json:oP(),alg:vP(),version:e.version},gc}var io;if(typeof md=="function")try{io=pP()}catch{}io||(io=window.graphlib);var Nt=io,mc,ty;function gP(){if(ty)return mc;ty=1;var e=W0(),t=1,n=4;function r(i){return e(i,t|n)}return mc=r,mc}var yc,ny;function Zo(){if(ny)return yc;ny=1;var e=mr(),t=fn(),n=Ho(),r=yt();function i(o,a,s){if(!r(s))return!1;var u=typeof a;return(u=="number"?t(s)&&n(a,s.length):u=="string"&&a in s)?e(s[a],o):!1}return yc=i,yc}var _c,ry;function mP(){if(ry)return _c;ry=1;var e=Xo(),t=mr(),n=Zo(),r=Un(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,u){s=Object(s);var c=-1,l=u.length,f=l>2?u[2]:void 0;for(f&&n(u[0],u[1],f)&&(l=1);++c<l;)for(var d=u[c],h=r(d),y=-1,g=h.length;++y<g;){var w=h[y],S=s[w];(S===void 0||t(S,i[w])&&!o.call(s,w))&&(s[w]=d[w])}return s});return _c=a,_c}var bc,iy;function yP(){if(iy)return bc;iy=1;var e=dn(),t=fn(),n=Nn();function r(i){return function(o,a,s){var u=Object(o);if(!t(o)){var c=e(a,3);o=n(o),a=function(f){return c(u[f],f,u)}}var l=i(o,a,s);return l>-1?u[c?o[l]:l]:void 0}}return bc=r,bc}var wc,oy;function _P(){if(oy)return wc;oy=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return wc=t,wc}var Ec,ay;function bP(){if(ay)return Ec;ay=1;var e=_P(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ec=n,Ec}var xc,sy;function wP(){if(sy)return xc;sy=1;var e=bP(),t=yt(),n=wr(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var l=typeof c.valueOf=="function"?c.valueOf():c;c=t(l)?l+"":l}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=o.test(c);return f||a.test(c)?s(c.slice(2),f?2:8):i.test(c)?r:+c}return xc=u,xc}var Sc,uy;function C1(){if(uy)return Sc;uy=1;var e=wP(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Sc=r,Sc}var Cc,ly;function EP(){if(ly)return Cc;ly=1;var e=C1();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Cc=t,Cc}var Ic,cy;function xP(){if(cy)return Ic;cy=1;var e=m1(),t=dn(),n=EP(),r=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var c=s==null?0:n(s);return c<0&&(c=r(u+c,0)),e(o,t(a,3),c)}return Ic=i,Ic}var Tc,fy;function SP(){if(fy)return Tc;fy=1;var e=yP(),t=xP(),n=e(t);return Tc=n,Tc}var Nc,dy;function I1(){if(dy)return Nc;dy=1;var e=Pd();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Nc=t,Nc}var Ac,hy;function CP(){if(hy)return Ac;hy=1;var e=Nd(),t=X0(),n=Un();function r(i,o){return i==null?i:e(i,t(o),n)}return Ac=r,Ac}var Mc,vy;function IP(){if(vy)return Mc;vy=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Mc=e,Mc}var Rc,py;function TP(){if(py)return Rc;py=1;var e=Bo(),t=Ad(),n=dn();function r(i,o){var a={};return o=n(o,3),t(i,function(s,u,c){e(a,u,o(s,u,c))}),a}return Rc=r,Rc}var Pc,gy;function qd(){if(gy)return Pc;gy=1;var e=wr();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],u=r(s);if(u!=null&&(c===void 0?u===u&&!e(u):i(u,c)))var c=u,l=s}return l}return Pc=t,Pc}var Oc,my;function NP(){if(my)return Oc;my=1;function e(t,n){return t>n}return Oc=e,Oc}var qc,yy;function AP(){if(yy)return qc;yy=1;var e=qd(),t=NP(),n=Kn();function r(i){return i&&i.length?e(i,n,t):void 0}return qc=r,qc}var Dc,_y;function T1(){if(_y)return Dc;_y=1;var e=Bo(),t=mr();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Dc=n,Dc}var $c,by;function MP(){if(by)return $c;by=1;var e=Gn(),t=jo(),n=Ht(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function c(l){if(!n(l)||e(l)!=r)return!1;var f=t(l);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==u}return $c=c,$c}var kc,wy;function N1(){if(wy)return kc;wy=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return kc=e,kc}var Lc,Ey;function RP(){if(Ey)return Lc;Ey=1;var e=fi(),t=Un();function n(r){return e(r,t(r))}return Lc=n,Lc}var Fc,xy;function PP(){if(xy)return Fc;xy=1;var e=T1(),t=k0(),n=U0(),r=L0(),i=Y0(),o=di(),a=Ke(),s=y1(),u=_r(),c=ci(),l=yt(),f=MP(),d=hi(),h=N1(),y=RP();function g(w,S,T,x,I,D,$){var F=h(w,T),H=h(S,T),U=$.get(H);if(U){e(w,T,U);return}var j=D?D(F,H,T+"",w,S,$):void 0,L=j===void 0;if(L){var A=a(H),X=!A&&u(H),N=!A&&!X&&d(H);j=H,A||X||N?a(F)?j=F:s(F)?j=r(F):X?(L=!1,j=t(H,!0)):N?(L=!1,j=n(H,!0)):j=[]:f(H)||o(H)?(j=F,o(F)?j=y(F):(!l(F)||c(F))&&(j=i(H))):L=!1}L&&($.set(H,j),I(j,H,x,D,$),$.delete(H)),e(w,T,j)}return Fc=g,Fc}var Bc,Sy;function OP(){if(Sy)return Bc;Sy=1;var e=Fo(),t=T1(),n=Nd(),r=PP(),i=yt(),o=Un(),a=N1();function s(u,c,l,f,d){u!==c&&n(c,function(h,y){if(d||(d=new e),i(h))r(u,c,y,l,s,f,d);else{var g=f?f(a(u,y),h,y+"",u,c,d):void 0;g===void 0&&(g=h),t(u,y,g)}},o)}return Bc=s,Bc}var zc,Cy;function qP(){if(Cy)return zc;Cy=1;var e=Xo(),t=Zo();function n(r){return e(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,c=s>2?o[2]:void 0;for(u=r.length>3&&typeof u=="function"?(s--,u):void 0,c&&t(o[0],o[1],c)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var l=o[a];l&&r(i,l,a,u)}return i})}return zc=n,zc}var Hc,Iy;function DP(){if(Iy)return Hc;Iy=1;var e=OP(),t=qP(),n=t(function(r,i,o){e(r,i,o)});return Hc=n,Hc}var Vc,Ty;function A1(){if(Ty)return Vc;Ty=1;function e(t,n){return t<n}return Vc=e,Vc}var Gc,Ny;function $P(){if(Ny)return Gc;Ny=1;var e=qd(),t=A1(),n=Kn();function r(i){return i&&i.length?e(i,n,t):void 0}return Gc=r,Gc}var jc,Ay;function kP(){if(Ay)return jc;Ay=1;var e=qd(),t=dn(),n=A1();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return jc=r,jc}var Uc,My;function LP(){if(My)return Uc;My=1;var e=Tt(),t=function(){return e.Date.now()};return Uc=t,Uc}var Kc,Ry;function FP(){if(Ry)return Kc;Ry=1;var e=zo(),t=Yo(),n=Ho(),r=yt(),i=vi();function o(a,s,u,c){if(!r(a))return a;s=t(s,a);for(var l=-1,f=s.length,d=f-1,h=a;h!=null&&++l<f;){var y=i(s[l]),g=u;if(y==="__proto__"||y==="constructor"||y==="prototype")return a;if(l!=d){var w=h[y];g=c?c(w,y,h):void 0,g===void 0&&(g=r(w)?w:n(s[l+1])?[]:{})}e(h,y,g),h=h[y]}return a}return Kc=o,Kc}var Yc,Py;function BP(){if(Py)return Yc;Py=1;var e=Wo(),t=FP(),n=Yo();function r(i,o,a){for(var s=-1,u=o.length,c={};++s<u;){var l=o[s],f=e(i,l);a(f,l)&&t(c,n(l,i),f)}return c}return Yc=r,Yc}var Wc,Oy;function zP(){if(Oy)return Wc;Oy=1;var e=BP(),t=s1();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Wc=n,Wc}var Xc,qy;function HP(){if(qy)return Xc;qy=1;var e=I1(),t=p1(),n=g1();function r(i){return n(t(i,void 0,e),i+"")}return Xc=r,Xc}var Zc,Dy;function VP(){if(Dy)return Zc;Dy=1;var e=zP(),t=HP(),n=t(function(r,i){return r==null?{}:e(r,i)});return Zc=n,Zc}var Jc,$y;function GP(){if($y)return Jc;$y=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,u=t(e((i-r)/(o||1)),0),c=Array(u);u--;)c[a?u:++s]=r,r+=o;return c}return Jc=n,Jc}var Qc,ky;function jP(){if(ky)return Qc;ky=1;var e=GP(),t=Zo(),n=C1();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Qc=r,Qc}var ef,Ly;function UP(){if(Ly)return ef;Ly=1;var e=jP(),t=e();return ef=t,ef}var tf,Fy;function KP(){if(Fy)return tf;Fy=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return tf=e,tf}var nf,By;function YP(){if(By)return nf;By=1;var e=wr();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),u=r!==void 0,c=r===null,l=r===r,f=e(r);if(!c&&!f&&!s&&n>r||s&&u&&l&&!c&&!f||o&&u&&l||!i&&l||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||c&&i&&a||!u&&a||!l)return-1}return 0}return nf=t,nf}var rf,zy;function WP(){if(zy)return rf;zy=1;var e=YP();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,u=a.length,c=i.length;++o<u;){var l=e(a[o],s[o]);if(l){if(o>=c)return l;var f=i[o];return l*(f=="desc"?-1:1)}}return n.index-r.index}return rf=t,rf}var of,Hy;function XP(){if(Hy)return of;Hy=1;var e=Ko(),t=Wo(),n=dn(),r=d1(),i=KP(),o=Vo(),a=WP(),s=Kn(),u=Ke();function c(l,f,d){f.length?f=e(f,function(g){return u(g)?function(w){return t(w,g.length===1?g[0]:g)}:g}):f=[s];var h=-1;f=e(f,o(n));var y=r(l,function(g,w,S){var T=e(f,function(x){return x(g)});return{criteria:T,index:++h,value:g}});return i(y,function(g,w){return a(g,w,d)})}return of=c,of}var af,Vy;function ZP(){if(Vy)return af;Vy=1;var e=Pd(),t=XP(),n=Xo(),r=Zo(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return af=i,af}var sf,Gy;function JP(){if(Gy)return sf;Gy=1;var e=o1(),t=0;function n(r){var i=++t;return e(r)+i}return sf=n,sf}var uf,jy;function QP(){if(jy)return uf;jy=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var u=i<a?n[i]:void 0;r(s,t[i],u)}return s}return uf=e,uf}var lf,Uy;function eO(){if(Uy)return lf;Uy=1;var e=zo(),t=QP();function n(r,i){return t(r||[],i||[],e)}return lf=n,lf}var oo;if(typeof md=="function")try{oo={cloneDeep:gP(),constant:Td(),defaults:mP(),each:J0(),filter:l1(),find:SP(),flatten:I1(),forEach:Z0(),forIn:CP(),has:c1(),isUndefined:f1(),last:IP(),map:h1(),mapValues:TP(),max:AP(),merge:DP(),min:$P(),minBy:kP(),now:LP(),pick:VP(),range:UP(),reduce:v1(),sortBy:ZP(),uniqueId:JP(),values:_1(),zipObject:eO()}}catch{}oo||(oo=window._);var Be=oo,tO=Jo;function Jo(){var e={};e._next=e._prev=e,this._sentinel=e}Jo.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return M1(t),t};Jo.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&M1(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Jo.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,nO)),n=n._prev;return"["+e.join(", ")+"]"};function M1(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function nO(e,t){if(e!=="_next"&&e!=="_prev")return t}var Jt=Be,rO=Nt.Graph,iO=tO,oO=sO,aO=Jt.constant(1);function sO(e,t){if(e.nodeCount()<=1)return[];var n=lO(e,t||aO),r=uO(n.graph,n.buckets,n.zeroIdx);return Jt.flatten(Jt.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function uO(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)cf(e,t,n,a);for(;a=i.dequeue();)cf(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(cf(e,t,n,a,!0));break}}}return r}function cf(e,t,n,r,i){var o=i?[]:void 0;return Jt.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),u=e.node(a.v);i&&o.push({v:a.v,w:a.w}),u.out-=s,Bf(t,n,u)}),Jt.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),u=a.w,c=e.node(u);c.in-=s,Bf(t,n,c)}),e.removeNode(r.v),o}function lO(e,t){var n=new rO,r=0,i=0;Jt.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Jt.forEach(e.edges(),function(s){var u=n.edge(s.v,s.w)||0,c=t(s),l=u+c;n.setEdge(s.v,s.w,l),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=Jt.range(i+r+3).map(function(){return new iO}),a=r+1;return Jt.forEach(n.nodes(),function(s){Bf(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function Bf(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Dn=Be,cO=oO,fO={run:dO,undo:vO};function dO(e){var t=e.graph().acyclicer==="greedy"?cO(e,n(e)):hO(e);Dn.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Dn.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function hO(e){var t=[],n={},r={};function i(o){Dn.has(r,o)||(r[o]=!0,n[o]=!0,Dn.forEach(e.outEdges(o),function(a){Dn.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Dn.forEach(e.nodes(),i),t}function vO(e){Dn.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var Te=Be,R1=Nt.Graph,lt={addDummyNode:P1,simplify:pO,asNonCompoundGraph:gO,successorWeights:mO,predecessorWeights:yO,intersectRect:_O,buildLayerMatrix:bO,normalizeRanks:wO,removeEmptyRanks:EO,addBorderNode:xO,maxRank:O1,partition:SO,time:CO,notime:IO};function P1(e,t,n,r){var i;do i=Te.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function pO(e){var t=new R1().setGraph(e.graph());return Te.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),Te.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function gO(e){var t=new R1({multigraph:e.isMultigraph()}).setGraph(e.graph());return Te.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),Te.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function mO(e){var t=Te.map(e.nodes(),function(n){var r={};return Te.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return Te.zipObject(e.nodes(),t)}function yO(e){var t=Te.map(e.nodes(),function(n){var r={};return Te.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return Te.zipObject(e.nodes(),t)}function _O(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),u=s*i/o,c=s):(i<0&&(a=-a),u=a,c=a*o/i),{x:n+u,y:r+c}}function bO(e){var t=Te.map(Te.range(O1(e)+1),function(){return[]});return Te.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;Te.isUndefined(i)||(t[i][r.order]=n)}),t}function wO(e){var t=Te.min(Te.map(e.nodes(),function(n){return e.node(n).rank}));Te.forEach(e.nodes(),function(n){var r=e.node(n);Te.has(r,"rank")&&(r.rank-=t)})}function EO(e){var t=Te.min(Te.map(e.nodes(),function(o){return e.node(o).rank})),n=[];Te.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;Te.forEach(n,function(o,a){Te.isUndefined(o)&&a%i!==0?--r:r&&Te.forEach(o,function(s){e.node(s).rank+=r})})}function xO(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),P1(e,"border",i,t)}function O1(e){return Te.max(Te.map(e.nodes(),function(t){var n=e.node(t).rank;if(!Te.isUndefined(n))return n}))}function SO(e,t){var n={lhs:[],rhs:[]};return Te.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function CO(e,t){var n=Te.now();try{return t()}finally{console.log(e+" time: "+(Te.now()-n)+"ms")}}function IO(e,t){return t()}var q1=Be,TO=lt,NO={run:AO,undo:RO};function AO(e){e.graph().dummyChains=[],q1.forEach(e.edges(),function(t){MO(e,t)})}function MO(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),u=s.labelRank;if(o!==r+1){e.removeEdge(t);var c,l,f;for(f=0,++r;r<o;++f,++r)s.points=[],l={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},c=TO.addDummyNode(e,"edge",l,"_d"),r===u&&(l.width=s.width,l.height=s.height,l.dummy="edge-label",l.labelpos=s.labelpos),e.setEdge(n,c,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:s.weight},a)}}function RO(e){q1.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Ai=Be,Qo={longestPath:PO,slack:OO};function PO(e){var t={};function n(r){var i=e.node(r);if(Ai.has(t,r))return i.rank;t[r]=!0;var o=Ai.min(Ai.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Ai.forEach(e.sources(),n)}function OO(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ao=Be,qO=Nt.Graph,so=Qo.slack,D1=DO;function DO(e){var t=new qO({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;$O(t,e)<r;)i=kO(t,e),o=t.hasNode(i.v)?so(e,i):-so(e,i),LO(t,e,o);return t}function $O(e,t){function n(r){ao.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!so(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return ao.forEach(e.nodes(),n),e.nodeCount()}function kO(e,t){return ao.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return so(t,n)})}function LO(e,t,n){ao.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var sn=Be,FO=D1,BO=Qo.slack,zO=Qo.longestPath,HO=Nt.alg.preorder,VO=Nt.alg.postorder,GO=lt.simplify,jO=Yn;Yn.initLowLimValues=$d;Yn.initCutValues=Dd;Yn.calcCutValue=$1;Yn.leaveEdge=L1;Yn.enterEdge=F1;Yn.exchangeEdges=B1;function Yn(e){e=GO(e),zO(e);var t=FO(e);$d(t),Dd(t,e);for(var n,r;n=L1(t);)r=F1(t,e,n),B1(t,e,n,r)}function Dd(e,t){var n=VO(e,e.nodes());n=n.slice(0,n.length-1),sn.forEach(n,function(r){UO(e,t,r)})}function UO(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=$1(e,t,n)}function $1(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,sn.forEach(t.nodeEdges(n),function(u){var c=u.v===n,l=c?u.w:u.v;if(l!==i){var f=c===o,d=t.edge(u).weight;if(s+=f?d:-d,YO(e,n,l)){var h=e.edge(n,l).cutvalue;s+=f?-h:h}}}),s}function $d(e,t){arguments.length<2&&(t=e.nodes()[0]),k1(e,{},1,t)}function k1(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,sn.forEach(e.neighbors(r),function(s){sn.has(t,s)||(n=k1(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function L1(e){return sn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function F1(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=sn.filter(t.edges(),function(l){return u===Ky(e,e.node(l.v),s)&&u!==Ky(e,e.node(l.w),s)});return sn.minBy(c,function(l){return BO(t,l)})}function B1(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),$d(e),Dd(e,t),KO(e,t)}function KO(e,t){var n=sn.find(e.nodes(),function(i){return!t.node(i).parent}),r=HO(e,n);r=r.slice(1),sn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function YO(e,t,n){return e.hasEdge(t,n)}function Ky(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var WO=Qo,z1=WO.longestPath,XO=D1,ZO=jO,JO=QO;function QO(e){switch(e.graph().ranker){case"network-simplex":Yy(e);break;case"tight-tree":tq(e);break;case"longest-path":eq(e);break;default:Yy(e)}}var eq=z1;function tq(e){z1(e),XO(e)}function Yy(e){ZO(e)}var zf=Be,nq=rq;function rq(e){var t=oq(e);zf.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=iq(e,t,i.v,i.w),a=o.path,s=o.lca,u=0,c=a[u],l=!0;n!==i.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}})}function iq(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),u,c;u=n;do u=e.parent(u),i.push(u);while(u&&(t[u].low>a||s>t[u].lim));for(c=u,u=r;(u=e.parent(u))!==c;)o.push(u);return{path:i.concat(o.reverse()),lca:c}}function oq(e){var t={},n=0;function r(i){var o=n;zf.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return zf.forEach(e.children(),r),t}var Qt=Be,Hf=lt,aq={run:sq,cleanup:cq};function sq(e){var t=Hf.addDummyNode(e,"root",{},"_root"),n=uq(e),r=Qt.max(Qt.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Qt.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=lq(e)+1;Qt.forEach(e.children(),function(a){H1(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function H1(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var u=Hf.addBorderNode(e,"_bt"),c=Hf.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,Qt.forEach(s,function(f){H1(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,y=d.borderBottom?d.borderBottom:f,g=d.borderTop?r:2*r,w=h!==y?1:i-o[a]+1;e.setEdge(u,h,{weight:g,minlen:w,nestingEdge:!0}),e.setEdge(y,c,{weight:g,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:i+o[a]})}function uq(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Qt.forEach(o,function(a){n(a,i+1)}),t[r]=i}return Qt.forEach(e.children(),function(r){n(r,1)}),t}function lq(e){return Qt.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function cq(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Qt.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var ff=Be,fq=lt,dq=hq;function hq(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&ff.forEach(r,t),ff.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Wy(e,"borderLeft","_bl",n,i,o),Wy(e,"borderRight","_br",n,i,o)}}ff.forEach(e.children(),t)}function Wy(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],u=fq.addDummyNode(e,"border",a,n);i[t][o]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var Dt=Be,vq={adjust:pq,undo:gq};function pq(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&V1(e)}function gq(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&mq(e),(t==="lr"||t==="rl")&&(yq(e),V1(e))}function V1(e){Dt.forEach(e.nodes(),function(t){Xy(e.node(t))}),Dt.forEach(e.edges(),function(t){Xy(e.edge(t))})}function Xy(e){var t=e.width;e.width=e.height,e.height=t}function mq(e){Dt.forEach(e.nodes(),function(t){df(e.node(t))}),Dt.forEach(e.edges(),function(t){var n=e.edge(t);Dt.forEach(n.points,df),Dt.has(n,"y")&&df(n)})}function df(e){e.y=-e.y}function yq(e){Dt.forEach(e.nodes(),function(t){hf(e.node(t))}),Dt.forEach(e.edges(),function(t){var n=e.edge(t);Dt.forEach(n.points,hf),Dt.has(n,"x")&&hf(n)})}function hf(e){var t=e.x;e.x=e.y,e.y=t}var jt=Be,_q=bq;function bq(e){var t={},n=jt.filter(e.nodes(),function(s){return!e.children(s).length}),r=jt.max(jt.map(n,function(s){return e.node(s).rank})),i=jt.map(jt.range(r+1),function(){return[]});function o(s){if(!jt.has(t,s)){t[s]=!0;var u=e.node(s);i[u.rank].push(s),jt.forEach(e.successors(s),o)}}var a=jt.sortBy(n,function(s){return e.node(s).rank});return jt.forEach(a,o),i}var vn=Be,wq=Eq;function Eq(e,t){for(var n=0,r=1;r<t.length;++r)n+=xq(e,t[r-1],t[r]);return n}function xq(e,t,n){for(var r=vn.zipObject(n,vn.map(n,function(c,l){return l})),i=vn.flatten(vn.map(t,function(c){return vn.sortBy(vn.map(e.outEdges(c),function(l){return{pos:r[l.w],weight:e.edge(l).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=vn.map(new Array(a),function(){return 0}),u=0;return vn.forEach(i.forEach(function(c){var l=c.pos+o;s[l]+=c.weight;for(var f=0;l>0;)l%2&&(f+=s[l+1]),l=l-1>>1,s[l]+=c.weight;u+=c.weight*f})),u}var Zy=Be,Sq=Cq;function Cq(e,t){return Zy.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Zy.reduce(r,function(o,a){var s=e.edge(a),u=e.node(a.v);return{sum:o.sum+s.weight*u.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ht=Be,Iq=Tq;function Tq(e,t){var n={};ht.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};ht.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),ht.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!ht.isUndefined(o)&&!ht.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=ht.filter(n,function(i){return!i.indegree});return Nq(r)}function Nq(e){var t=[];function n(o){return function(a){a.merged||(ht.isUndefined(a.barycenter)||ht.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&Aq(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),ht.forEach(i.in.reverse(),n(i)),ht.forEach(i.out,r(i))}return ht.map(ht.filter(t,function(o){return!o.merged}),function(o){return ht.pick(o,["vs","i","barycenter","weight"])})}function Aq(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Or=Be,Mq=lt,Rq=Pq;function Pq(e,t){var n=Mq.partition(e,function(l){return Or.has(l,"barycenter")}),r=n.lhs,i=Or.sortBy(n.rhs,function(l){return-l.i}),o=[],a=0,s=0,u=0;r.sort(Oq(!!t)),u=Jy(o,i,u),Or.forEach(r,function(l){u+=l.vs.length,o.push(l.vs),a+=l.barycenter*l.weight,s+=l.weight,u=Jy(o,i,u)});var c={vs:Or.flatten(o,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function Jy(e,t,n){for(var r;t.length&&(r=Or.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function Oq(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var bn=Be,qq=Sq,Dq=Iq,$q=Rq,kq=G1;function G1(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,u={};a&&(i=bn.filter(i,function(y){return y!==a&&y!==s}));var c=qq(e,i);bn.forEach(c,function(y){if(e.children(y.v).length){var g=G1(e,y.v,n,r);u[y.v]=g,bn.has(g,"barycenter")&&Fq(y,g)}});var l=Dq(c,n);Lq(l,u);var f=$q(l,r);if(a&&(f.vs=bn.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var d=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);bn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function Lq(e,t){bn.forEach(e,function(n){n.vs=bn.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function Fq(e,t){bn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var qr=Be,Bq=Nt.Graph,zq=Hq;function Hq(e,t,n){var r=Vq(e),i=new Bq({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return qr.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),qr.forEach(e[n](o),function(u){var c=u.v===o?u.w:u.v,l=i.edge(c,o),f=qr.isUndefined(l)?0:l.weight;i.setEdge(c,o,{weight:e.edge(u).weight+f})}),qr.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function Vq(e){for(var t;e.hasNode(t=qr.uniqueId("_root")););return t}var Gq=Be,jq=Uq;function Uq(e,t,n){var r={},i;Gq.forEach(n,function(o){for(var a=e.parent(o),s,u;a;){if(s=e.parent(a),s?(u=r[s],r[s]=a):(u=i,i=a),u&&u!==a){t.setEdge(u,a);return}a=s}})}var En=Be,Kq=_q,Yq=wq,Wq=kq,Xq=zq,Zq=jq,Jq=Nt.Graph,Qy=lt,Qq=eD;function eD(e){var t=Qy.maxRank(e),n=e_(e,En.range(1,t+1),"inEdges"),r=e_(e,En.range(t-1,-1,-1),"outEdges"),i=Kq(e);t_(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,u=0;u<4;++s,++u){tD(s%2?n:r,s%4>=2),i=Qy.buildLayerMatrix(e);var c=Yq(e,i);c<o&&(u=0,a=En.cloneDeep(i),o=c)}t_(e,a)}function e_(e,t,n){return En.map(t,function(r){return Xq(e,r,n)})}function tD(e,t){var n=new Jq;En.forEach(e,function(r){var i=r.graph().root,o=Wq(r,i,n,t);En.forEach(o.vs,function(a,s){r.node(a).order=s}),Zq(r,n,o.vs)})}function t_(e,t){En.forEach(t,function(n){En.forEach(n,function(r,i){e.node(r).order=i})})}var ge=Be,nD=Nt.Graph,rD=lt,iD={positionX:pD};function oD(e,t){var n={};function r(i,o){var a=0,s=0,u=i.length,c=ge.last(o);return ge.forEach(o,function(l,f){var d=sD(e,l),h=d?e.node(d).order:u;(d||l===c)&&(ge.forEach(o.slice(s,f+1),function(y){ge.forEach(e.predecessors(y),function(g){var w=e.node(g),S=w.order;(S<a||h<S)&&!(w.dummy&&e.node(y).dummy)&&j1(n,g,y)})}),s=f+1,a=h)}),o}return ge.reduce(t,r),n}function aD(e,t){var n={};function r(o,a,s,u,c){var l;ge.forEach(ge.range(a,s),function(f){l=o[f],e.node(l).dummy&&ge.forEach(e.predecessors(l),function(d){var h=e.node(d);h.dummy&&(h.order<u||h.order>c)&&j1(n,d,l)})})}function i(o,a){var s=-1,u,c=0;return ge.forEach(a,function(l,f){if(e.node(l).dummy==="border"){var d=e.predecessors(l);d.length&&(u=e.node(d[0]).order,r(a,c,f,s,u),c=f,s=u)}r(a,c,a.length,u,o.length)}),a}return ge.reduce(t,i),n}function sD(e,t){if(e.node(t).dummy)return ge.find(e.predecessors(t),function(n){return e.node(n).dummy})}function j1(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function uD(e,t,n){if(t>n){var r=t;t=n,n=r}return ge.has(e[t],n)}function lD(e,t,n,r){var i={},o={},a={};return ge.forEach(t,function(s){ge.forEach(s,function(u,c){i[u]=u,o[u]=u,a[u]=c})}),ge.forEach(t,function(s){var u=-1;ge.forEach(s,function(c){var l=r(c);if(l.length){l=ge.sortBy(l,function(g){return a[g]});for(var f=(l.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var y=l[d];o[c]===c&&u<a[y]&&!uD(n,c,y)&&(o[y]=c,o[c]=i[c]=i[y],u=a[y])}}})}),{root:i,align:o}}function cD(e,t,n,r,i){var o={},a=fD(e,t,n,i),s=i?"borderLeft":"borderRight";function u(f,d){for(var h=a.nodes(),y=h.pop(),g={};y;)g[y]?f(y):(g[y]=!0,h.push(y),h=h.concat(d(y))),y=h.pop()}function c(f){o[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+a.edge(h))},0)}function l(f){var d=a.outEdges(f).reduce(function(y,g){return Math.min(y,o[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[f]=Math.max(o[f],d))}return u(c,a.predecessors.bind(a)),u(l,a.successors.bind(a)),ge.forEach(r,function(f){o[f]=o[n[f]]}),o}function fD(e,t,n,r){var i=new nD,o=e.graph(),a=gD(o.nodesep,o.edgesep,r);return ge.forEach(t,function(s){var u;ge.forEach(s,function(c){var l=n[c];if(i.setNode(l),u){var f=n[u],d=i.edge(f,l);i.setEdge(f,l,Math.max(a(e,c,u),d||0))}u=c})}),i}function dD(e,t){return ge.minBy(ge.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ge.forIn(n,function(o,a){var s=mD(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function hD(e,t){var n=ge.values(t),r=ge.min(n),i=ge.max(n);ge.forEach(["u","d"],function(o){ge.forEach(["l","r"],function(a){var s=o+a,u=e[s],c;if(u!==t){var l=ge.values(u);c=a==="l"?r-ge.min(l):i-ge.max(l),c&&(e[s]=ge.mapValues(u,function(f){return f+c}))}})})}function vD(e,t){return ge.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ge.sortBy(ge.map(e,r));return(i[1]+i[2])/2})}function pD(e){var t=rD.buildLayerMatrix(e),n=ge.merge(oD(e,t),aD(e,t)),r={},i;ge.forEach(["u","d"],function(a){i=a==="u"?t:ge.values(t).reverse(),ge.forEach(["l","r"],function(s){s==="r"&&(i=ge.map(i,function(f){return ge.values(f).reverse()}));var u=(a==="u"?e.predecessors:e.successors).bind(e),c=lD(e,i,n,u),l=cD(e,i,c.root,c.align,s==="r");s==="r"&&(l=ge.mapValues(l,function(f){return-f})),r[a+s]=l})});var o=dD(e,r);return hD(r,o),vD(r,e.graph().align)}function gD(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),u=0,c;if(u+=a.width/2,ge.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=n?c:-c),c=0,u+=(a.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,ge.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(u+=n?c:-c),c=0,u}}function mD(e,t){return e.node(t).width}var Dr=Be,U1=lt,yD=iD.positionX,_D=bD;function bD(e){e=U1.asNonCompoundGraph(e),wD(e),Dr.forEach(yD(e),function(t,n){e.node(n).x=t})}function wD(e){var t=U1.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Dr.forEach(t,function(i){var o=Dr.max(Dr.map(i,function(a){return e.node(a).height}));Dr.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var be=Be,n_=fO,r_=NO,ED=JO,xD=lt.normalizeRanks,SD=nq,CD=lt.removeEmptyRanks,i_=aq,ID=dq,o_=vq,TD=Qq,ND=_D,Cn=lt,AD=Nt.Graph,MD=RD;function RD(e,t){var n=t&&t.debugTiming?Cn.time:Cn.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return HD(e)});n("  runLayout",function(){PD(r,n)}),n("  updateInputGraph",function(){OD(e,r)})})}function PD(e,t){t("    makeSpaceForEdgeLabels",function(){VD(e)}),t("    removeSelfEdges",function(){JD(e)}),t("    acyclic",function(){n_.run(e)}),t("    nestingGraph.run",function(){i_.run(e)}),t("    rank",function(){ED(Cn.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){GD(e)}),t("    removeEmptyRanks",function(){CD(e)}),t("    nestingGraph.cleanup",function(){i_.cleanup(e)}),t("    normalizeRanks",function(){xD(e)}),t("    assignRankMinMax",function(){jD(e)}),t("    removeEdgeLabelProxies",function(){UD(e)}),t("    normalize.run",function(){r_.run(e)}),t("    parentDummyChains",function(){SD(e)}),t("    addBorderSegments",function(){ID(e)}),t("    order",function(){TD(e)}),t("    insertSelfEdges",function(){QD(e)}),t("    adjustCoordinateSystem",function(){o_.adjust(e)}),t("    position",function(){ND(e)}),t("    positionSelfEdges",function(){e$(e)}),t("    removeBorderNodes",function(){ZD(e)}),t("    normalize.undo",function(){r_.undo(e)}),t("    fixupEdgeLabelCoords",function(){WD(e)}),t("    undoCoordinateSystem",function(){o_.undo(e)}),t("    translateGraph",function(){KD(e)}),t("    assignNodeIntersects",function(){YD(e)}),t("    reversePoints",function(){XD(e)}),t("    acyclic.undo",function(){n_.undo(e)})}function OD(e,t){be.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),be.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,be.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var qD=["nodesep","edgesep","ranksep","marginx","marginy"],DD={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$D=["acyclicer","ranker","rankdir","align"],kD=["width","height"],LD={width:0,height:0},FD=["minlen","weight","width","height","labeloffset"],BD={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},zD=["labelpos"];function HD(e){var t=new AD({multigraph:!0,compound:!0}),n=pf(e.graph());return t.setGraph(be.merge({},DD,vf(n,qD),be.pick(n,$D))),be.forEach(e.nodes(),function(r){var i=pf(e.node(r));t.setNode(r,be.defaults(vf(i,kD),LD)),t.setParent(r,e.parent(r))}),be.forEach(e.edges(),function(r){var i=pf(e.edge(r));t.setEdge(r,be.merge({},BD,vf(i,FD),be.pick(i,zD)))}),t}function VD(e){var t=e.graph();t.ranksep/=2,be.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function GD(e){be.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Cn.addDummyNode(e,"edge-proxy",o,"_ep")}})}function jD(e){var t=0;be.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=be.max(t,r.maxRank))}),e.graph().maxRank=t}function UD(e){be.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function KD(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function u(c){var l=c.x,f=c.y,d=c.width,h=c.height;t=Math.min(t,l-d/2),n=Math.max(n,l+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}be.forEach(e.nodes(),function(c){u(e.node(c))}),be.forEach(e.edges(),function(c){var l=e.edge(c);be.has(l,"x")&&u(l)}),t-=a,r-=s,be.forEach(e.nodes(),function(c){var l=e.node(c);l.x-=t,l.y-=r}),be.forEach(e.edges(),function(c){var l=e.edge(c);be.forEach(l.points,function(f){f.x-=t,f.y-=r}),be.has(l,"x")&&(l.x-=t),be.has(l,"y")&&(l.y-=r)}),o.width=n-t+a,o.height=i-r+s}function YD(e){be.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Cn.intersectRect(r,o)),n.points.push(Cn.intersectRect(i,a))})}function WD(e){be.forEach(e.edges(),function(t){var n=e.edge(t);if(be.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function XD(e){be.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function ZD(e){be.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(be.last(n.borderLeft)),a=e.node(be.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),be.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function JD(e){be.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function QD(e){var t=Cn.buildLayerMatrix(e);be.forEach(t,function(n){var r=0;be.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,be.forEach(a.selfEdges,function(s){Cn.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function e$(e){be.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function vf(e,t){return be.mapValues(be.pick(e,t),Number)}function pf(e){var t={};return be.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Mi=Be,t$=lt,n$=Nt.Graph,r$={debugOrdering:i$};function i$(e){var t=t$.buildLayerMatrix(e),n=new n$({compound:!0,multigraph:!0}).setGraph({});return Mi.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Mi.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Mi.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Mi.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var o$="0.8.5",a$={graphlib:Nt,layout:MD,debug:r$,util:{time:lt.time,notime:lt.notime},version:o$};const a_=cM(a$),s$={class:"node-content"},u$=["innerHTML"],l$=["value"],c$={key:0,class:"ports"},f$={class:"port-label"},d$=["value","onChange"],h$=qe({__name:"CustomNode",props:["id","data","sourcePosition","targetPosition","showPorts","definition","isEditing"],emits:["update-attribute","save-label","cancel-edit"],setup(e,{emit:t}){const n=e,r=t,i=de(()=>{var d;return(((d=n.data)==null?void 0:d.type)||"default").toLowerCase()}),o=de(()=>{var h;if(!((h=n.data)!=null&&h.status))return"transparent";const d=n.data.status.toUpperCase();return d==="SUCCESS"?"#4caf50":d==="FAILURE"?"#f44336":d==="RUNNING"?"#ffeb3b":"transparent"}),a=de(()=>{var y,g;const d=(((y=n.data)==null?void 0:y.label)||"").toLowerCase(),h=(((g=n.data)==null?void 0:g.type)||"").toLowerCase();return d.includes("sequence")||d==="sequence"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4z" fill="currentColor"/></svg>':d.includes("fallback")||d==="fallback"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" fill="currentColor"/></svg>':d.includes("parallel")?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 2v20M8 2v20M16 2v20" stroke="currentColor" stroke-width="2"/></svg>':h==="action"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M7 2v11h3v9l7-12h-4l4-8z" fill="currentColor"/></svg>':h==="condition"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" fill="currentColor"/></svg>':h==="control"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 2L2 22h20L12 2z" fill="currentColor" /></svg>':h==="decorator"?'<svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 2l10 10-10 10-10-10z" fill="currentColor" /></svg>':""}),s=de(()=>{if(!n.data)return[];const d=n.data.attributes||{},h=[],y=new Set;return n.definition&&n.definition.ports&&n.definition.ports.forEach(g=>{h.push({key:g.name,value:d[g.name]||g.default||"",isDefault:!d[g.name]}),y.add(g.name)}),Object.entries(d).forEach(([g,w])=>{g!=="ID"&&g!=="name"&&!y.has(g)&&h.push({key:g,value:w,isDefault:!1})}),h});function u(d,h){const y=h.target.value;r("update-attribute",{nodeId:n.id,attr:d,value:y})}function c(d){const h=d.target.value;h.trim()?r("save-label",{nodeId:n.id,newLabel:h.trim()}):r("cancel-edit")}function l(){r("cancel-edit")}const f={mounted:d=>d.focus()};return(d,h)=>(ne(),fe("div",{class:St(["custom-node",i.value]),style:st({borderColor:o.value,boxShadow:o.value!=="transparent"?`0 0 5px ${o.value}`:"none"})},[Ne(Q(gr),{type:"target",position:e.targetPosition||Q(ae).Top,class:"handle"},null,8,["position"]),Se("div",s$,[Se("div",{class:"icon",innerHTML:a.value},null,8,u$),e.isEditing?Bw((ne(),fe("input",{key:1,class:"label-input",type:"text",value:e.data.label,onBlur:c,onKeydown:[dh(c,["enter"]),dh(l,["escape"])],onMousedown:h[1]||(h[1]=xb(()=>{},["stop"]))},null,40,l$)),[[f]]):(ne(),fe("div",{key:0,class:"label",onDblclick:h[0]||(h[0]=y=>d.$emit("request-edit",e.id))},vt(e.data.label),33))]),e.showPorts&&s.value&&s.value.length>0?(ne(),fe("div",c$,[(ne(!0),fe(Oe,null,lr(s.value,y=>(ne(),fe("div",{key:y.key,class:"port-item"},[Se("span",f$,vt(y.key)+":",1),Se("input",{type:"text",value:y.value,onChange:g=>u(y.key,g),class:"port-input"},null,40,d$)]))),128))])):Fe("",!0),d.isLeaf?Fe("",!0):(ne(),je(Q(gr),{key:1,type:"source",position:e.sourcePosition||Q(ae).Bottom,class:"handle"},null,8,["position"]))],6))}}),K1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},v$=K1(h$,[["__scopeId","data-v-a075db13"]]),p$=qe({__name:"ContextMenu",props:{x:{type:Number,required:!0},y:{type:Number,required:!0},type:{type:String,required:!0}},emits:["close","delete","rename"],setup(e,{emit:t}){const n=e,r=t;function i(){r("delete"),r("close")}function o(){r("rename"),r("close")}const a=de(()=>({top:`${n.y}px`,left:`${n.x}px`}));return(s,u)=>(ne(),fe(Oe,null,[Se("div",{class:"context-menu",style:st(a.value),onClick:u[0]||(u[0]=xb(()=>{},["stop"]))},[Se("div",{class:"menu-item",onClick:i}," Delete "+vt(e.type),1),e.type==="node"?(ne(),fe("div",{key:0,class:"menu-item",onClick:o}," Rename Node ")):Fe("",!0)],4),Se("div",{class:"context-menu-overlay",onClick:u[1]||(u[1]=c=>s.$emit("close"))})],64))}}),g$=K1(p$,[["__scopeId","data-v-ea028131"]]),m$={class:"app-container"},y$={key:0,style:{color:"red",padding:"20px",background:"white",border:"1px solid red","z-index":"9999",position:"absolute"}},_$={class:"toolbar"},b$={key:0,class:"sidebar"},w$={key:0,class:"group-title"},E$=["onDragstart"],x$={class:"flow-container"},s_=172,S$=36,C$=qe({__name:"App",setup(e){const t=Me("editor"),n=Me(null),r=Me(new Map),i=Me(!0),o=Me("TB"),a=Me(!1),s=Me("");K_(v=>(console.error("Captured Error:",v),s.value=String(v),!1));const u=Me({Sequence:{type:"Control",ports:[]},Fallback:{type:"Control",ports:[]},Action:{type:"Action",ports:[]},Condition:{type:"Condition",ports:[]}}),c=de(()=>{const v={Control:[],Decorator:[],Action:[],Condition:[]};for(const[p,m]of Object.entries(u.value)){const _=m.type;v[_]?v[_].push(p):(v.Action||(v.Action=[]),v.Action.push(p))}return v}),{onConnect:l,addEdges:f,onNodeDragStop:d,fitView:h,setNodes:y,setEdges:g,applyNodeChanges:w,applyEdgeChanges:S,removeNodes:T,removeEdges:x,project:I}=Le(),D=Me([]),$=Me([]);function F(v){v.forEach(p=>{var m;if(p.type==="remove"){pe.postMessage({type:"delete_node",id:p.id});const _=D.value.find(E=>E.id===p.id);(m=_==null?void 0:_.data)!=null&&m.xmlId&&r.value.delete(_.data.xmlId)}})}function H(v){v.forEach(p=>{if(p.type==="remove"){const m=$.value.find(_=>_.id===p.id);m&&pe.postMessage({type:"delete_edge",targetId:m.target})}})}function U(v){t.value==="editor"&&(v.event.preventDefault(),n.value={x:v.event.clientX,y:v.event.clientY,type:"node",id:v.node.id})}function j(v){t.value==="editor"&&(v.event.preventDefault(),n.value={x:v.event.clientX,y:v.event.clientY,type:"edge",id:v.edge.id})}function L(){n.value&&(n.value.type==="node"?T([n.value.id]):x([n.value.id]),n.value=null)}const A=Me(null);function X(){!n.value||n.value.type!=="node"||(A.value=n.value.id,n.value=null)}function N(v){const p=D.value.find(m=>m.id===v.nodeId);p&&p.data.label!==v.newLabel&&(p.data.label=v.newLabel,p.label=v.newLabel,pe.postMessage({type:"rename_node",id:v.nodeId,newName:v.newLabel})),A.value=null}function V(){A.value=null}function R(v){A.value=v}function B(v){if(u.value[v])return u.value[v].type.toLowerCase();const p=v.toLowerCase();return["sequence","fallback","parallel","reactivesequence","reactivefallback","switch2","switch3","switch4","if","while"].includes(p)?"control":["inverter","forcesuccess","forcefailure","repeat","retry","timeout","delay","keeprunninguntilfailure","alwayssuccess","alwaysfailure"].includes(p)?"decorator":v.includes("Condition")?"condition":"action"}function z(v){const p=new Map;D.value.forEach(ie=>{var oe;(oe=ie.data)!=null&&oe.xmlId&&p.set(ie.data.xmlId,ie.position)});const _=new DOMParser().parseFromString(v,"text/xml"),E=_.querySelector("parsererror");if(E){console.error("XML Parsing Error",E.textContent);return}const M=[],P=[];function O(ie){const oe={};for(let xe=0;xe<ie.attributes.length;xe++){const _e=ie.attributes[xe];oe[_e.name]=_e.value}return oe}function k(ie,oe,xe){if(ie.nodeType!==1)return;const _e=oe,We=ie.tagName,Qe=ie.getAttribute("name"),et=B(We);M.push({id:_e,type:"custom",label:Qe||We,data:{label:Qe||We,type:et,originalName:We,xmlId:ie.getAttribute("ID"),attributes:O(ie)},position:{x:0,y:0}}),xe&&P.push({id:`e${xe}-${_e}`,source:xe,target:_e,type:"default"});let ct=0;for(let Xe=0;Xe<ie.children.length;Xe++){const ft=ie.children[Xe];ft.nodeType===1&&(k(ft,`${oe}-${ct}`,_e),ct++)}}const q=_.documentElement;let G=null,K="0";if(q.tagName==="root"){const ie=q.getAttribute("main_tree_to_execute");let oe=0;for(let xe=0;xe<q.children.length;xe++){const _e=q.children[xe];if(_e.nodeType===1){if(ie&&_e.getAttribute("ID")===ie){G=_e,K=`0-${oe}`;break}if(!ie&&_e.tagName==="BehaviorTree"){G=_e,K=`0-${oe}`;break}oe++}}}else G=q,K="0";if(G){let ie=0;for(let oe=0;oe<G.children.length;oe++){const xe=G.children[oe];xe.nodeType===1&&(k(xe,`${K}-${ie}`,null),ie++)}}const ue=re(M,P,o.value);ue.nodes.forEach(ie=>{const oe=ie.data.xmlId;if(oe&&r.value.has(oe)){console.log(`[Reconciliation] Found cached position for ${oe}:`,r.value.get(oe)),ie.position=r.value.get(oe);return}else oe&&console.log(`[Reconciliation] No cached position for ${oe}. Cache keys:`,[...r.value.keys()]);if(!ue.edges.some(_e=>_e.target===ie.id)&&oe){const _e=p.get(oe);_e&&(ie.position=_e,r.value.set(oe,_e))}}),D.value=ue.nodes,$.value=ue.edges,i.value&&(h(),i.value=!1)}function W(v){const _=new DOMParser().parseFromString(v,"text/xml").getElementsByTagName("TreeNodesModel")[0];if(!_)return;const E={};for(let M=0;M<_.children.length;M++){const P=_.children[M];if(P.nodeType!==1)continue;const O=P.tagName,k=P.getAttribute("ID");if(!k)continue;let q="Action";(O==="Action"||O==="Condition"||O==="Control"||O==="Decorator")&&(q=O);const G=[];for(let K=0;K<P.children.length;K++){const ue=P.children[K];ue.nodeType===1&&(ue.tagName==="input_port"||ue.tagName==="output_port"||ue.tagName==="inout_port")&&G.push({name:ue.getAttribute("name")||"",type:ue.getAttribute("type")||"string",default:ue.getAttribute("default")||void 0,description:ue.textContent||""})}E[k]={type:q,ports:G}}u.value={...u.value,...E}}l(v=>{f({...v,type:"default"}),pe.postMessage({type:"reparent_node",sourceId:v.target,targetId:v.source})});const Y=new a_.graphlib.Graph;Y.setDefaultEdgeLabel(()=>({}));function Z(v){if(!v)return 0;try{return Object.keys(v).filter(p=>p!=="ID"&&p!=="name").length}catch(p){return console.error("Error counting attributes:",p),0}}function re(v,p,m="TB"){const _=m==="LR";return Y.setGraph({rankdir:m}),v.forEach(E=>{let M=S$;if(a.value){const P=Z(E.data.attributes);P>0&&(M+=8,M+=P*32)}Y.setNode(E.id,{width:s_,height:M})}),p.forEach(E=>{Y.setEdge(E.source,E.target)}),a_.layout(Y),v.forEach(E=>{const M=Y.node(E.id);E.targetPosition=_?ae.Left:ae.Top,E.sourcePosition=_?ae.Right:ae.Bottom,E.position={x:M.x-s_/2,y:M.y-M.height/2}}),{nodes:v,edges:p}}function le(v){var k;const p=v.node;if(!p)return;(k=p.data)!=null&&k.xmlId&&r.value.set(p.data.xmlId,{...p.position});const m=$.value.find(q=>q.target===p.id);if(!m)return;const _=m.source,M=$.value.filter(q=>q.source===_).map(q=>q.target),P=D.value.filter(q=>M.includes(q.id)).map(q=>q.id===p.id?{...q,position:p.position}:q);o.value==="LR"?P.sort((q,G)=>q.position.y-G.position.y):P.sort((q,G)=>q.position.x-G.position.x);const O=P.map(q=>q.id);pe.postMessage({type:"reorder_children",parentId:_,newOrder:O})}function me(v,p){v.dataTransfer&&(v.dataTransfer.setData("application/vueflow",p),v.dataTransfer.effectAllowed="move")}function te(v){v.preventDefault(),v.dataTransfer&&(v.dataTransfer.dropEffect="move")}function J(v){var P;const p=(P=v.dataTransfer)==null?void 0:P.getData("application/vueflow");if(!p)return;const{left:m,top:_}=(document.querySelector(".vue-flow__pane")||document.body).getBoundingClientRect(),E=I({x:v.clientX-m,y:v.clientY-_}),M=`${p}_${Date.now()}_${Math.random().toString(36).substr(2,5)}`;r.value.set(M,E),pe.postMessage({type:"add_node",nodeType:p,id:M}),console.log(`[DnD] Dropped node. Generated ID: ${M}, Position:`,E)}function se(){t.value=t.value==="editor"?"inspection":"editor",pe.postMessage({type:"switchMode",mode:t.value})}function ye(){o.value=o.value==="TB"?"LR":"TB",r.value.clear();const v=re(D.value,$.value,o.value);D.value=[...v.nodes],$.value=[...v.edges],setTimeout(()=>h({padding:.2}),50)}function Ee(){pe.postMessage({type:"loadLibrary"})}function ce(){a.value=!a.value;const v=re(D.value,$.value,o.value);D.value=[...v.nodes],$.value=[...v.edges],setTimeout(()=>h({padding:.2}),50)}const pe=acquireVsCodeApi();function b(v){v.event_log&&v.event_log.forEach(p=>{const m=D.value.find(_=>_.id===p.node_name||_.data.originalName===p.node_name);m&&(m.data={...m.data,status:p.current_status})})}window.addEventListener("message",v=>{const p=v.data;switch(p.type){case"update":z(p.text);break;case"status_update":t.value==="inspection"&&b(p.data);break;case"library_loaded":W(p.xml);break}});function C(v){pe.postMessage({type:"editAttribute",nodeId:v.nodeId,attr:v.attr,value:v.value})}return(v,p)=>(ne(),fe("div",m$,[s.value?(ne(),fe("div",y$," CRITICAL ERROR: "+vt(s.value),1)):Fe("",!0),Se("div",_$,[Se("button",{onClick:se}," Mode: "+vt(t.value==="editor"?"Editor":"Inspection"),1),Se("button",{onClick:ye}," Layout: "+vt(o.value==="TB"?"Vertical":"Horizontal"),1),Se("button",{onClick:ce},vt(a.value?"Hide Ports":"Show Ports"),1),Se("button",{onClick:Ee}," Load Library ")]),Se("div",{class:"dnd-flow",onDrop:J,onDragover:te},[t.value==="editor"?(ne(),fe("div",b$,[p[3]||(p[3]=Se("div",{class:"description"},"Drag nodes to the pane",-1)),(ne(!0),fe(Oe,null,lr(c.value,(m,_)=>(ne(),fe("div",{key:_},[m.length>0?(ne(),fe("div",w$,vt(_),1)):Fe("",!0),(ne(!0),fe(Oe,null,lr(m,E=>(ne(),fe("div",{key:E,class:St(["dndnode",_.toLowerCase()==="control"?"input":_.toLowerCase()==="condition"?"output":_.toLowerCase()==="decorator"?"decorator":"default"]),draggable:"true",onDragstart:M=>me(M,E)},vt(E),43,E$))),128))]))),128))])):Fe("",!0),Se("div",x$,[Ne(Q(xA),{nodes:D.value,"onUpdate:nodes":p[0]||(p[0]=m=>D.value=m),edges:$.value,"onUpdate:edges":p[1]||(p[1]=m=>$.value=m),"fit-view-on-init":!0,"delete-key-code":["Backspace","Delete"],onConnect:Q(l),onNodeDragStop:le,onNodesChange:F,onEdgesChange:H,onNodeContextMenu:U,onEdgeContextMenu:j},{"node-custom":bt(m=>[Ne(v$,{id:m.id,data:m.data,"source-position":m.sourcePosition,"target-position":m.targetPosition,"show-ports":a.value,definition:u.value[m.data.label]||u.value[m.data.originalName],"is-editing":A.value===m.id,onUpdateAttribute:C,onSaveLabel:N,onCancelEdit:V,onRequestEdit:R},null,8,["id","data","source-position","target-position","show-ports","definition","is-editing"])]),default:bt(()=>[Ne(Q(PA)),Ne(Q(lM))]),_:1},8,["nodes","edges","onConnect"])])],32),n.value?(ne(),je(g$,{key:1,x:n.value.x,y:n.value.y,type:n.value.type,onClose:p[2]||(p[2]=m=>n.value=null),onDelete:L,onRename:X},null,8,["x","y","type"])):Fe("",!0)]))}}),Y1=vx(C$);Y1.config.errorHandler=e=>{console.error("Global Vue Error:",e),document.body.innerHTML=`<div style="color: red; padding: 20px; font-size: 20px;">
        Global Error: ${String(e)}<br>
        Check console for details.
    </div>`};Y1.mount("#app");
